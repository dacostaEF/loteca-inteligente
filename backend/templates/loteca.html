<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Raio-X da Loteca - Loterias Inteligente</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='Favicon_LI.png') }}">
    <link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='Favicon_LI.png') }}">
    
    <!-- META TAGS PARA AMBIENTE MÓVEL COM DESTAQUE LILÁS -->
    <meta name="theme-color" content="#A855F7">
    <meta name="msapplication-navbutton-color" content="#A855F7">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* CSS EMBUTIDO PARA UMA PÁGINA INDEPENDENTE */
        
        :root {
            --cor-fundo: #12101a;
            --cor-fundo-card: #1e1b29;
            --cor-borda: #3a364f;
            --cor-texto-principal: #e2e8f0;
            --cor-texto-secundario: #94a3b8;
            --cor-destaque-primaria: #A855F7; /* Lilás */
            --cor-destaque-secundaria: #00E38C; /* Verde */
            --cor-vantagem: #00E38C;
            --cor-desvantagem: #F43F5E; /* Vermelho/Rosa */
            --cor-equilibrio: #FBBF24; /* Amarelo */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--cor-fundo );
            color: var(--cor-texto-principal);
            margin: 0;
            padding: 0;
            
            /* MOLDURA NEON LILÁS - EFEITO LOTERIAS INTELIGENTE */
            box-shadow: 
                inset 0 0 0 3px var(--cor-destaque-primaria),
                inset 0 0 20px rgba(168, 85, 247, 0.3),
                0 0 40px rgba(168, 85, 247, 0.2);
            min-height: 100vh;
            position: relative;
        }
        
        /* MOLDURA NEON PARA TABLETS */
        @media (max-width: 1024px) and (min-width: 769px) {
            body {
                box-shadow: 
                    inset 0 0 0 4px var(--cor-destaque-primaria),
                    inset 0 0 25px rgba(168, 85, 247, 0.35),
                    0 0 50px rgba(168, 85, 247, 0.25);
                animation: neonPulse 4s ease-in-out infinite alternate;
            }
        }

        /* MOLDURA NEON ADICIONAL PARA DISPOSITIVOS MÓVEIS */
        @media (max-width: 768px) {
            body {
                box-shadow: 
                    inset 0 0 0 2px var(--cor-destaque-primaria),
                    inset 0 0 15px rgba(168, 85, 247, 0.4),
                    0 0 30px rgba(168, 85, 247, 0.3);
                animation: neonPulse 3s ease-in-out infinite alternate;
            }
        }
        
        /* ANIMAÇÃO NEON PULSANTE */
        @keyframes neonPulse {
            0% {
                box-shadow: 
                    inset 0 0 0 3px var(--cor-destaque-primaria),
                    inset 0 0 20px rgba(168, 85, 247, 0.3),
                    0 0 40px rgba(168, 85, 247, 0.2);
            }
            100% {
                box-shadow: 
                    inset 0 0 0 3px var(--cor-destaque-primaria),
                    inset 0 0 25px rgba(168, 85, 247, 0.5),
                    0 0 60px rgba(168, 85, 247, 0.4);
            }
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        /* Cabeçalho */
        .header {
            text-align: center;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--cor-borda);
            margin-bottom: 2rem;
            
            /* BRILHO NEON NO HEADER */
            background: linear-gradient(135deg, 
                rgba(168, 85, 247, 0.05) 0%, 
                transparent 50%, 
                rgba(0, 227, 140, 0.05) 100%);
            border-radius: 15px;
            position: relative;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, 
                transparent 0%, 
                rgba(168, 85, 247, 0.1) 25%, 
                transparent 50%, 
                rgba(0, 227, 140, 0.1) 75%, 
                transparent 100%);
            border-radius: 15px;
            animation: headerShimmer 4s ease-in-out infinite;
            z-index: -1;
        }
        
        @keyframes headerShimmer {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.7; }
        }

        .header .logo-link {
            display: inline-block;
            transition: all 0.3s ease;
            text-decoration: none;
            margin-bottom: 1rem;
        }

        .header .logo-link:hover {
            transform: scale(1.05);
            filter: brightness(1.1);
        }

        .header img.logo {
            max-width: 250px;
            height: auto;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--cor-destaque-primaria);
            margin: 0;
        }

        .header p {
            font-size: 1.1rem;
            color: var(--cor-texto-secundario);
            max-width: 600px;
            margin: 0.5rem auto 0;
        }

        /* Card de Análise do Jogo */
        .game-card {
            background-color: var(--cor-fundo-card);
            border: 1px solid var(--cor-borda);
            border-radius: 12px;
            margin-bottom: 2.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .game-card-header {
            padding: 1.5rem;
            background: linear-gradient(135deg, rgba(42,35,64,.95), rgba(30,27,41,.95));
        }

        .game-card-header h2 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--cor-texto-principal);
            text-align: center;
        }
        
        .game-card-header .game-info {
            text-align: center;
            font-size: 0.9rem;
            color: var(--cor-texto-secundario);
            margin-top: 0.5rem;
        }

        /* ESTILO PARA ESCUDOS DOS TIMES */
        .escudo-time {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid white;
            box-shadow: 0 3px 6px rgba(0,0,0,0.3);
            margin: 0 12px;
        }

        .confronto-visual {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 15px 0 10px 0;
            flex-wrap: wrap;
        }

        .time-info {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 16px;
            font-weight: 600;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
        }

        .vs-divider {
            font-size: 20px;
            font-weight: bold;
            margin: 0 15px;
            opacity: 0.9;
            color: var(--cor-destaque-secundaria);
        }

        @media (max-width: 768px) {
            .escudo-time {
                width: 40px;
                height: 40px;
                margin: 0 8px;
            }
            
            .time-info {
                font-size: 14px;
            }
            
            .vs-divider {
                font-size: 18px;
                margin: 0 10px;
            }
        }

        .game-card-body {
            padding: 1.5rem;
        }

        /* Seção de Probabilidades */
        .probabilities {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .prob-item {
            background-color: rgba(0,0,0,0.2);
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid var(--cor-borda);
        }

        .prob-item .label {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--cor-texto-secundario);
        }

        .prob-item .value {
            font-size: 2.2rem;
            font-weight: 800;
            margin-top: 0.5rem;
        }
        
        .prob-item.col1 .value { color: var(--cor-destaque-secundaria); }
        .prob-item.colX .value { color: var(--cor-equilibrio); }
        .prob-item.col2 .value { color: var(--cor-destaque-primaria); }

        /* Recomendação */
        .recommendation {
            background-color: rgba(0, 227, 140, 0.1);
            border: 1px solid var(--cor-destaque-secundaria);
            color: var(--cor-destaque-secundaria);
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .recommendation strong {
            font-size: 1.1rem;
            font-weight: 700;
        }

        /* Tabela Raio-X */
        .analysis-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 2rem;
        }

        .analysis-table th, .analysis-table td {
            padding: 0.8rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--cor-borda);
        }

        .analysis-table th {
            color: var(--cor-texto-secundario);
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .analysis-table td {
            font-weight: 500;
        }
        
        .analysis-table .team-header {
            text-align: center;
        }

        .status-icon {
            font-size: 1.2rem;
            margin-right: 0.5rem;
        }
        
        .status-icon.vantagem { color: var(--cor-vantagem); }
        .status-icon.desvantagem { color: var(--cor-desvantagem); }
        .status-icon.equilibrio { color: var(--cor-equilibrio); }

        /* Conclusão do Analista */
        .analyst-conclusion {
            background-color: rgba(0,0,0,0.2);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid var(--cor-destaque-primaria);
        }
        
        .analyst-conclusion h4 {
            margin: 0 0 0.5rem 0;
            color: var(--cor-destaque-primaria);
            font-weight: 700;
        }
        
        .analyst-conclusion p {
            margin: 0;
            line-height: 1.6;
            color: var(--cor-texto-secundario);
        }
        
        /* Rodapé */
        .footer {
            text-align: center;
            padding: 2rem 1rem;
            border-top: 1px solid var(--cor-borda);
            margin-top: 2rem;
            font-size: 0.9rem;
            color: var(--cor-texto-secundario);
        }
        
        .footer a {
            color: var(--cor-destaque-secundaria);
            text-decoration: none;
            font-weight: 600;
        }

        /* ESTILOS DO RODAPÉ CTA */
        .footer-cta {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(0, 227, 140, 0.1));
            border: 1px solid var(--cor-borda);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .footer-cta h3 {
            color: var(--cor-destaque-primaria);
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0 0 1rem 0;
        }

        .footer-cta p {
            color: var(--cor-texto-secundario);
            font-size: 1.1rem;
            margin: 0 0 1.5rem 0;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .footer-cta-btn {
            display: inline-block;
            background: linear-gradient(135deg, var(--cor-destaque-secundaria), #00B377);
            color: white !important;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-weight: 700;
            font-size: 1.1rem;
            text-decoration: none !important;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 227, 140, 0.3);
        }

        .footer-cta-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 227, 140, 0.4);
            filter: brightness(1.1);
        }

        .footer-legal {
            text-align: center;
            padding-top: 1rem;
            border-top: 1px solid var(--cor-borda);
        }

        .footer-legal p {
            margin-bottom: 0.5rem;
        }

        /* ESTILOS DO RODAPÉ DE POLÍTICA DE HONESTIDADE */
        .honesty-footer {
            background: linear-gradient(135deg, rgba(30,27,41,.95), rgba(42,35,64,.95));
            border-top: 1px solid rgba(255,255,255,0.08);
            padding: 10px 16px;
            font-size: 0.84rem;
            color: #cbd5e1;
            margin-top: 1rem;
        }

        .honesty-row {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 10px;
            align-items: center;
        }

        .honesty-footer strong {
            color: #A855F7;
            font-weight: 700;
        }

        .honesty-footer a {
            color: #10b981;
            text-decoration: none;
            border-bottom: 1px dotted rgba(16,185,129,.35);
        }

        .honesty-footer a:hover {
            color: #059669;
            border-bottom-color: transparent;
        }

        .honesty-text {
            opacity: 0.9;
        }

        .honesty-toggle {
            background: transparent;
            border: 1px solid rgba(168,85,247,.6);
            color: #A855F7;
            font-weight: 600;
            padding: 6px 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: transform .15s ease, background .2s, border-color .2s;
        }

        .honesty-toggle:hover {
            transform: translateY(-1px);
            background: rgba(168,85,247,.1);
        }

        /* ESTILOS DO MODAL DE POLÍTICA DE HONESTIDADE */
        .honesty-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .honesty-modal .modal-content {
            background: linear-gradient(135deg, #1e1b29, #2a2340);
            border-radius: 15px;
            max-width: 800px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .honesty-modal .modal-header {
            padding: 20px 25px 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .honesty-modal .modal-header h4 {
            color: #A855F7;
            font-size: 1.2rem;
            margin: 0;
        }

        .honesty-modal .modal-close {
            background: none;
            border: none;
            color: #cbd5e1;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s;
        }

        .honesty-modal .modal-close:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .honesty-modal .modal-body {
            padding: 20px 25px 25px;
            color: #cbd5e1;
            line-height: 1.6;
        }

        .honesty-modal details {
            margin: 15px 0;
            border: 1px solid rgba(168, 85, 247, 0.2);
            border-radius: 8px;
            padding: 10px;
            background: rgba(168, 85, 247, 0.05);
        }

        .honesty-modal details summary {
            cursor: pointer;
            padding: 8px 0;
            color: #A855F7;
            font-weight: 600;
            list-style: none;
        }

        .honesty-modal details summary::-webkit-details-marker {
            display: none;
        }

        .honesty-modal details summary::before {
            content: "▶ ";
            margin-right: 8px;
            transition: transform 0.2s;
        }

        .honesty-modal details[open] summary::before {
            transform: rotate(90deg);
        }

        .honesty-modal details ul {
            margin: 10px 0 0 20px;
            padding: 0;
        }

        .honesty-modal details li {
            margin: 8px 0;
            color: #e2e8f0;
        }

        .honesty-modal a {
            color: #10b981;
            text-decoration: none;
            border-bottom: 1px dotted rgba(16, 185, 129, 0.5);
        }

        .honesty-modal a:hover {
            color: #059669;
            border-bottom-color: transparent;
        }

        /* ESTILOS DA ABA 3: PANORAMA DOS CAMPEONATOS */
        .panorama-container {
            padding: 2rem 0;
        }

        /* Sub-abas */
        .sub-tabs-container {
            margin-bottom: 2rem;
        }

        .sub-tabs-nav {
            display: flex;
            gap: 0.5rem;
            background-color: rgba(0,0,0,0.2);
            border-radius: 12px;
            padding: 0.5rem;
            margin-bottom: 2rem;
        }

        .sub-tab-btn {
            flex: 1;
            max-width: 200px;
            padding: 0.8rem 1.5rem;
            background-color: transparent;
            color: var(--cor-texto-secundario);
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .sub-tab-btn:hover {
            background-color: rgba(168, 85, 247, 0.1);
            color: var(--cor-destaque-primaria);
        }

        .sub-tab-btn.active {
            background: linear-gradient(135deg, var(--cor-destaque-secundaria), #00B377);
            color: white;
            box-shadow: 0 2px 8px rgba(0, 227, 140, 0.3);
        }

        .sub-tab-content {
            animation: fadeIn 0.3s ease-in-out;
        }

        /* Seletor de Campeonato */
        .championship-selector {
            background-color: var(--cor-fundo-card);
            border: 1px solid var(--cor-borda);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .championship-selector h3 {
            color: var(--cor-destaque-primaria);
            margin: 0 0 1.5rem 0;
            font-size: 1.2rem;
        }

        .championship-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .champ-btn {
            padding: 0.8rem 1.5rem;
            background-color: var(--cor-fundo);
            color: var(--cor-texto-secundario);
            border: 2px solid var(--cor-borda);
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .champ-btn:hover {
            border-color: var(--cor-destaque-primaria);
            color: var(--cor-destaque-primaria);
        }

        .champ-btn.active {
            background: linear-gradient(135deg, var(--cor-destaque-primaria), #9333EA);
            color: white;
            border-color: var(--cor-destaque-primaria);
        }

        /* Container da Tabela de Classificação */
        .classification-table-container {
            background-color: var(--cor-fundo-card);
            border: 1px solid var(--cor-borda);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .table-header h4 {
            color: var(--cor-destaque-primaria);
            margin: 0;
            font-size: 1.3rem;
            font-weight: 700;
        }

        /* Tabela de Classificação */
        .classification-table {
            display: none;
        }

        .classification-table.active {
            display: block;
        }

        .brasileirao-table {
            width: 100%;
            border-collapse: collapse;
            background-color: var(--cor-fundo);
            border-radius: 8px;
            overflow: hidden;
        }

        .brasileirao-table thead {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(0, 227, 140, 0.1));
        }

        .brasileirao-table th {
            padding: 1rem 0.8rem;
            text-align: center;
            color: var(--cor-texto-principal);
            font-weight: 600;
            font-size: 0.85rem;
            border-bottom: 1px solid var(--cor-borda);
        }

        .brasileirao-table th:first-child {
            text-align: left;
            padding-left: 1.5rem;
        }

        .brasileirao-table td {
            padding: 0.8rem;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            font-size: 0.9rem;
        }

        .brasileirao-table td:first-child {
            text-align: left;
            padding-left: 1.5rem;
        }

        .brasileirao-table tr:hover {
            background-color: rgba(168, 85, 247, 0.05);
        }

        /* Posição na tabela */
        .team-position {
            color: var(--cor-destaque-primaria);
            font-weight: 700;
            margin-right: 0.8rem;
        }

        .team-name {
            color: var(--cor-texto-principal);
            font-weight: 600;
        }

        /* Cores de classificação */
        .libertadores { border-left: 4px solid #00E38C; }
        .pre-libertadores { border-left: 4px solid #FBBF24; }
        .sul-americana { border-left: 4px solid #3B82F6; }
        .rebaixamento { border-left: 4px solid #F43F5E; }

        /* Últimos jogos */
        .ultimos-jogos {
            display: flex;
            gap: 2px;
            justify-content: center;
        }

        .resultado {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .resultado.vitoria { background-color: #00E38C; }
        .resultado.empate { background-color: #FBBF24; }
        .resultado.derrota { background-color: #F43F5E; }

        /* Coming Soon */
        .coming-soon {
            text-align: center;
            padding: 4rem 2rem;
            background-color: var(--cor-fundo-card);
            border: 1px solid var(--cor-borda);
            border-radius: 12px;
        }

        .coming-soon h3 {
            color: var(--cor-destaque-primaria);
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .coming-soon p {
            color: var(--cor-texto-secundario);
            font-size: 1.1rem;
            margin-bottom: 2rem;
        }

        .table-loading {
            text-align: center;
            padding: 2rem;
            color: var(--cor-texto-secundario);
        }

        /* Responsividade para o rodapé de honestidade */
        @media (max-width: 768px) {
            .honesty-footer {
                padding: 10px 12px;
                font-size: 0.8rem;
            }

            .honesty-row {
                grid-template-columns: 1fr;
                gap: 6px;
            }

            .honesty-text {
                font-size: 0.78rem;
            }

            .honesty-modal {
                padding: 10px;
            }

            .honesty-modal .modal-content {
                max-height: 90vh;
            }

            .honesty-modal .modal-header,
            .honesty-modal .modal-body {
                padding: 15px 20px;
            }

            .honesty-modal .modal-header h4 {
                font-size: 1.1rem;
            }
        }

        /* ESTILOS DO SISTEMA DE ABAS */
        .tabs-container {
            margin: 2rem 0;
            border-bottom: 1px solid var(--cor-borda);
        }

        .tabs-nav {
            display: flex;
            justify-content: center;
            gap: 0;
            background-color: var(--cor-fundo-card);
            border-radius: 12px 12px 0 0;
            padding: 0.5rem;
            margin-bottom: -1px;
        }

        .tab-btn {
            flex: 1;
            max-width: 250px;
            padding: 1rem 2rem;
            background-color: transparent;
            color: var(--cor-texto-secundario);
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .tab-btn:hover {
            background-color: rgba(168, 85, 247, 0.1);
            color: var(--cor-destaque-primaria);
            transform: translateY(-2px);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, var(--cor-destaque-primaria), #9333EA);
            color: white;
            box-shadow: 0 4px 15px rgba(168, 85, 247, 0.3);
        }

        .tab-btn.active:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(168, 85, 247, 0.4);
        }

        .tab-content {
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ESTILOS DA ABA 2: DADOS AVANÇADOS */
        .advanced-stats-container {
            padding: 2rem 0;
        }

        .game-selector {
            background-color: var(--cor-fundo-card);
            border: 1px solid var(--cor-borda);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .game-selector h3 {
            color: var(--cor-destaque-primaria);
            margin: 0 0 1.5rem 0;
            font-size: 1.4rem;
        }

        .game-select {
            width: 100%;
            max-width: 400px;
            padding: 1rem;
            background-color: var(--cor-fundo);
            border: 2px solid var(--cor-borda);
            border-radius: 8px;
            color: var(--cor-texto-principal);
            font-size: 1rem;
            font-weight: 500;
        }

        .game-select:focus {
            outline: none;
            border-color: var(--cor-destaque-primaria);
            box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.1);
        }

        /* BOTÃO DE SINCRONIZAÇÃO */
        #sync-games-btn:hover {
            background: var(--cor-destaque-secundaria) !important;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(168, 85, 247, 0.3);
        }

        #sync-games-btn:active {
            transform: translateY(0);
        }

        /* ESTILOS DA ABA 3: TIMES LOTECA JOGOS */
        .times-loteca-container {
            padding: 2rem 0;
        }

        .jogos-container {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            margin-top: 2rem;
        }

        .jogo-confronto {
            background: var(--cor-fundo-card);
            border: 1px solid var(--cor-borda);
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .jogo-confronto:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border-color: var(--cor-destaque-primaria);
        }

        .jogo-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--cor-borda);
        }

        .jogo-numero {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--cor-destaque-primaria);
            background: rgba(168, 85, 247, 0.1);
            padding: 0.5rem 1rem;
            border-radius: 8px;
        }

        .times-confronto {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 2rem;
            align-items: center;
        }

        .time-container {
            background: var(--cor-fundo);
            border: 1px solid var(--cor-borda);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .time-container:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 15px rgba(168, 85, 247, 0.2);
            border-color: var(--cor-destaque-primaria);
        }

        .time-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .time-nome {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--cor-texto-principal);
        }

        .time-abrev {
            font-size: 0.9rem;
            color: var(--cor-texto-secundario);
            background: rgba(168, 85, 247, 0.1);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }

        .time-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin: 1rem 0;
        }

        .stat-group {
            text-align: center;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--cor-texto-secundario);
            text-transform: uppercase;
            margin-bottom: 0.3rem;
            display: block;
        }

        .stat-value {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--cor-texto-principal);
        }

        .stat-subvalue {
            font-size: 0.9rem;
            color: var(--cor-texto-secundario);
        }

        .forca-bar {
            width: 100%;
            height: 6px;
            background: var(--cor-borda);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 0.3rem;
        }

        .forca-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--cor-destaque-primaria), var(--cor-destaque-secundaria));
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        .time-badge {
            margin-top: 1rem;
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 500;
            text-align: center;
        }

        .badge-mediano {
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .badge-destaque {
            background: rgba(245, 158, 11, 0.1);
            color: #f59e0b;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .badge-elite {
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .vs-divider-confronto {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--cor-destaque-primaria);
            background: rgba(168, 85, 247, 0.1);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid var(--cor-destaque-primaria);
        }

        .ver-detalhes-btn {
            width: 100%;
            padding: 0.8rem;
            background: linear-gradient(135deg, var(--cor-destaque-primaria), var(--cor-destaque-secundaria));
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .ver-detalhes-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(168, 85, 247, 0.4);
        }

        .resumo-times-loteca {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--cor-borda);
        }

        .resumo-card {
            background: var(--cor-fundo-card);
            border: 1px solid var(--cor-borda);
            border-radius: 12px;
            padding: 2rem;
        }

        .resumo-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: var(--cor-fundo);
            border-radius: 8px;
            border: 1px solid var(--cor-borda);
        }

        .stat-label {
            font-weight: 500;
            color: var(--cor-texto-secundario);
        }

        .stat-value {
            font-weight: bold;
            color: var(--cor-destaque-primaria);
            font-size: 1.1rem;
        }

        /* RESPONSIVIDADE */
        @media (max-width: 768px) {
            .times-confronto {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .vs-divider-confronto {
                display: none;
            }

            .time-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .resumo-stats {
                grid-template-columns: 1fr;
            }
        }

        /* ANÁLISE DETALHADA */
        .detailed-analysis {
            background-color: var(--cor-fundo-card);
            border: 1px solid var(--cor-borda);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        /* CABEÇALHO DO CONFRONTO */
        .match-header {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--cor-borda);
        }

        .team-info {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 2rem;
            align-items: center;
        }

        .team-home, .team-away {
            text-align: center;
        }

        .team-logo {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--cor-borda);
            margin-bottom: 1rem;
            background-color: var(--cor-borda);
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .team-logo:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(168, 85, 247, 0.3);
            border-color: var(--cor-destaque-primaria);
        }

        .team-home h3, .team-away h3 {
            color: var(--cor-texto-principal);
            font-size: 1.2rem;
            margin: 0.5rem 0;
        }

        .team-position {
            color: var(--cor-texto-secundario);
            font-size: 0.9rem;
            font-weight: 500;
        }

        .vs-separator {
            text-align: center;
        }

        .vs-text {
            display: block;
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--cor-destaque-primaria);
            margin-bottom: 0.5rem;
        }

        .match-info {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
            font-size: 0.85rem;
            color: var(--cor-texto-secundario);
        }

        /* ESTATÍSTICAS COMPARATIVAS */
        .stats-comparison {
            margin-bottom: 2rem;
        }

        .stats-comparison h4 {
            color: var(--cor-destaque-primaria);
            margin-bottom: 1.5rem;
            font-size: 1.3rem;
        }

        .stats-grid {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .stat-row {
            display: grid;
            grid-template-columns: 200px 1fr 1fr;
            gap: 1rem;
            align-items: center;
            padding: 1rem;
            background-color: rgba(0,0,0,0.2);
            border-radius: 8px;
        }

        .stat-label {
            font-weight: 600;
            color: var(--cor-texto-secundario);
        }

        .stat-home, .stat-away {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .stat-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--cor-texto-principal);
        }

        .stat-bar {
            height: 6px;
            background-color: var(--cor-borda);
            border-radius: 3px;
            overflow: hidden;
        }

        .stat-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--cor-destaque-secundaria), #00B377);
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .stat-bar.defensive .stat-fill {
            background: linear-gradient(90deg, var(--cor-desvantagem), #DC2626);
        }

        /* FORMA RECENTE */
        .form-sequence {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
        }

        .result {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 700;
        }

        .result.win {
            background-color: var(--cor-vantagem);
            color: white;
        }

        .result.draw {
            background-color: var(--cor-equilibrio);
            color: var(--cor-fundo);
        }

        .result.loss {
            background-color: var(--cor-desvantagem);
            color: white;
        }

        /* HISTÓRICO H2H */
        .h2h-section {
            margin-bottom: 2rem;
        }

        .h2h-section h4 {
            color: var(--cor-destaque-primaria);
            margin-bottom: 1.5rem;
            font-size: 1.3rem;
        }

        .h2h-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
        }

        .h2h-summary {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .h2h-stat {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem;
            background-color: rgba(0,0,0,0.2);
            border-radius: 6px;
        }

        .h2h-label {
            color: var(--cor-texto-secundario);
            font-weight: 500;
        }

        .h2h-value {
            color: var(--cor-texto-principal);
            font-weight: 700;
        }

        .h2h-results {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .h2h-match {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background-color: rgba(0,0,0,0.2);
            border-radius: 6px;
        }

        .match-date {
            color: var(--cor-texto-secundario);
            font-size: 0.85rem;
        }

        .match-result {
            font-weight: 600;
        }

        .match-result.home-win {
            color: var(--cor-vantagem);
        }

        .match-result.away-win {
            color: var(--cor-destaque-primaria);
        }

        .match-result.draw {
            color: var(--cor-equilibrio);
        }

        /* RECOMENDAÇÃO BASEADA EM DADOS */
        .data-recommendation h4 {
            color: var(--cor-destaque-primaria);
            margin-bottom: 1.5rem;
            font-size: 1.3rem;
        }

        .recommendation-card {
            background: linear-gradient(135deg, rgba(0, 227, 140, 0.1), rgba(16, 185, 129, 0.05));
            border: 1px solid rgba(0, 227, 140, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
        }

        .recommendation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .confidence-level {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .confidence-level.high {
            background-color: rgba(0, 227, 140, 0.2);
            color: var(--cor-destaque-secundaria);
        }

        .recommended-bet {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--cor-destaque-secundaria);
        }

        .recommendation-reasoning {
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .recommendation-factors {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .factor {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .factor.positive {
            background-color: rgba(0, 227, 140, 0.2);
            color: var(--cor-destaque-secundaria);
        }

        .factor.negative {
            background-color: rgba(244, 63, 94, 0.2);
            color: var(--cor-desvantagem);
        }

        .factor.neutral {
            background-color: rgba(251, 191, 36, 0.2);
            color: var(--cor-equilibrio);
        }

        /* MENSAGEM SEM SELEÇÃO */
        .no-selection {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--cor-texto-secundario);
        }

        .no-selection-content h3 {
            color: var(--cor-destaque-primaria);
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .no-selection-content p {
            margin-bottom: 2rem;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .features-preview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .feature-item {
            padding: 1rem;
            background-color: var(--cor-fundo-card);
            border: 1px solid var(--cor-borda);
            border-radius: 8px;
            font-weight: 500;
        }

        /* ESTILOS DO OTIMIZADOR DE APOSTAS */
        .optimizer-section {
            margin-top: 3rem;
            padding: 2rem 0;
            border-top: 2px solid var(--cor-borda);
        }

        .optimizer-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .optimizer-header h2 {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--cor-destaque-primaria);
            margin: 0 0 1rem 0;
        }

        .optimizer-header p {
            font-size: 1.1rem;
            color: var(--cor-texto-secundario);
            max-width: 700px;
            margin: 0 auto;
        }

        /* Seletor de Orçamento */
        .budget-selector {
            background-color: var(--cor-fundo-card);
            border: 1px solid var(--cor-borda);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2.5rem;
            text-align: center;
        }

        .budget-selector h3 {
            color: var(--cor-destaque-secundaria);
            margin: 0 0 1.5rem 0;
            font-size: 1.4rem;
        }

        .budget-options {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .budget-btn {
            background: linear-gradient(135deg, var(--cor-destaque-primaria), #9333EA);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .budget-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(168, 85, 247, 0.4);
        }

        .budget-btn.active {
            background: var(--cor-destaque-secundaria);
            box-shadow: 0 8px 25px rgba(0, 227, 140, 0.4);
        }

        #custom-budget {
            background-color: var(--cor-fundo);
            border: 2px solid var(--cor-borda);
            color: var(--cor-texto-principal);
            padding: 0.8rem 1rem;
            border-radius: 8px;
            font-size: 1rem;
            width: 200px;
            text-align: center;
        }

        #custom-budget:focus {
            outline: none;
            border-color: var(--cor-destaque-primaria);
        }

        .budget-info {
            padding: 1rem;
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            border-left: 4px solid var(--cor-destaque-secundaria);
        }

        #budget-details {
            color: var(--cor-texto-secundario);
            font-weight: 500;
        }

        /* Classificação dos Jogos */
        .games-classification {
            margin-bottom: 2.5rem;
        }

        .games-classification h3 {
            text-align: center;
            color: var(--cor-texto-principal);
            margin-bottom: 2rem;
            font-size: 1.5rem;
        }

        .classification-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .classification-card {
            background-color: var(--cor-fundo-card);
            border: 1px solid var(--cor-borda);
            border-radius: 12px;
            padding: 1.5rem;
            position: relative;
        }

        .classification-card.seco {
            border-left: 4px solid var(--cor-destaque-secundaria);
        }

        .classification-card.duplo {
            border-left: 4px solid var(--cor-equilibrio);
        }

        .classification-card.triplo {
            border-left: 4px solid var(--cor-desvantagem);
        }

        .classification-card h4 {
            margin: 0 0 0.5rem 0;
            color: var(--cor-texto-principal);
            font-size: 1.1rem;
        }

        .classification-card p {
            margin: 0 0 1rem 0;
            color: var(--cor-texto-secundario);
            font-size: 0.9rem;
        }

        .classification-card ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .classification-card li {
            padding: 0.5rem 0;
            color: var(--cor-texto-principal);
            font-size: 0.9rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .classification-card li:last-child {
            border-bottom: none;
        }

        /* Tabela de Otimização */
        .optimization-table-container {
            margin-bottom: 2.5rem;
        }

        .optimization-table-container h3 {
            text-align: center;
            color: var(--cor-texto-principal);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .table-responsive {
            overflow-x: auto;
            background-color: var(--cor-fundo-card);
            border-radius: 12px;
            border: 1px solid var(--cor-borda);
        }

        .optimization-table {
            width: 100%;
            border-collapse: collapse;
        }

        .optimization-table th,
        .optimization-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--cor-borda);
        }

        .optimization-table th {
            background-color: rgba(0,0,0,0.2);
            color: var(--cor-texto-secundario);
            font-weight: 600;
            font-size: 0.9rem;
        }

        .optimization-table td {
            color: var(--cor-texto-principal);
            font-weight: 500;
        }

        .choice-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .choice-btn {
            padding: 0.4rem 0.8rem;
            border: 1px solid var(--cor-borda);
            background-color: var(--cor-fundo);
            color: var(--cor-texto-principal);
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .choice-btn.selected {
            background-color: var(--cor-destaque-primaria);
            color: white;
            border-color: var(--cor-destaque-primaria);
        }

        .choice-btn:hover {
            border-color: var(--cor-destaque-primaria);
        }

        .status-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .status-badge.seco {
            background-color: rgba(0, 227, 140, 0.2);
            color: var(--cor-destaque-secundaria);
        }

        .status-badge.duplo {
            background-color: rgba(251, 191, 36, 0.2);
            color: var(--cor-equilibrio);
        }

        .status-badge.triplo {
            background-color: rgba(244, 63, 94, 0.2);
            color: var(--cor-desvantagem);
        }

        .status-badge.success {
            background-color: rgba(0, 227, 140, 0.2);
            color: var(--cor-destaque-secundaria);
        }

        .status-badge.error {
            background-color: rgba(244, 63, 94, 0.2);
            color: var(--cor-desvantagem);
        }

        /* Resumo da Aposta */
        .bet-summary {
            background-color: var(--cor-fundo-card);
            border: 1px solid var(--cor-borda);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
        }

        /* Sub-abas para Dados Avançados */
        .dados-avancados-container {
            width: 100%;
        }

        .sub-tabs-nav {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            border-bottom: 1px solid var(--cor-borda);
            padding-bottom: 0.5rem;
        }

        .sub-tab-btn {
            padding: 0.8rem 1.5rem;
            border: none;
            background-color: transparent;
            color: var(--cor-texto-secundario);
            border-radius: 8px 8px 0 0;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }

        .sub-tab-btn:hover {
            background-color: rgba(0, 227, 140, 0.1);
            color: var(--cor-destaque-secundaria);
        }

        .sub-tab-btn.active {
            background-color: var(--cor-destaque-secundaria);
            color: white;
            border-bottom: 2px solid var(--cor-destaque-secundaria);
        }

        .sub-tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .sub-tab-content.active {
            display: block;
        }

        /* Estilos específicos para sub-abas de Dados Avançados */
        .dados-avancados-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .dados-avancados-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Barra de progresso para carregamento */
        .progress-info {
            text-align: center;
            padding: 2rem;
            background-color: var(--cor-fundo-card);
            border-radius: 12px;
            border: 1px solid var(--cor-borda);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: var(--cor-fundo);
            border-radius: 4px;
            margin: 1rem 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--cor-destaque-secundaria);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* Mensagem de erro */
        .error-message {
            text-align: center;
            padding: 2rem;
            background-color: rgba(244, 63, 94, 0.1);
            border: 1px solid rgba(244, 63, 94, 0.3);
            border-radius: 12px;
            color: var(--cor-desvantagem);
        }

        .error-message h3 {
            margin-bottom: 1rem;
            color: var(--cor-desvantagem);
        }

        .error-message p {
            margin-bottom: 1.5rem;
            color: var(--cor-texto-secundario);
        }

        /* Botão de detalhes dos clubes */
        .btn-detalhes {
            background: linear-gradient(135deg, var(--cor-destaque-primaria), var(--cor-destaque-secundaria));
            border: none;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .btn-detalhes:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(168, 85, 247, 0.3);
        }

        .clube-actions {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .summary-card {
            background-color: rgba(0,0,0,0.2);
            padding: 1.5rem 1rem;
            border-radius: 8px;
            border: 1px solid var(--cor-borda);
        }

        .summary-card.highlight {
            border-color: var(--cor-destaque-secundaria);
            background-color: rgba(0, 227, 140, 0.1);
        }

        .summary-value {
            font-size: 2rem;
            font-weight: 800;
            color: var(--cor-destaque-primaria);
            margin-bottom: 0.5rem;
        }

        .summary-card.highlight .summary-value {
            color: var(--cor-destaque-secundaria);
        }

        .summary-label {
            font-size: 0.9rem;
            color: var(--cor-texto-secundario);
            font-weight: 500;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-primary,
        .btn-secondary {
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--cor-destaque-secundaria), #00B377);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 227, 140, 0.4);
        }

        .btn-secondary {
            background-color: var(--cor-fundo);
            color: var(--cor-texto-principal);
            border: 1px solid var(--cor-borda);
        }

        .btn-secondary:hover {
            border-color: var(--cor-destaque-primaria);
            color: var(--cor-destaque-primaria);
        }

        /* RESPONSIVIDADE MOBILE FORTE */
        @media (max-width: 768px) {
            .container {
                padding: 1rem 0.5rem;
            }

            .header h1 {
                font-size: 1.8rem;
            }

            .header p {
                font-size: 0.95rem;
                padding: 0 1rem;
            }

            /* Cards de Jogos - Mobile Optimized */
            .game-card {
                margin-bottom: 1.5rem;
                border-radius: 8px;
            }

            .game-card-header h2 {
                font-size: 1.2rem;
                line-height: 1.3;
            }

            .game-card-header .game-info {
                font-size: 0.8rem;
            }

            .game-card-body {
                padding: 1rem;
            }

            /* Probabilidades - Stack Vertical no Mobile */
            .probabilities {
                grid-template-columns: 1fr;
                gap: 0.8rem;
                margin-bottom: 1.5rem;
            }

            .prob-item {
                padding: 1.2rem 1rem;
                text-align: center;
            }

            .prob-item .label {
                font-size: 0.85rem;
                margin-bottom: 0.5rem;
                display: block;
            }

            .prob-item .value {
                font-size: 2.5rem;
                font-weight: 900;
            }

            /* Tabela de Análise - Mobile Cards */
            .analysis-table {
                display: none; /* Esconder tabela no mobile */
            }

            /* Nova estrutura mobile para análise */
            .analysis-mobile {
                display: block;
                background-color: rgba(0,0,0,0.1);
                border-radius: 8px;
                padding: 1rem;
                margin-bottom: 1.5rem;
            }

            .analysis-mobile-item {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0.8rem 0;
                border-bottom: 1px solid rgba(255,255,255,0.1);
            }

            .analysis-mobile-item:last-child {
                border-bottom: none;
            }

            .analysis-mobile-label {
                font-weight: 600;
                color: var(--cor-texto-secundario);
                font-size: 0.9rem;
                flex: 1;
            }

            .analysis-mobile-teams {
                display: flex;
                gap: 1rem;
                flex: 2;
                justify-content: center;
                font-size: 0.85rem;
            }

            .analysis-mobile-result {
                flex: 1;
                text-align: right;
                font-size: 0.8rem;
            }

            /* Recomendação Mobile */
            .recommendation {
                padding: 1.2rem;
                font-size: 0.95rem;
                margin-bottom: 1.5rem;
            }

            /* Conclusão Mobile */
            .analyst-conclusion {
                padding: 1.2rem;
                border-radius: 8px;
            }

            .analyst-conclusion h4 {
                font-size: 1rem;
                margin-bottom: 0.8rem;
            }

            .analyst-conclusion p {
                font-size: 0.9rem;
                line-height: 1.5;
            }

            /* Otimizador Mobile */
            .optimizer-section {
                margin-top: 2rem;
                padding: 1.5rem 0;
            }

            .optimizer-header h2 {
                font-size: 1.8rem;
            }

            .optimizer-header p {
                font-size: 1rem;
                padding: 0 1rem;
            }

            .budget-selector {
                padding: 1.5rem;
                margin-bottom: 2rem;
            }

            .budget-options {
                flex-direction: column;
                align-items: center;
                gap: 0.8rem;
            }

            .budget-btn {
                width: 200px;
                padding: 1rem 1.5rem;
                font-size: 1.1rem;
            }

            #custom-budget {
                width: 200px;
                padding: 1rem;
                font-size: 1.1rem;
            }

            .classification-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .classification-card {
                padding: 1.2rem;
            }

            .classification-card h4 {
                font-size: 1rem;
                margin-bottom: 0.8rem;
            }

            .classification-card p {
                font-size: 0.85rem;
            }

            .classification-card li {
                font-size: 0.85rem;
                padding: 0.6rem 0;
            }

            /* Tabela de Otimização Mobile */
            .optimization-table-container {
                margin-bottom: 2rem;
            }

            .table-responsive {
                border-radius: 8px;
            }

            .optimization-table {
                font-size: 0.8rem;
            }

            .optimization-table th,
            .optimization-table td {
                padding: 0.6rem 0.4rem;
                vertical-align: middle;
            }

            .choice-buttons {
                flex-wrap: wrap;
                gap: 0.3rem;
            }

            .choice-btn {
                padding: 0.4rem 0.6rem;
                font-size: 0.75rem;
                min-width: 35px;
            }

            .status-badge {
                font-size: 0.7rem;
                padding: 0.2rem 0.6rem;
            }

            /* Resumo Mobile */
            .bet-summary {
                padding: 1.5rem;
            }

            .summary-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.8rem;
                margin-bottom: 1.5rem;
            }

            .summary-card {
                padding: 1rem 0.8rem;
            }

            .summary-value {
                font-size: 1.6rem;
            }

            .summary-label {
                font-size: 0.8rem;
            }

            .action-buttons {
                flex-direction: column;
                gap: 0.8rem;
            }

            .btn-primary,
            .btn-secondary {
                padding: 1rem;
                font-size: 1rem;
                width: 100%;
            }

            /* Footer Mobile */
            .footer-cta {
                padding: 1.5rem;
                margin-bottom: 1.5rem;
            }

            .footer-cta h3 {
                font-size: 1.3rem;
            }

            .footer-cta p {
                font-size: 1rem;
            }

            .footer-cta-btn {
                padding: 1rem 1.5rem;
                font-size: 1rem;
                width: 100%;
                text-align: center;
            }

            /* Responsividade das Abas */
            .tabs-nav {
                padding: 0.3rem;
                flex-direction: column;
                gap: 0.5rem;
            }

            .tab-btn {
                padding: 0.8rem 1rem;
                font-size: 0.9rem;
                max-width: none;
            }

            /* Aba 2 Mobile */
            .advanced-stats-container {
                padding: 1rem 0;
            }

            .game-selector {
                padding: 1.5rem;
            }

            .game-selector h3 {
                font-size: 1.2rem;
            }

            .team-info {
                grid-template-columns: 1fr;
                gap: 1rem;
                text-align: center;
            }

            .vs-separator {
                order: -1;
                margin-bottom: 1rem;
            }

            .stat-row {
                grid-template-columns: 1fr;
                gap: 0.75rem;
                text-align: center;
            }

            .stat-label {
                font-weight: 700;
                color: var(--cor-destaque-primaria);
                margin-bottom: 0.5rem;
            }

            .stat-home, .stat-away {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 1rem;
                align-items: center;
            }

            .h2h-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .recommendation-factors {
                justify-content: center;
            }

            .no-selection {
                padding: 2rem 1rem;
            }

            .features-preview {
                grid-template-columns: 1fr;
            }
        }

        /* PAINEL DE CLUBES BRASILEIRÃO */
        .clubes-brasileirao-section {
            margin-top: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(59, 130, 246, 0.1));
            border-radius: 1rem;
            border: 1px solid rgba(168, 85, 247, 0.2);
        }

        .section-header {
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
        }

        .section-header h2 {
            color: var(--cor-destaque-primaria);
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .section-header p {
            color: var(--cor-texto-secundario);
            font-size: 1rem;
            margin-bottom: 1.5rem;
        }

        .refresh-btn {
            background: linear-gradient(135deg, var(--cor-destaque-primaria), var(--cor-destaque-secundaria));
            border: none;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .refresh-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(168, 85, 247, 0.3);
        }

        .refresh-icon {
            transition: transform 0.5s ease;
        }

        .refresh-btn:hover .refresh-icon {
            transform: rotate(360deg);
        }

        .loading-clubes {
            text-align: center;
            padding: 3rem;
            display: none;
        }

        .loading-clubes.active {
            display: block;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(168, 85, 247, 0.2);
            border-top: 4px solid var(--cor-destaque-primaria);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .clubes-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .clube-card {
            background: rgba(15, 10, 24, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .clube-card:hover {
            transform: translateY(-5px);
            border-color: var(--cor-destaque-primaria);
            box-shadow: 0 10px 30px rgba(168, 85, 247, 0.2);
        }

        .clube-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .clube-name {
            color: var(--cor-texto-primario);
            font-size: 1.1rem;
            font-weight: 600;
        }

        .clube-abrev {
            color: var(--cor-texto-secundario);
            font-size: 0.9rem;
            margin-left: 0.5rem;
        }

        .clube-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .badge-solido {
            background: rgba(34, 197, 94, 0.2);
            color: rgb(34, 197, 94);
            border: 1px solid rgba(34, 197, 94, 0.4);
        }

        .badge-atencao {
            background: rgba(251, 191, 36, 0.2);
            color: rgb(251, 191, 36);
            border: 1px solid rgba(251, 191, 36, 0.4);
        }

        .badge-mediano {
            background: rgba(59, 130, 246, 0.2);
            color: rgb(59, 130, 246);
            border: 1px solid rgba(59, 130, 246, 0.4);
        }

        .clube-stats {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 1rem;
            font-size: 0.85rem;
        }

        .stat-group {
            text-align: center;
        }

        .stat-group.left {
            text-align: left;
        }

        .stat-group.right {
            text-align: right;
        }

        .stat-label {
            color: var(--cor-texto-secundario);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.5rem;
            display: block;
        }

        .stat-value {
            color: var(--cor-texto-primario);
            font-weight: 600;
            display: block;
            margin-bottom: 0.25rem;
        }

        .rating-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin-top: 0.5rem;
            overflow: hidden;
        }

        .rating-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--cor-destaque-primaria), var(--cor-destaque-secundaria));
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .clubes-stats-summary {
            display: flex;
            justify-content: center;
            gap: 2rem;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 0.75rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .summary-item {
            text-align: center;
        }

        .summary-label {
            color: var(--cor-texto-secundario);
            font-size: 0.8rem;
            display: block;
            margin-bottom: 0.25rem;
        }

        .summary-value {
            color: var(--cor-destaque-primaria);
            font-weight: 600;
            font-size: 1rem;
        }

        /* RESPONSIVIDADE DO PAINEL DE CLUBES */
        @media (max-width: 768px) {
            .clubes-brasileirao-section {
                margin-top: 2rem;
                padding: 1rem;
            }

            .section-header h2 {
                font-size: 1.4rem;
            }

            .clubes-container {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .clube-stats {
                grid-template-columns: 1fr;
                gap: 1rem;
                text-align: center;
            }

            .stat-group.left,
            .stat-group.right {
                text-align: center;
            }

            .clubes-stats-summary {
                flex-direction: column;
                gap: 1rem;
            }

            .refresh-btn {
                width: 100%;
                justify-content: center;
            }
        }

        /* RESPONSIVIDADE EXTRA PARA CELULARES PEQUENOS */
        @media (max-width: 480px) {
            .container {
                padding: 0.5rem 0.25rem;
            }

            .clubes-brasileirao-section {
                padding: 0.75rem;
                margin-top: 1rem;
            }

            .section-header h2 {
                font-size: 1.2rem;
            }

            .section-header p {
                font-size: 0.9rem;
            }

            .clube-card {
                padding: 1rem;
            }

            .header {
                padding-bottom: 1.5rem;
                margin-bottom: 1.5rem;
            }

            .header h1 {
                font-size: 1.6rem;
            }

            .header p {
                font-size: 0.9rem;
            }

            .game-card {
                margin-bottom: 1rem;
                border-radius: 6px;
            }

            .game-card-header {
                padding: 1rem;
            }

            .game-card-header h2 {
                font-size: 1.1rem;
            }

            .game-card-body {
                padding: 0.8rem;
            }

            .prob-item {
                padding: 1rem 0.8rem;
            }

            .prob-item .value {
                font-size: 2.2rem;
            }

            .recommendation {
                padding: 1rem;
                font-size: 0.9rem;
            }

            .analyst-conclusion {
                padding: 1rem;
            }

            .analyst-conclusion h4 {
                font-size: 0.95rem;
            }

            .analyst-conclusion p {
                font-size: 0.85rem;
            }

            /* Otimizador Mobile Pequeno */
            .optimizer-header h2 {
                font-size: 1.6rem;
            }

            .budget-selector {
                padding: 1rem;
            }

            .budget-btn {
                width: 180px;
                padding: 0.9rem 1.2rem;
                font-size: 1rem;
            }

            #custom-budget {
                width: 180px;
                padding: 0.9rem;
            }

            .classification-card {
                padding: 1rem;
            }

            .optimization-table th,
            .optimization-table td {
                padding: 0.5rem 0.3rem;
                font-size: 0.75rem;
            }

            .choice-btn {
                padding: 0.3rem 0.5rem;
                font-size: 0.7rem;
                min-width: 30px;
            }

            .summary-grid {
                grid-template-columns: 1fr;
                gap: 0.6rem;
            }

            .summary-card {
                padding: 0.8rem;
            }

            .summary-value {
                font-size: 1.4rem;
            }
        }

        /* OCULTAR ELEMENTOS DESKTOP NO MOBILE */
        @media (max-width: 768px) {
            .analysis-table {
                display: none !important;
            }
        }

        /* MOSTRAR ELEMENTOS MOBILE APENAS NO MOBILE */
        .analysis-mobile {
            display: none;
        }

        @media (max-width: 768px) {
            .analysis-mobile {
                display: block !important;
            }
        }

    </style>
</head>
<body>

    <div class="container">
        <header class="header">
            <a href="https://www.loteriasinteligente.com.br/" target="_blank" rel="noopener noreferrer" class="logo-link">
                <img src="{{ url_for('static', filename='Logo_loteraisinteligente.png') }}" alt="Logo Loterias Inteligente - Visite nosso site" class="logo">
            </a>
            <h1>Raio-X da Loteca</h1>
            <p>Análise estatística completa dos 14 jogos para te ajudar a montar um palpite mais inteligente. Cruzamos dados de performance, histórico e momento para calcular as probabilidades de cada confronto.</p>
        </header>

        <!-- SISTEMA DE ABAS -->
        <div class="tabs-container">
            <div class="tabs-nav">
                <button class="tab-btn active" data-tab="analise-rapida">
                    🎯 Análise Rápida
                </button>
                <button class="tab-btn" data-tab="dados-avancados">
                    📊 Dados Avançados
                </button>
                <button class="tab-btn" data-tab="panorama-campeonatos">
                    🏆 Panorama dos Campeonatos
                </button>
            </div>
        </div>

        <!-- CONTEÚDO DAS ABAS -->
        <div class="tab-content" id="analise-rapida" style="display: block;">
            <!-- TODO O CONTEÚDO ATUAL VAI AQUI -->

        <!-- JOGO 1: CORINTHIANS vs FLAMENGO -->
        <div class="game-card">
            <div class="game-card-header">
                <!-- JOGO COM ESCUDOS INTEGRADOS - SEM REPETIÇÃO -->
                <div class="confronto-visual">
                    <span style="font-size: 18px; font-weight: bold; color: var(--cor-destaque-secundaria); margin-right: 15px;">JOGO 1:</span>
                    <div class="time-info">
                        <img src="/static/escudos/COR_Corinthians/Corinthians.png" 
                             alt="Corinthians" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>CORINTHIANS</span>
                    </div>
                    
                    <div class="vs-divider">×</div>
                    
                    <div class="time-info">
                        <img src="/static/escudos/FLA_Flamengo/Flamengo.png" 
                             alt="Flamengo" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>FLAMENGO</span>
                    </div>
                </div>
                
                <div class="game-info">Neo Química Arena | Brasileirão Série A | Domingo</div>
            </div>
            <div class="game-card-body">
                <div class="probabilities">
                    <div class="prob-item col1"><div class="label">Coluna 1 (Corinthians )</div><div class="value">45%</div></div>
                    <div class="prob-item colX"><div class="label">Coluna X (Empate)</div><div class="value">30%</div></div>
                    <div class="prob-item col2"><div class="label">Coluna 2 (Flamengo)</div><div class="value">25%</div></div>
                </div>
                <div class="recommendation"><strong>Recomendação Estatística: Coluna 1 (Corinthians)</strong> - Risco Médio</div>
                <!-- TABELA DESKTOP -->
                <table class="analysis-table">
                    <thead><tr><th>Fator Analisado</th><th class="team-header">Corinthians</th><th class="team-header">Flamengo</th><th>Análise</th></tr></thead>
                    <tbody>
                        <tr><td><strong>Forma (Últimos 5)</strong></td><td class="team-header">V-E-V-D-V</td><td class="team-header">V-V-E-E-D</td><td><span class="status-icon vantagem">▲</span>Vantagem Corinthians</td></tr>
                        <tr><td><strong>Posição na Tabela</strong></td><td class="team-header">5º</td><td class="team-header">2º</td><td><span class="status-icon desvantagem">▼</span>Vantagem Flamengo</td></tr>
                        <tr><td><strong>Confronto Direto (H2H)</strong></td><td class="team-header">2V-1E-2D</td><td class="team-header">2V-1E-2D</td><td><span class="status-icon equilibrio">▬</span>Equilíbrio</td></tr>
                        <tr><td><strong>Fator Casa</strong></td><td class="team-header">80% aprov.</td><td class="team-header">-</td><td><span class="status-icon vantagem">▲</span>Vantagem Corinthians</td></tr>
                    </tbody>
                </table>

                <!-- VERSÃO MOBILE -->
                <div class="analysis-mobile">
                    <div class="analysis-mobile-item">
                        <div class="analysis-mobile-label">Forma Recente</div>
                        <div class="analysis-mobile-teams">
                            <span>COR: V-E-V-D-V</span>
                            <span>FLA: V-V-E-E-D</span>
                        </div>
                        <div class="analysis-mobile-result">
                            <span class="status-icon vantagem">▲</span>COR
                        </div>
                    </div>
                    <div class="analysis-mobile-item">
                        <div class="analysis-mobile-label">Posição</div>
                        <div class="analysis-mobile-teams">
                            <span>COR: 5º</span>
                            <span>FLA: 2º</span>
                        </div>
                        <div class="analysis-mobile-result">
                            <span class="status-icon desvantagem">▼</span>FLA
                        </div>
                    </div>
                    <div class="analysis-mobile-item">
                        <div class="analysis-mobile-label">H2H</div>
                        <div class="analysis-mobile-teams">
                            <span>COR: 2V-1E-2D</span>
                            <span>FLA: 2V-1E-2D</span>
                        </div>
                        <div class="analysis-mobile-result">
                            <span class="status-icon equilibrio">▬</span>Equal
                        </div>
                    </div>
                    <div class="analysis-mobile-item">
                        <div class="analysis-mobile-label">Casa</div>
                        <div class="analysis-mobile-teams">
                            <span>COR: 80%</span>
                            <span>FLA: -</span>
                        </div>
                        <div class="analysis-mobile-result">
                            <span class="status-icon vantagem">▲</span>COR
                        </div>
                    </div>
                </div>
                <div class="analyst-conclusion">
                    <h4>Conclusão do Analista (IA)</h4>
                    <p>Apesar do Flamengo estar melhor posicionado na tabela, o Corinthians tem a vantagem por jogar em casa e apresentar uma forma recente ligeiramente superior. O equilíbrio no confronto direto sugere que o empate é uma possibilidade real, mas a força do Corinthians em seus domínios o coloca como favorito estatístico.</p>
                </div>
            </div>
        </div>

        <!-- JOGO 2: FORTALEZA vs SPORT -->
        <div class="game-card">
            <div class="game-card-header">
                <!-- JOGO COM ESCUDOS INTEGRADOS - SEM REPETIÇÃO -->
                <div class="confronto-visual">
                    <span style="font-size: 18px; font-weight: bold; color: var(--cor-destaque-secundaria); margin-right: 15px;">JOGO 2:</span>
                    <div class="time-info">
                        <img src="/static/escudos/FOR_Fortaleza/Fortaleza.png" 
                             alt="Fortaleza" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>FORTALEZA</span>
                    </div>
                    
                    <div class="vs-divider">×</div>
                    
                    <div class="time-info">
                        <img src="/static/escudos/SPT_Sport/Sport.png" 
                             alt="Sport" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>SPORT</span>
                    </div>
                </div>
                
                <div class="game-info">Arena Castelão | Série B | Sábado</div>
            </div>
            <div class="game-card-body">
                <div class="probabilities">
                    <div class="prob-item col1"><div class="label">Coluna 1 (Fortaleza)</div><div class="value">60%</div></div>
                    <div class="prob-item colX"><div class="label">Coluna X (Empate)</div><div class="value">25%</div></div>
                    <div class="prob-item col2"><div class="label">Coluna 2 (Sport)</div><div class="value">15%</div></div>
                </div>
                <div class="recommendation"><strong>Recomendação Estatística: Coluna 1 (Fortaleza)</strong> - Risco Baixo</div>
                
                <!-- VERSÃO MOBILE SIMPLIFICADA -->
                <div class="analysis-mobile">
                    <div class="analysis-mobile-item">
                        <div class="analysis-mobile-label">Análise Geral</div>
                        <div class="analysis-mobile-teams">
                            <span>FOR: Casa + Forma</span>
                            <span>SPO: Visitante</span>
                        </div>
                        <div class="analysis-mobile-result">
                            <span class="status-icon vantagem">▲</span>FOR
                        </div>
                    </div>
                </div>
                
                <div class="analyst-conclusion">
                    <h4>Conclusão do Analista (IA)</h4>
                    <p>O Fortaleza apresenta um favoritismo claro neste confronto. Além de jogar em casa, o time vive uma fase muito superior à do Sport e possui um histórico recente dominante no confronto direto. A aposta na Coluna 1 é a mais segura segundo os dados.</p>
                </div>
            </div>
        </div>

        <!-- JOGO 3: JUVENTUDE vs INTERNACIONAL -->
        <div class="game-card">
            <div class="game-card-header">
                <!-- JOGO COM ESCUDOS INTEGRADOS - SEM REPETIÇÃO -->
                <div class="confronto-visual">
                    <span style="font-size: 18px; font-weight: bold; color: var(--cor-destaque-secundaria); margin-right: 15px;">JOGO 3:</span>
                    <div class="time-info">
                        <img src="/static/escudos/JUV_Juventude/Juventude.PNG" 
                             alt="Juventude" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>JUVENTUDE</span>
                    </div>
                    
                    <div class="vs-divider">×</div>
                    
                    <div class="time-info">
                        <img src="/static/escudos/INT_Internacional/Internacional.png" 
                             alt="Internacional" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>INTERNACIONAL</span>
                    </div>
                </div>
                
                <div class="game-info">Alfredo Jaconi | Brasileirão Série A | Sábado</div>
            </div>
            <div class="game-card-body">
                <div class="probabilities">
                    <div class="prob-item col1"><div class="label">Coluna 1 (Juventude)</div><div class="value">20%</div></div>
                    <div class="prob-item colX"><div class="label">Coluna X (Empate)</div><div class="value">35%</div></div>
                    <div class="prob-item col2"><div class="label">Coluna 2 (Internacional)</div><div class="value">45%</div></div>
                </div>
                <div class="recommendation"><strong>Recomendação Estatística: Coluna 2 (Internacional)</strong> - Risco Médio</div>
                
                <!-- VERSÃO MOBILE -->
                <div class="analysis-mobile">
                    <div class="analysis-mobile-item">
                        <div class="analysis-mobile-label">Força</div>
                        <div class="analysis-mobile-teams">
                            <span>JUV: Casa</span>
                            <span>INT: Elenco</span>
                        </div>
                        <div class="analysis-mobile-result">
                            <span class="status-icon desvantagem">▼</span>INT
                        </div>
                    </div>
                    <div class="analysis-mobile-item">
                        <div class="analysis-mobile-label">Clássico</div>
                        <div class="analysis-mobile-teams">
                            <span>Rivalry: RS</span>
                            <span>Equilibrado</span>
                        </div>
                        <div class="analysis-mobile-result">
                            <span class="status-icon equilibrio">▬</span>X2
                        </div>
                    </div>
                </div>
                
                <div class="analyst-conclusion">
                    <h4>Conclusão do Analista (IA)</h4>
                    <p>Clássico gaúcho com favoritismo para o visitante. O Internacional possui um elenco tecnicamente superior e melhor campanha. No entanto, o Juventude é forte em casa e clássicos costumam ser equilibrados, tornando o empate (Coluna X) uma aposta de valor a ser considerada (duplo X2).</p>
                </div>
            </div>
        </div>

        <!-- JOGO 4: VASCO DA GAMA vs CRUZEIRO -->
        <div class="game-card">
            <div class="game-card-header">
                <!-- JOGO COM ESCUDOS INTEGRADOS - SEM REPETIÇÃO -->
                <div class="confronto-visual">
                    <span style="font-size: 18px; font-weight: bold; color: var(--cor-destaque-secundaria); margin-right: 15px;">JOGO 4:</span>
                    <div class="time-info">
                        <img src="/static/escudos/VAS_Vasco/Vasco.png" 
                             alt="Vasco" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>VASCO</span>
                    </div>
                    
                    <div class="vs-divider">×</div>
                    
                    <div class="time-info">
                        <img src="/static/escudos/CRU_Cruzeiro/Cruzeiro.png" 
                             alt="Cruzeiro" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>CRUZEIRO</span>
                    </div>
                </div>
                
                <div class="game-info">São Januário | Brasileirão Série A | Sábado</div>
            </div>
            <div class="game-card-body">
                <div class="probabilities">
                    <div class="prob-item col1"><div class="label">Coluna 1 (Vasco)</div><div class="value">40%</div></div>
                    <div class="prob-item colX"><div class="label">Coluna X (Empate)</div><div class="value">35%</div></div>
                    <div class="prob-item col2"><div class="label">Coluna 2 (Cruzeiro)</div><div class="value">25%</div></div>
                </div>
                <div class="recommendation"><strong>Recomendação Estatística: Coluna 1 (Vasco)</strong> - Risco Alto</div>
                <div class="analyst-conclusion">
                    <h4>Conclusão do Analista (IA)</h4>
                    <p>Confronto de gigantes com leve favoritismo para o Vasco, impulsionado pelo fator casa em São Januário. Ambos os times vêm de campanhas irregulares, o que eleva a probabilidade de empate. É um jogo de risco, onde um duplo (1X) pode ser a melhor estratégia para cercar o resultado.</p>
                </div>
            </div>
        </div>

        <!-- JOGO 5: ATHLETICO/PR vs OPERARIO/PR -->
        <div class="game-card">
            <div class="game-card-header">
                <!-- JOGO COM ESCUDOS INTEGRADOS - SEM REPETIÇÃO -->
                <div class="confronto-visual">
                    <span style="font-size: 18px; font-weight: bold; color: var(--cor-destaque-secundaria); margin-right: 15px;">JOGO 5:</span>
                    <div class="time-info">
                        <img src="/static/escudos/CAP_Athlético-PR/Athletico_PR.png" 
                             alt="Athletico" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>ATHLETICO</span>
                    </div>
                    
                    <div class="vs-divider">×</div>
                    
                    <div class="time-info">
                        <img src="/static/escudos/OPE_Operário-PR/Operario_PR.PNG" 
                             alt="Operário" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>OPERÁRIO</span>
                    </div>
                </div>
                
                <div class="game-info">Ligga Arena | Campeonato Paranaense | Sábado</div>
            </div>
            <div class="game-card-body">
                <div class="probabilities">
                    <div class="prob-item col1"><div class="label">Coluna 1 (Athletico)</div><div class="value">70%</div></div>
                    <div class="prob-item colX"><div class="label">Coluna X (Empate)</div><div class="value">20%</div></div>
                    <div class="prob-item col2"><div class="label">Coluna 2 (Operário)</div><div class="value">10%</div></div>
                </div>
                <div class="recommendation"><strong>Recomendação Estatística: Coluna 1 (Athletico)</strong> - Risco Baixo</div>
                <div class="analyst-conclusion">
                    <h4>Conclusão do Analista (IA)</h4>
                    <p>Um dos maiores favoritos do concurso. O Athletico/PR é imbatível em sua arena e enfrenta um adversário de menor expressão. A diferença técnica, o fator casa e o histórico apontam para uma vitória tranquila do time mandante. É um dos "secos" mais confiáveis da rodada.</p>
                </div>
            </div>
        </div>

        <!-- JOGO 6: ATLETICO/MG vs MIRASSOL/SP -->
        <div class="game-card">
            <div class="game-card-header">
                <!-- JOGO COM ESCUDOS INTEGRADOS - SEM REPETIÇÃO -->
                <div class="confronto-visual">
                    <span style="font-size: 18px; font-weight: bold; color: var(--cor-destaque-secundaria); margin-right: 15px;">JOGO 6:</span>
                    <div class="time-info">
                        <img src="/static/escudos/CAM_Atletico-MG/Atletico_MG.png" 
                             alt="Atlético/MG" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>ATLÉTICO/MG</span>
                    </div>
                    
                    <div class="vs-divider">×</div>
                    
                    <div class="time-info">
                        <img src="/static/escudos/MIR_Mirassol/Mirassol.png" 
                             alt="Mirassol" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>MIRASSOL</span>
                    </div>
                </div>
                
                <div class="game-info">Arena MRV | Brasileirão Série A | Sábado</div>
            </div>
            <div class="game-card-body">
                <div class="probabilities">
                    <div class="prob-item col1"><div class="label">Coluna 1 (Atlético/MG)</div><div class="value">65%</div></div>
                    <div class="prob-item colX"><div class="label">Coluna X (Empate)</div><div class="value">25%</div></div>
                    <div class="prob-item col2"><div class="label">Coluna 2 (Mirassol)</div><div class="value">10%</div></div>
                </div>
                <div class="recommendation"><strong>Recomendação Estatística: Coluna 1 (Atlético/MG)</strong> - Risco Baixo</div>
                <div class="analyst-conclusion">
                    <h4>Conclusão do Analista (IA)</h4>
                    <p>O Atlético Mineiro é amplamente favorito jogando em sua nova arena. Com um elenco muito superior e brigando na parte de cima da tabela, a probabilidade de um tropeço contra o Mirassol é estatisticamente baixa. Coluna 1 é a escolha lógica.</p>
                </div>
            </div>
        </div>

        <!-- JOGO 7: GREMIO vs VITORIA -->
        <div class="game-card">
            <div class="game-card-header">
                <!-- JOGO COM ESCUDOS INTEGRADOS - SEM REPETIÇÃO -->
                <div class="confronto-visual">
                    <span style="font-size: 18px; font-weight: bold; color: var(--cor-destaque-secundaria); margin-right: 15px;">JOGO 7:</span>
                    <div class="time-info">
                        <img src="/static/escudos/GRE_Grêmio/Gremio.PNG" 
                             alt="Grêmio" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>GRÊMIO</span>
                    </div>
                    
                    <div class="vs-divider">×</div>
                    
                    <div class="time-info">
                        <img src="/static/escudos/VIT_Vitória/Vitoria.PNG" 
                             alt="Vitória" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>VITÓRIA</span>
                    </div>
                </div>
                
                <div class="game-info">Arena do Grêmio | Brasileirão Série A | Domingo</div>
            </div>
            <div class="game-card-body">
                <div class="probabilities">
                    <div class="prob-item col1"><div class="label">Coluna 1 (Grêmio)</div><div class="value">55%</div></div>
                    <div class="prob-item colX"><div class="label">Coluna X (Empate)</div><div class="value">30%</div></div>
                    <div class="prob-item col2"><div class="label">Coluna 2 (Vitória)</div><div class="value">15%</div></div>
                </div>
                <div class="recommendation"><strong>Recomendação Estatística: Coluna 1 (Grêmio)</strong> - Risco Médio</div>
                <div class="analyst-conclusion">
                    <h4>Conclusão do Analista (IA)</h4>
                    <p>O Grêmio é favorito em casa, mas o Vitória costuma ser um adversário competitivo. A força da torcida e a qualidade técnica do time gaúcho pesam a favor da Coluna 1, mas a boa organização defensiva do time baiano pode levar a um empate.</p>
                </div>
            </div>
        </div>

        <!-- JOGO 8: ASTON VILLA vs FULHAM -->
        <div class="game-card">
            <div class="game-card-header">
                <!-- JOGO COM ESCUDOS INTEGRADOS - SEM REPETIÇÃO -->
                <div class="confronto-visual">
                    <span style="font-size: 18px; font-weight: bold; color: var(--cor-destaque-secundaria); margin-right: 15px;">JOGO 8:</span>
                    <div class="time-info">
                        <img src="/static/escudos/Aston_Villa/Aston_Villa.PNG" 
                             alt="Aston Villa" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>ASTON VILLA</span>
                    </div>
                    
                    <div class="vs-divider">×</div>
                    
                    <div class="time-info">
                        <img src="/static/escudos/Fulhan/Fulham.PNG" 
                             alt="Fulham" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>FULHAM</span>
                    </div>
                </div>
                
                <div class="game-info">Villa Park | Premier League | Domingo</div>
            </div>
            <div class="game-card-body">
                <div class="probabilities">
                    <div class="prob-item col1"><div class="label">Coluna 1 (Aston Villa)</div><div class="value">50%</div></div>
                    <div class="prob-item colX"><div class="label">Coluna X (Empate)</div><div class="value">25%</div></div>
                    <div class="prob-item col2"><div class="label">Coluna 2 (Fulham)</div><div class="value">25%</div></div>
                </div>
                <div class="recommendation"><strong>Recomendação Estatística: Coluna 1 (Aston Villa)</strong> - Risco Médio</div>
                <div class="analyst-conclusion">
                    <h4>Conclusão do Analista (IA)</h4>
                    <p>Jogando em casa, o Aston Villa tem um claro favoritismo. O time vem fazendo uma campanha sólida na Premier League. O Fulham é um time imprevisível, capaz de surpreender, mas a consistência e o fator casa dão ao Villa a vantagem estatística.</p>
                </div>
            </div>
        </div>

        <!-- JOGO 9: BAHIA vs PALMEIRAS -->
        <div class="game-card">
            <div class="game-card-header">
                <!-- JOGO COM ESCUDOS INTEGRADOS - SEM REPETIÇÃO -->
                <div class="confronto-visual">
                    <span style="font-size: 18px; font-weight: bold; color: var(--cor-destaque-secundaria); margin-right: 15px;">JOGO 9:</span>
                    <div class="time-info">
                        <img src="/static/escudos/BAH_Bahia/Bahia.PNG" 
                             alt="Bahia" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>BAHIA</span>
                    </div>
                    
                    <div class="vs-divider">×</div>
                    
                    <div class="time-info">
                        <img src="/static/escudos/PAL_Palmeiras/Palmeiras.png" 
                             alt="Palmeiras" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>PALMEIRAS</span>
                    </div>
                </div>
                
                <div class="game-info">Arena Fonte Nova | Brasileirão Série A | Domingo</div>
            </div>
            <div class="game-card-body">
                <div class="probabilities">
                    <div class="prob-item col1"><div class="label">Coluna 1 (Bahia)</div><div class="value">25%</div></div>
                    <div class="prob-item colX"><div class="label">Coluna X (Empate)</div><div class="value">30%</div></div>
                    <div class="prob-item col2"><div class="label">Coluna 2 (Palmeiras)</div><div class="value">45%</div></div>
                </div>
                <div class="recommendation"><strong>Recomendação Estatística: Coluna 2 (Palmeiras)</strong> - Risco Médio</div>
                <div class="analyst-conclusion">
                    <h4>Conclusão do Analista (IA)</h4>
                    <p>Apesar do Bahia ser um mandante forte, o Palmeiras é um dos times mais consistentes do país, mesmo jogando fora. A superioridade técnica do elenco palmeirense o coloca como favorito, mas a força do Bahia na Fonte Nova torna o empate um resultado bastante plausível.</p>
                </div>
            </div>
        </div>

        <!-- JOGO 10: FLUMINENSE vs BOTAFOGO -->
        <div class="game-card">
            <div class="game-card-header">
                <!-- JOGO COM ESCUDOS INTEGRADOS - SEM REPETIÇÃO -->
                <div class="confronto-visual">
                    <span style="font-size: 18px; font-weight: bold; color: var(--cor-destaque-secundaria); margin-right: 15px;">JOGO 10:</span>
                    <div class="time-info">
                        <img src="/static/escudos/FLU_Fluminense/Fluminense.PNG" 
                             alt="Fluminense" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>FLUMINENSE</span>
                    </div>
                    
                    <div class="vs-divider">×</div>
                    
                    <div class="time-info">
                        <img src="/static/escudos/BOT_Botafogo-RJ/Botafogo_RJ.png" 
                             alt="Botafogo" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>BOTAFOGO</span>
                    </div>
                </div>
                
                <div class="game-info">Maracanã | Brasileirão Série A | Domingo</div>
            </div>
            <div class="game-card-body">
                <div class="probabilities">
                    <div class="prob-item col1"><div class="label">Coluna 1 (Fluminense)</div><div class="value">35%</div></div>
                    <div class="prob-item colX"><div class="label">Coluna X (Empate)</div><div class="value">40%</div></div>
                    <div class="prob-item col2"><div class="label">Coluna 2 (Botafogo)</div><div class="value">25%</div></div>
                </div>
                <div class="recommendation"><strong>Recomendação Estatística: Coluna X (Empate)</strong> - Risco Alto</div>
                <div class="analyst-conclusion">
                    <h4>Conclusão do Analista (IA)</h4>
                    <p>O clássico mais equilibrado da rodada. Ambos os times possuem estilos de jogo fortes e campanhas similares. O fator "campo neutro" (Maracanã) anula a vantagem de mandante. A alta probabilidade de empate faz da Coluna X a aposta estatisticamente mais provável para este confronto.</p>
                </div>
            </div>
        </div>

        <!-- JOGO 11: CRICIUMA vs PAYSANDU -->
        <div class="game-card">
            <div class="game-card-header">
                <!-- JOGO COM ESCUDOS INTEGRADOS - SEM REPETIÇÃO -->
                <div class="confronto-visual">
                    <span style="font-size: 18px; font-weight: bold; color: var(--cor-destaque-secundaria); margin-right: 15px;">JOGO 11:</span>
                    <div class="time-info">
                        <img src="/static/escudos/CRI_Criciúma/Crisciuma.PNG" 
                             alt="Criciúma" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>CRICIÚMA</span>
                    </div>
                    
                    <div class="vs-divider">×</div>
                    
                    <div class="time-info">
                        <img src="/static/escudos/PAY_Paysandu/Paysandu.PNG" 
                             alt="Paysandu" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>PAYSANDU</span>
                    </div>
                </div>
                
                <div class="game-info">Heriberto Hülse | Série B | Domingo</div>
            </div>
            <div class="game-card-body">
                <div class="probabilities">
                    <div class="prob-item col1"><div class="label">Coluna 1 (Criciúma)</div><div class="value">55%</div></div>
                    <div class="prob-item colX"><div class="label">Coluna X (Empate)</div><div class="value">30%</div></div>
                    <div class="prob-item col2"><div class="label">Coluna 2 (Paysandu)</div><div class="value">15%</div></div>
                </div>
                <div class="recommendation"><strong>Recomendação Estatística: Coluna 1 (Criciúma)</strong> - Risco Médio</div>
                <div class="analyst-conclusion">
                    <h4>Conclusão do Analista (IA)</h4>
                    <p>O Criciúma é muito forte em seus domínios e faz uma campanha mais sólida na Série B. O Paysandu sofre com o desgaste da longa viagem e tem um desempenho irregular como visitante. O favoritismo é todo do time da casa.</p>
                </div>
            </div>
        </div>

        <!-- JOGO 12: NEWCASTLE vs ARSENAL -->
        <div class="game-card">
            <div class="game-card-header">
                <!-- JOGO COM ESCUDOS INTEGRADOS - SEM REPETIÇÃO -->
                <div class="confronto-visual">
                    <span style="font-size: 18px; font-weight: bold; color: var(--cor-destaque-secundaria); margin-right: 15px;">JOGO 12:</span>
                    <div class="time-info">
                        <img src="/static/escudos/New Castle/New_Castle.PNG" 
                             alt="Newcastle" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>NEWCASTLE</span>
                    </div>
                    
                    <div class="vs-divider">×</div>
                    
                    <div class="time-info">
                        <img src="/static/escudos/Arsenal/Arsenal.PNG" 
                             alt="Arsenal" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>ARSENAL</span>
                    </div>
                </div>
                
                <div class="game-info">St. James' Park | Premier League | Domingo</div>
            </div>
            <div class="game-card-body">
                <div class="probabilities">
                    <div class="prob-item col1"><div class="label">Coluna 1 (Newcastle)</div><div class="value">30%</div></div>
                    <div class="prob-item colX"><div class="label">Coluna X (Empate)</div><div class="value">30%</div></div>
                    <div class="prob-item col2"><div class="label">Coluna 2 (Arsenal)</div><div class="value">40%</div></div>
                </div>
                <div class="recommendation"><strong>Recomendação Estatística: Coluna 2 (Arsenal)</strong> - Risco Alto</div>
                <div class="analyst-conclusion">
                    <h4>Conclusão do Analista (IA)</h4>
                    <p>Jogo de altíssimo nível. O Arsenal é tecnicamente superior e briga pelo título, o que lhe confere um leve favoritismo. Contudo, o Newcastle em casa é um dos adversários mais difíceis da liga. Jogo com tendência a gols e resultado imprevisível. Um duplo (X2) é altamente recomendado.</p>
                </div>
            </div>
        </div>

        <!-- JOGO 13: BRAGANTINO vs SANTOS -->
        <div class="game-card">
            <div class="game-card-header">
                <!-- JOGO COM ESCUDOS INTEGRADOS - SEM REPETIÇÃO -->
                <div class="confronto-visual">
                    <span style="font-size: 18px; font-weight: bold; color: var(--cor-destaque-secundaria); margin-right: 15px;">JOGO 13:</span>
                    <div class="time-info">
                        <img src="/static/escudos/RBB_Bragantino/RedBull_Bragantino.png" 
                             alt="Bragantino" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>BRAGANTINO</span>
                    </div>
                    
                    <div class="vs-divider">×</div>
                    
                    <div class="time-info">
                        <img src="/static/escudos/SAN_Santos/Santos.png" 
                             alt="Santos" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>SANTOS</span>
                    </div>
                </div>
                
                <div class="game-info">Nabi Abi Chedid | Brasileirão Série A | Domingo</div>
            </div>
            <div class="game-card-body">
                <div class="probabilities">
                    <div class="prob-item col1"><div class="label">Coluna 1 (Bragantino)</div><div class="value">50%</div></div>
                    <div class="prob-item colX"><div class="label">Coluna X (Empate)</div><div class="value">30%</div></div>
                    <div class="prob-item col2"><div class="label">Coluna 2 (Santos)</div><div class="value">20%</div></div>
                </div>
                <div class="recommendation"><strong>Recomendação Estatística: Coluna 1 (Bragantino)</strong> - Risco Médio</div>
                <div class="analyst-conclusion">
                    <h4>Conclusão do Analista (IA)</h4>
                    <p>O Bragantino tem um projeto mais consolidado e um time mais entrosado, além de ser muito forte em casa. O Santos, apesar da camisa pesada, vive um momento de maior instabilidade. O favoritismo estatístico recai sobre o mandante.</p>
                </div>
            </div>
        </div>

        <!-- JOGO 14: BARCELONA vs REAL SOCIEDAD -->
        <div class="game-card">
            <div class="game-card-header">
                <!-- JOGO COM ESCUDOS INTEGRADOS - SEM REPETIÇÃO -->
                <div class="confronto-visual">
                    <span style="font-size: 18px; font-weight: bold; color: var(--cor-destaque-secundaria); margin-right: 15px;">JOGO 14:</span>
                    <div class="time-info">
                        <img src="/static/escudos/Barcelona/Barcelona.PNG" 
                             alt="Barcelona" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>BARCELONA</span>
                    </div>
                    
                    <div class="vs-divider">×</div>
                    
                    <div class="time-info">
                        <img src="/static/escudos/Real_Sociedad/Real_Sociedad.PNG" 
                             alt="Real Sociedad" class="escudo-time" onerror="this.src='/static/placeholder-team-logo.svg'">
                        <span>REAL SOCIEDAD</span>
                    </div>
                </div>
                
                <div class="game-info">Camp Nou | La Liga | Domingo</div>
            </div>
            <div class="game-card-body">
                <div class="probabilities">
                    <div class="prob-item col1"><div class="label">Coluna 1 (Barcelona)</div><div class="value">60%</div></div>
                    <div class="prob-item colX"><div class="label">Coluna X (Empate)</div><div class="value">25%</div></div>
                    <div class="prob-item col2"><div class="label">Coluna 2 (Real Sociedad)</div><div class="value">15%</div></div>
                </div>
                <div class="recommendation"><strong>Recomendação Estatística: Coluna 1 (Barcelona)</strong> - Risco Baixo</div>
                <div class="analyst-conclusion">
                    <h4>Conclusão do Analista (IA)</h4>
                    <p>Jogando em casa, o Barcelona é o grande favorito. A Real Sociedad é uma equipe qualificada, mas o histórico no Camp Nou e a diferença de investimento pesam muito. A vitória do Barcelona é o resultado mais provável para fechar o concurso.</p>
                </div>
            </div>
        </div>

        <!-- OTIMIZADOR DE APOSTAS INTELIGENTE -->
        <div class="optimizer-section">
            <div class="optimizer-header">
                <h2>🎯 Otimizador de Apostas Inteligente</h2>
                <p>Com base na análise acima, vamos otimizar seu investimento! Defina seu orçamento e receba a distribuição mais inteligente de duplos e triplos.</p>
            </div>

            <!-- SELETOR DE ORÇAMENTO -->
            <div class="budget-selector">
                <h3>💰 Quanto você quer investir?</h3>
                <div class="budget-options">
                    <button class="budget-btn" data-value="16">R$ 16,00</button>
                    <button class="budget-btn" data-value="32">R$ 32,00</button>
                    <button class="budget-btn" data-value="72">R$ 72,00</button>
                    <button class="budget-btn" data-value="144">R$ 144,00</button>
                    <button class="budget-btn" data-value="288">R$ 288,00</button>
                    <input type="number" id="custom-budget" placeholder="Valor personalizado" min="4" max="1728">
                </div>
                <div class="budget-info">
                    <span id="budget-details">Selecione um valor para ver a distribuição otimizada</span>
                </div>
            </div>

            <!-- CLASSIFICAÇÃO DOS JOGOS -->
            <div class="games-classification">
                <h3>📊 Classificação Estratégica dos Jogos</h3>
                
                <div class="classification-grid">
                    <div class="classification-card seco">
                        <h4>🎯 JOGOS "SECOS" (Alta Confiança)</h4>
                        <p>Favorito claro > 60% - Aposte em 1 resultado apenas</p>
                        <ul id="seco-games">
                            <li>Jogo 5: Athletico/PR (70%) - Recomendação: 1</li>
                            <li>Jogo 6: Atlético/MG (65%) - Recomendação: 1</li>
                            <li>Jogo 14: Barcelona (60%) - Recomendação: 1</li>
                        </ul>
                    </div>

                    <div class="classification-card duplo">
                        <h4>⚖️ JOGOS PARA "DUPLO" (Incerteza Média)</h4>
                        <p>Favorito claro, mas 2º resultado tem chance > 25%</p>
                        <ul id="duplo-games">
                            <li>Jogo 1: Corinthians (45%) vs Empate (30%) - Duplo: 1X</li>
                            <li>Jogo 9: Palmeiras (45%) vs Empate (30%) - Duplo: X2</li>
                            <li>Jogo 12: Arsenal (40%) vs Empate (30%) - Duplo: X2</li>
                            <li>Jogo 7: Grêmio (55%) vs Empate (30%) - Duplo: 1X</li>
                        </ul>
                    </div>

                    <div class="classification-card triplo">
                        <h4>🎲 JOGOS PARA "TRIPLO" (Equilíbrio Total)</h4>
                        <p>Resultados muito equilibrados - Cobertura total recomendada</p>
                        <ul id="triplo-games">
                            <li>Jogo 10: Fluminense (35%) vs Empate (40%) vs Botafogo (25%)</li>
                            <li>Jogo 4: Vasco (40%) vs Empate (35%) vs Cruzeiro (25%)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- TABELA DE OTIMIZAÇÃO -->
            <div class="optimization-table-container">
                <h3>🎮 Sua Aposta Otimizada</h3>
                <div class="table-responsive">
                    <table class="optimization-table">
                        <thead>
                            <tr>
                                <th>Jogo</th>
                                <th>Confronto</th>
                                <th>Classificação</th>
                                <th>Sugestão IA</th>
                                <th>Sua Escolha</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="optimization-tbody">
                            <!-- Os jogos serão preenchidos via JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- RESUMO DA APOSTA -->
            <div class="bet-summary">
                <div class="summary-grid">
                    <div class="summary-card">
                        <div class="summary-value" id="duplos-count">0</div>
                        <div class="summary-label">Duplos Selecionados</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-value" id="triplos-count">0</div>
                        <div class="summary-label">Triplos Selecionados</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-value" id="total-combinations">1</div>
                        <div class="summary-label">Nº de Apostas</div>
                    </div>
                    <div class="summary-card highlight">
                        <div class="summary-value" id="total-cost">R$ 2,00</div>
                        <div class="summary-label">Valor Total</div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn-primary" id="generate-tickets">🎫 Gerar Cartões para Impressão</button>
                    <button class="btn-secondary" id="save-strategy">💾 Salvar Estratégia</button>
                </div>
            </div>
        </div>

        </div> <!-- FIM DA ABA 1: ANÁLISE RÁPIDA -->

        <!-- ABA 2: DADOS AVANÇADOS -->
        <div class="tab-content" id="dados-avancados" style="display: none;">
            <div class="advanced-stats-container">
                
                <!-- SELETOR DE CONFRONTO -->
                <div class="game-selector">
                    <h3>🎮 Selecione o Confronto para Análise Detalhada</h3>
                    <div style="display: flex; gap: 1rem; align-items: center; justify-content: center; flex-wrap: wrap;">
                        <select id="game-selector" class="game-select" style="flex: 1; min-width: 300px;">
                            <option value="">Escolha um jogo...</option>
                            <!-- Jogos serão carregados dinamicamente da Aba 1 -->
                        </select>
                        <button id="sync-games-btn" onclick="sincronizarJogosEntreAbas()" 
                                style="padding: 1rem 1.5rem; background: var(--cor-destaque-primaria); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; transition: all 0.3s ease;">
                            🔄 Sincronizar
                        </button>
                    </div>
                    <p style="margin-top: 1rem; color: var(--cor-texto-secundario); font-size: 0.9rem; text-align: center;">
                        💡 Os jogos são automaticamente sincronizados com a Aba "Análise Rápida"
                    </p>
                </div>

                <!-- ÁREA DE ANÁLISE DETALHADA -->
                <div id="detailed-analysis" class="detailed-analysis" style="display: none;">
                    
                    <!-- CABEÇALHO DO CONFRONTO -->
                    <div class="match-header">
                        <div class="team-info">
                            <div class="team-home">
                                <img src="{{ url_for('static', filename='placeholder-team-logo.svg') }}" alt="Time Casa" class="team-logo">
                                <h3 id="team-home-name">Time Casa</h3>
                                <span class="team-position">5º Posição</span>
                            </div>
                            <div class="vs-separator">
                                <span class="vs-text">VS</span>
                                <div class="match-info">
                                    <span class="stadium">Arena - Local</span>
                                    <span class="date">Domingo, 15h</span>
                                </div>
                            </div>
                            <div class="team-away">
                                <img src="{{ url_for('static', filename='placeholder-team-logo.svg') }}" alt="Time Visitante" class="team-logo">
                                <h3 id="team-away-name">Time Visitante</h3>
                                <span class="team-position">2º Posição</span>
                            </div>
                        </div>
                    </div>

                    <!-- ESTATÍSTICAS COMPARATIVAS -->
                    <div class="stats-comparison">
                        <h4>📊 Comparação Estatística</h4>
                        
                        <div class="stats-grid">
                            <!-- FORMA RECENTE -->
                            <div class="stat-row">
                                <div class="stat-label">Forma (Últimos 5)</div>
                                <div class="stat-home">
                                    <div class="form-sequence">
                                        <span class="result win">V</span>
                                        <span class="result draw">E</span>
                                        <span class="result win">V</span>
                                        <span class="result loss">D</span>
                                        <span class="result win">V</span>
                                    </div>
                                </div>
                                <div class="stat-away">
                                    <div class="form-sequence">
                                        <span class="result win">V</span>
                                        <span class="result win">V</span>
                                        <span class="result draw">E</span>
                                        <span class="result draw">E</span>
                                        <span class="result loss">D</span>
                                    </div>
                                </div>
                            </div>

                            <!-- GOLS MARCADOS -->
                            <div class="stat-row">
                                <div class="stat-label">Gols por Jogo</div>
                                <div class="stat-home">
                                    <div class="stat-value">1.8</div>
                                    <div class="stat-bar">
                                        <div class="stat-fill" style="width: 72%"></div>
                                    </div>
                                </div>
                                <div class="stat-away">
                                    <div class="stat-value">2.1</div>
                                    <div class="stat-bar">
                                        <div class="stat-fill" style="width: 84%"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- GOLS SOFRIDOS -->
                            <div class="stat-row">
                                <div class="stat-label">Gols Sofridos</div>
                                <div class="stat-home">
                                    <div class="stat-value">1.2</div>
                                    <div class="stat-bar defensive">
                                        <div class="stat-fill" style="width: 48%"></div>
                                    </div>
                                </div>
                                <div class="stat-away">
                                    <div class="stat-value">1.0</div>
                                    <div class="stat-bar defensive">
                                        <div class="stat-fill" style="width: 40%"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- POSSE DE BOLA -->
                            <div class="stat-row">
                                <div class="stat-label">Posse Média (%)</div>
                                <div class="stat-home">
                                    <div class="stat-value">58.5%</div>
                                    <div class="stat-bar">
                                        <div class="stat-fill" style="width: 58.5%"></div>
                                    </div>
                                </div>
                                <div class="stat-away">
                                    <div class="stat-value">62.3%</div>
                                    <div class="stat-bar">
                                        <div class="stat-fill" style="width: 62.3%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- HISTÓRICO H2H -->
                    <div class="h2h-section">
                        <h4>⚔️ Histórico de Confrontos (Últimos 10)</h4>
                        <div class="h2h-grid">
                            <div class="h2h-summary">
                                <div class="h2h-stat">
                                    <span class="h2h-label">Vitórias Casa</span>
                                    <span class="h2h-value">4</span>
                                </div>
                                <div class="h2h-stat">
                                    <span class="h2h-label">Empates</span>
                                    <span class="h2h-value">2</span>
                                </div>
                                <div class="h2h-stat">
                                    <span class="h2h-label">Vitórias Visitante</span>
                                    <span class="h2h-value">4</span>
                                </div>
                            </div>
                            <div class="h2h-results">
                                <div class="h2h-match">
                                    <span class="match-date">15/09/2024</span>
                                    <span class="match-result home-win">Casa 2-1 Visitante</span>
                                </div>
                                <div class="h2h-match">
                                    <span class="match-date">20/05/2024</span>
                                    <span class="match-result away-win">Casa 0-3 Visitante</span>
                                </div>
                                <div class="h2h-match">
                                    <span class="match-date">12/01/2024</span>
                                    <span class="match-result draw">Casa 1-1 Visitante</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- RECOMENDAÇÃO BASEADA EM DADOS -->
                    <div class="data-recommendation">
                        <h4>🎯 Recomendação Baseada em Estatísticas</h4>
                        <div class="recommendation-card">
                            <div class="recommendation-header">
                                <span class="confidence-level high">Alta Confiança</span>
                                <span class="recommended-bet">Duplo X2</span>
                            </div>
                            <div class="recommendation-reasoning">
                                <p><strong>Análise:</strong> Com base nos dados estatísticos, o time visitante apresenta números superiores ofensivos (2.1 gols/jogo vs 1.8) e melhor defesa (1.0 vs 1.2 gols sofridos). O histórico H2H está equilibrado, tornando o empate uma possibilidade real. A recomendação é cobrir visitante e empate.</p>
                            </div>
                            <div class="recommendation-factors">
                                <div class="factor positive">✅ Melhor ataque visitante</div>
                                <div class="factor positive">✅ Melhor defesa visitante</div>
                                <div class="factor neutral">⚖️ H2H equilibrado</div>
                                <div class="factor negative">❌ Fator casa</div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- MENSAGEM QUANDO NENHUM JOGO SELECIONADO -->
                <div id="no-game-selected" class="no-selection">
                    <div class="no-selection-content">
                        <h3>📊 Análise Estatística Detalhada</h3>
                        <p>Selecione um confronto acima para ver estatísticas avançadas, histórico de confrontos e recomendações baseadas em dados reais.</p>
                        <div class="features-preview">
                            <div class="feature-item">🎯 Forma recente dos times</div>
                            <div class="feature-item">📈 Estatísticas ofensivas e defensivas</div>
                            <div class="feature-item">⚔️ Histórico de confrontos diretos</div>
                            <div class="feature-item">🧠 Recomendações inteligentes</div>
                        </div>
                    </div>
                </div>

                <!-- SEÇÃO REORGANIZADA: SUB-ABAS PARA TIMES LOTECA + SÉRIES A e B -->
                <div class="dados-avancados-container">
                    <!-- Sub-abas navegação -->
                    <div class="sub-tabs-nav">
                        <button class="sub-tab-btn active" data-target="times-loteca-dados">
                            ⚽ Times Loteca Jogos
                        </button>
                        <button class="sub-tab-btn" data-target="serie-a-dados">
                            🏆 Brasileirão Série A
                        </button>
                        <button class="sub-tab-btn" data-target="serie-b-dados">
                            🥈 Brasileirão Série B
                        </button>
                    </div>

                    <!-- Conteúdo Times Loteca Jogos -->
                    <div id="times-loteca-dados" class="sub-tab-content dados-avancados-content active">
                        <div class="section-header">
                            <h2>⚽ Times Loteca Jogos - Comparação Direta</h2>
                            <p>Análise lado a lado dos 14 confrontos com dados reais do Cartola FC para facilitar suas apostas</p>
                            <button id="atualizar-times-loteca" class="refresh-btn">
                                <span class="refresh-icon">🔄</span>
                                Atualizar Dados dos Times
                            </button>
                        </div>

                        <!-- LOADING -->
                        <div class="loading-clubes" id="loading-times-loteca">
                            <div class="loading-spinner"></div>
                            <p>Carregando dados dos times...</p>
                        </div>

                        <!-- CONTAINER DOS JOGOS -->
                        <div id="jogos-loteca-container" class="jogos-container">
                            <!-- Os jogos serão carregados dinamicamente aqui -->
                        </div>

                        <!-- RESUMO ESTATÍSTICO -->
                        <div class="resumo-times-loteca">
                            <div class="resumo-card">
                                <h3>📊 Resumo Estatístico</h3>
                                <div class="resumo-stats">
                                    <div class="summary-item">
                                        <span class="summary-label">Times Brasileiros:</span>
                                        <span class="summary-value" id="total-brasileiros">-</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-label">Times Internacionais:</span>
                                        <span class="summary-value" id="total-internacionais">-</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-label">Força Média Geral:</span>
                                        <span class="summary-value" id="forca-media-geral">-</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-label">Preço Médio (C$):</span>
                                        <span class="summary-value" id="preco-medio-geral">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- Fim da seção Times Loteca -->

                    <!-- Conteúdo Série A -->
                    <div id="serie-a-dados" class="sub-tab-content dados-avancados-content">
                        <div class="section-header">
                            <h2>🏆 Brasileirão Série A - Dados Reais do Cartola FC</h2>
                            <p>Análise completa dos elencos da elite do futebol brasileiro</p>
                            <button id="refresh-serie-a-btn" class="refresh-btn">
                                <span class="refresh-icon">🔄</span>
                                Atualizar Série A
                            </button>
                        </div>
                        
                        <div class="clubes-brasileirao-section">
                            <div class="loading-clubes" id="loading-clubes">
                                <div class="loading-spinner"></div>
                                <p>Carregando dados dos clubes...</p>
                            </div>
                            
                            <div class="clubes-container" id="clubes-container">
                                <!-- Os cards dos clubes serão inseridos aqui -->
                            </div>
                            
                            <div class="clubes-stats-summary" id="clubes-summary">
                                <div class="summary-item">
                                    <span class="summary-label">Total de Clubes:</span>
                                    <span class="summary-value" id="total-clubes">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">Última Atualização:</span>
                                    <span class="summary-value" id="last-update">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">Fonte:</span>
                                    <span class="summary-value" id="data-source">-</span>
                                </div>
                            </div>
                        </div> <!-- Fim da seção clubes Série A -->
                    </div> <!-- Fim da sub-aba Série A -->
                    
                    <!-- Conteúdo Série B -->
                    <div id="serie-b-dados" class="sub-tab-content dados-avancados-content">
                        <div class="section-header">
                            <h2>🥈 Brasileirão Série B - Dados Reais do Cartola FC</h2>
                            <p>Análise completa dos clubes da segunda divisão</p>
                            <button id="refresh-serie-b-btn" class="refresh-btn">
                                <span class="refresh-icon">🔄</span>
                                Atualizar Série B
                            </button>
                        </div>
                        
                        <div class="clubes-brasileirao-section">
                            <div class="loading-clubes" id="loading-clubes-b">
                                <div class="loading-spinner"></div>
                                <p>Carregando dados dos clubes da Série B...</p>
                            </div>

                            <div class="clubes-container" id="clubes-container-b">
                                <!-- Os cards dos clubes da Série B serão inseridos aqui -->
                            </div>
                            
                            <div class="clubes-stats-summary" id="clubes-summary-b">
                                <div class="summary-item">
                                    <span class="summary-label">Total de Clubes:</span>
                                    <span class="summary-value" id="total-clubes-b">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">Última Atualização:</span>
                                    <span class="summary-value" id="last-update-b">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">Fonte:</span>
                                    <span class="summary-value" id="data-source-b">-</span>
                                </div>
                            </div>
                        </div>
                    </div> <!-- Fim da seção Série B -->
                    
                </div> <!-- Fim do container dados avançados -->

            </div>
        </div> <!-- FIM DA ABA 2: DADOS AVANÇADOS -->

        <!-- ABA 3: PANORAMA DOS CAMPEONATOS -->
        <div class="tab-content" id="panorama-campeonatos" style="display: none;">
            <div class="panorama-container">
                
                <!-- CABEÇALHO DA ABA -->
                <div class="section-header">
                    <h2>🏆 Panorama dos Campeonatos</h2>
                    <p>Tabelas de classificação e estatísticas dos principais torneios em tempo real</p>
                </div>

                <!-- SUB-ABAS DOS CAMPEONATOS -->
                <div class="sub-tabs-container">
                    <div class="sub-tabs-nav">
                        <button class="sub-tab-btn active" data-subtab="nacionais">
                            🇧🇷 Nacionais
                        </button>
                        <button class="sub-tab-btn" data-subtab="internacionais">
                            🌍 Internacionais
                        </button>
                        <button class="sub-tab-btn" data-subtab="regionais">
                            🏟️ Regionais
                        </button>
                    </div>
                </div>

                <!-- CONTEÚDO DAS SUB-ABAS -->
                
                <!-- SUB-ABA: NACIONAIS -->
                <div class="sub-tab-content" id="nacionais" style="display: block;">
                    
                    <!-- SELETOR DE CAMPEONATO NACIONAL -->
                    <div class="championship-selector">
                        <h3>📊 Selecione o Campeonato</h3>
                        <div class="championship-buttons">
                            <button class="champ-btn active" data-championship="serie-a">
                                Brasileirão Série A
                            </button>
                            <button class="champ-btn" data-championship="serie-b">
                                Brasileirão Série B
                            </button>
                        </div>
                    </div>

                    <!-- TABELA DE CLASSIFICAÇÃO -->
                    <div class="classification-table-container">
                        <div class="table-header">
                            <h4 id="current-championship-title">Brasileirão Série A - Classificação</h4>
                            <div class="table-controls">
                                <button id="refresh-table-btn" class="refresh-btn">
                                    <span class="refresh-icon">🔄</span>
                                    Atualizar
                                </button>
                            </div>
                        </div>

                        <!-- TABELA BRASILEIRÃO SÉRIE A -->
                        <div id="tabela-serie-a" class="classification-table active">
                            <div class="table-loading">
                                <p>🔄 Carregando classificação da Série A...</p>
                            </div>
                        </div>

                        <!-- TABELA BRASILEIRÃO SÉRIE B -->
                        <div id="tabela-serie-b" class="classification-table">
                            <div class="table-loading">
                                <p>🔄 Carregando classificação da Série B...</p>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- SUB-ABA: INTERNACIONAIS -->
                <div class="sub-tab-content" id="internacionais" style="display: none;">
                    <div class="coming-soon">
                        <h3>🌍 Campeonatos Internacionais</h3>
                        <p>Em breve: Champions League, Premier League, La Liga, Ligue 1 e muito mais!</p>
                        <div class="features-preview">
                            <div class="feature-item">🏆 Champions League</div>
                            <div class="feature-item">⚽ Premier League</div>
                            <div class="feature-item">🇪🇸 La Liga</div>
                            <div class="feature-item">Ligue </div>
                        </div>
                    </div>
                </div>

                <!-- SUB-ABA: REGIONAIS -->
                <div class="sub-tab-content" id="regionais" style="display: none;">
                    <div class="coming-soon">
                        <h3>🏟️ Campeonatos Regionais</h3>
                        <p>Em breve: Carioca, Paulista, Copa do Brasil e estaduais!</p>
                        <div class="features-preview">
                            <div class="feature-item">🏟️ Campeonato Carioca</div>
                            <div class="feature-item">⚽ Campeonato Paulista</div>
                            <div class="feature-item">🏆 Copa do Brasil</div>
                            <div class="feature-item">🌟 Outros Estaduais</div>
                        </div>
                    </div>
                </div>

            </div>
        </div> <!-- FIM DA ABA 3: PANORAMA DOS CAMPEONATOS -->

        <footer class="footer">
            <div class="footer-cta">
                <h3>📈 Aposte com Inteligência, Jogue com Confiança</h3>
                <p>Acesse nossa plataforma completa com <strong>+12.000 análises estatísticas</strong>, históricos, Mega Sena, Quina, Lotofácil e muito mais!</p>
                <a href="https://www.loteriasinteligente.com.br/" target="_blank" rel="noopener noreferrer" class="footer-cta-btn">
                    🎯 Conhecer Loterias Inteligente
                </a>
            </div>
            <div class="footer-legal">
                <p><strong>Aviso Importante:</strong> Esta é uma ferramenta de análise estatística. Loterias envolvem sorte. Jogue com responsabilidade.</p>
                <p>&copy; 2025 <a href="https://www.loteriasinteligente.com.br/" target="_blank" rel="noopener noreferrer">Loterias Inteligente</a>. Todos os direitos reservados.</p>
            </div>
            
            <!-- RODAPÉ DE POLÍTICA DE HONESTIDADE -->
            <div class="honesty-footer">
                <div class="honesty-row">
                    <div class="honesty-text">
                        <strong>Política de Honestidade & Jogo Responsável.</strong>
                        Loterias Inteligente é uma plataforma independente de análise estatística,
                        sem vínculo com a Caixa Econômica Federal. Nossas ferramentas oferecem
                        insights baseados em dados, mas loterias envolvem sorte e aleatoriedade —
                        não há garantias de ganhos. Jogue com responsabilidade.
                    </div>
                    <div class="honesty-actions">
                        <button class="honesty-toggle" onclick="openHonestyModal()">
                            Ver detalhes
                        </button>
                    </div>
                </div>
            </div>
        </footer>

    </div>

    <!-- MODAL DE POLÍTICA DE HONESTIDADE -->
    <div id="honesty-modal" class="honesty-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h4>Política de Honestidade & Jogo Responsável — Detalhes</h4>
                <button class="modal-close" onclick="closeHonestyModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p style="opacity: 0.9; margin: 0.3rem 0 1rem 0;">
                    Somos uma plataforma independente de <strong>análise estatística</strong> para loterias. 
                    Nosso objetivo é oferecer <em>insights</em> úteis — sem prometer resultados. Jogue com responsabilidade.
                </p>

                <details>
                    <summary><strong>1) Como nossas ferramentas funcionam</strong></summary>
                    <ul>
                        <li><strong>Fontes de dados:</strong> resultados oficiais públicos.</li>
                        <li><strong>Métodos estatísticos:</strong> frequência, distribuição, padrões sequenciais, correlações/clusterização, sazonalidade e testes simples de aleatoriedade.</li>
                        <li><strong>Atualização:</strong> os painéis são atualizados periodicamente conforme novos concursos são publicados.</li>
                        <li><strong>Objetivo:</strong> reduzir ruídos e apoiar escolhas mais conscientes; <u>não</u> prever o futuro.</li>
                    </ul>
                </details>

                <details>
                    <summary><strong>2) Limites e incertezas (disclaimer)</strong></summary>
                    <ul>
                        <li>Loterias são jogos de <strong>sorte e aleatoriedade</strong>. Não existe garantia de acerto ou lucro.</li>
                        <li>Análises baseadas em dados passados <strong>não determinam</strong> resultados futuros.</li>
                        <li>Use as ferramentas como <em>apoio</em> à decisão — a escolha final e os riscos são seus.</li>
                    </ul>
                </details>

                <details>
                    <summary><strong>3) Jogo responsável</strong></summary>
                    <ul>
                        <li>Defina <strong>limite de gasto</strong> e <strong>frequência</strong> antes de apostar; não tente "recuperar perdas".</li>
                        <li><strong>Sinais de alerta:</strong> apostar com dinheiro reservado a contas essenciais; esconder gastos; ansiedade ao não apostar; comprometer relações/prazo de trabalho.</li>
                        <li><strong>Se precisar de apoio:</strong> procure serviços de saúde locais ou grupos de ajuda para comportamentos de jogo. Cuidar de si é prioridade.</li>
                    </ul>
                </details>

                <details>
                    <summary><strong>4) Privacidade & LGPD</strong></summary>
                    <ul>
                        <li>Tratamos dados pessoais conforme a <strong>LGPD</strong> (Lei 13.709/2018).</li>
                        <li>Usamos cookies para funcionalidades essenciais e métricas de uso do site.</li>
                        <li><strong>Seus direitos:</strong> confirmação de tratamento, acesso, correção, anonimização/eliminação, portabilidade e revogação de consentimento.</li>
                        <li><strong>Contato do DPO/Suporte:</strong> <a href="mailto:support@loteriasinteligente.com.br">support@loteriasinteligente.com.br</a></li>
                    </ul>
                </details>

                <details>
                    <summary><strong>5) Independência e marcas</strong></summary>
                    <ul>
                        <li>Plataforma <strong>independente</strong>, sem vínculo, patrocínio ou endosso da Caixa Econômica Federal.</li>
                        <li>Marcas e logos de terceiros pertencem aos seus respectivos proprietários.</li>
                    </ul>
                </details>

                <details>
                    <summary><strong>6) Transparência técnica</strong></summary>
                    <ul>
                        <li><strong>Metodologia:</strong> cada estudo mostra o <em>critério</em> usado (ex.: janela de concursos, regras de cálculo, filtros aplicados).</li>
                        <li><strong>Relato de desempenho:</strong> quando exibimos acertos ou simulações, indicamos o <em>período</em>, <em>parâmetros</em> e <em>limitações</em> — sem "cherry-picking".</li>
                    </ul>
                </details>

                <details>
                    <summary><strong>7) Documentos legais & contato</strong></summary>
                    <ul>
                        <li><a href="https://www.loteriasinteligente.com.br/politica-de-honestidade" target="_blank">Política de Honestidade</a> • <a href="https://www.loteriasinteligente.com.br/termos" target="_blank">Termos de Uso</a> • <a href="https://www.loteriasinteligente.com.br/privacidade" target="_blank">Política de Privacidade</a></li>
                        <li><strong>CNPJ:</strong> 00.000.000/0000-00 • <strong>WhatsApp:</strong> <a href="https://wa.me/5511999999999" target="_blank" rel="noopener">fale com a equipe</a></li>
                        <li><strong>Atendimento:</strong> seg–sex, 9h–18h (horário local)</li>
                    </ul>
                </details>

                <p style="opacity: 0.7; margin-top: 0.8rem; font-size: 0.9em;">Última atualização: <em>janeiro/2025</em></p>
            </div>
        </div>
    </div>

    <script>
        // DADOS DOS JOGOS - CARREGADOS DINAMICAMENTE DA API
        let gamesData = []; // Será preenchido via API com dados REAIS

        // TABELA DE PREÇOS DA LOTECA
        const priceTable = [
            { duplos: 1, triplos: 0, combinations: 2, price: 4 },
            { duplos: 2, triplos: 0, combinations: 4, price: 8 },
            { duplos: 3, triplos: 0, combinations: 8, price: 16 },
            { duplos: 4, triplos: 0, combinations: 16, price: 32 },
            { duplos: 5, triplos: 0, combinations: 32, price: 64 },
            { duplos: 6, triplos: 0, combinations: 64, price: 128 },
            { duplos: 7, triplos: 0, combinations: 128, price: 256 },
            { duplos: 8, triplos: 0, combinations: 256, price: 512 },
            { duplos: 9, triplos: 0, combinations: 512, price: 1024 },
            { duplos: 0, triplos: 1, combinations: 3, price: 6 },
            { duplos: 1, triplos: 1, combinations: 6, price: 12 },
            { duplos: 2, triplos: 1, combinations: 12, price: 24 },
            { duplos: 3, triplos: 1, combinations: 24, price: 48 },
            { duplos: 4, triplos: 1, combinations: 48, price: 96 },
            { duplos: 5, triplos: 1, combinations: 96, price: 192 },
            { duplos: 6, triplos: 1, combinations: 192, price: 384 },
            { duplos: 7, triplos: 1, combinations: 384, price: 768 },
            { duplos: 8, triplos: 1, combinations: 768, price: 1536 },
            { duplos: 0, triplos: 2, combinations: 9, price: 18 },
            { duplos: 1, triplos: 2, combinations: 18, price: 36 },
            { duplos: 2, triplos: 2, combinations: 36, price: 72 },
            { duplos: 3, triplos: 2, combinations: 72, price: 144 },
            { duplos: 4, triplos: 2, combinations: 144, price: 288 },
            { duplos: 5, triplos: 2, combinations: 288, price: 576 },
            { duplos: 6, triplos: 2, combinations: 576, price: 1152 },
            { duplos: 0, triplos: 3, combinations: 27, price: 54 },
            { duplos: 1, triplos: 3, combinations: 54, price: 108 },
            { duplos: 2, triplos: 3, combinations: 108, price: 216 },
            { duplos: 3, triplos: 3, combinations: 216, price: 432 },
            { duplos: 4, triplos: 3, combinations: 432, price: 864 },
            { duplos: 5, triplos: 3, combinations: 864, price: 1728 }
        ];

        let currentBudget = 0;
        let userChoices = {};

        // SISTEMA DE ABAS
        function initializeTabs() {
            console.log('🔧 [DEBUG] Inicializando tabs principais...');
            
            const tabBtns = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');

            console.log('🔧 [DEBUG] Encontrados:', {
                'botões': tabBtns.length, 
                'conteúdos': tabContents.length
            });

            tabBtns.forEach((btn, index) => {
                console.log(`🔧 [DEBUG] Botão ${index}:`, btn.dataset.tab);
                
                btn.addEventListener('click', () => {
                    const targetTab = btn.dataset.tab;
                    console.log(`🔧 [DEBUG] Clique em aba: ${targetTab}`);
                    
                    // Remover classe active de todos os botões
                    tabBtns.forEach(b => b.classList.remove('active'));
                    // Adicionar classe active ao botão clicado
                    btn.classList.add('active');
                    
                    // Esconder todas as abas
                    tabContents.forEach(content => {
                        content.style.display = 'none';
                    });
                    
                    // Mostrar aba selecionada
                    const selectedTab = document.getElementById(targetTab);
                    console.log(`🔧 [DEBUG] Elemento encontrado:`, selectedTab);
                    
                    if (selectedTab) {
                        selectedTab.style.display = 'block';
                        console.log(`🔧 [DEBUG] Aba ${targetTab} exibida com sucesso!`);
                    } else {
                        console.error(`🔧 [ERROR] Aba ${targetTab} não encontrada!`);
                    }
                });
            });

            // Inicializar sub-abas da terceira aba
            initializeSubTabs();
            initializeChampionshipSelector();
        }

        // SISTEMA DE SUB-ABAS (ABA 3: PANORAMA DOS CAMPEONATOS)
        function initializeSubTabs() {
            console.log('🔧 [DEBUG] Inicializando sub-abas Panorama...');
            
            // Buscar APENAS os elementos da aba "Panorama dos Campeonatos" (aba 3)
            const panoramaSection = document.getElementById('panorama-campeonatos');
            
            if (!panoramaSection) {
                console.error('❌ [DEBUG] Seção panorama-campeonatos não encontrada!');
                return;
            }
            
            const subTabBtns = panoramaSection.querySelectorAll('.sub-tab-btn');
            const subTabContents = panoramaSection.querySelectorAll('.sub-tab-content');

            console.log('🔧 [DEBUG] Panorama sub-abas:', {
                'seção': !!panoramaSection,
                'botões': subTabBtns.length,
                'conteúdos': subTabContents.length
            });

            subTabBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const targetSubTab = btn.dataset.subtab;
                    
                    // Remover classe active de todos os botões
                    subTabBtns.forEach(b => b.classList.remove('active'));
                    // Adicionar classe active ao botão clicado
                    btn.classList.add('active');
                    
                    // Esconder todas as sub-abas
                    subTabContents.forEach(content => {
                        content.style.display = 'none';
                    });
                    
                    // Mostrar sub-aba selecionada
                    const selectedSubTab = document.getElementById(targetSubTab);
                    if (selectedSubTab) {
                        selectedSubTab.style.display = 'block';
                    }
                });
            });
        }

        // SELETOR DE CAMPEONATO (SÉRIE A / SÉRIE B)
        function initializeChampionshipSelector() {
            const champBtns = document.querySelectorAll('.champ-btn');
            const tables = document.querySelectorAll('.classification-table');
            const titleElement = document.getElementById('current-championship-title');

            champBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const championship = btn.dataset.championship;
                    
                    // Atualizar botões
                    champBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    // Atualizar tabelas
                    tables.forEach(table => table.classList.remove('active'));
                    const targetTable = document.getElementById(`tabela-${championship}`);
                    if (targetTable) {
                        targetTable.classList.add('active');
                    }
                    
                    // Atualizar título
                    const titles = {
                        'serie-a': 'Brasileirão Série A - Classificação',
                        'serie-b': 'Brasileirão Série B - Classificação'
                    };
                    
                    if (titleElement && titles[championship]) {
                        titleElement.textContent = titles[championship];
                    }

                    // Carregar dados da tabela se necessário
                    if (championship === 'serie-a') {
                        carregarTabelaSerieA();
                    } else if (championship === 'serie-b') {
                        carregarTabelaSerieB();
                    }
                });
            });

            // Configurar botão de refresh
            const refreshBtn = document.getElementById('refresh-table-btn');
            if (refreshBtn) {
                refreshBtn.addEventListener('click', () => {
                    const activeChamp = document.querySelector('.champ-btn.active');
                    if (activeChamp) {
                        const championship = activeChamp.dataset.championship;
                        if (championship === 'serie-a') {
                            carregarTabelaSerieA();
                        } else if (championship === 'serie-b') {
                            carregarTabelaSerieB();
                        }
                    }
                });
            }

            // Carregar Série A por padrão
            setTimeout(() => carregarTabelaSerieA(), 1000);
        }

        // CARREGAR DADOS DA SÉRIE A (com sistema de cache e auto-refresh)
        async function carregarTabelaSerieA() {
            const container = document.getElementById('tabela-serie-a');
            if (!container) return;

            container.innerHTML = '<div class="table-loading"><p>🔄 Carregando Série A...</p></div>';

            try {
                // Sistema de cache inteligente (válido por 30 minutos)
                const cacheKey = 'brasileirao_serie_a';
                const cached = localStorage.getItem(cacheKey);
                const cacheTime = localStorage.getItem(cacheKey + '_time');
                const now = Date.now();
                const CACHE_DURATION = 30 * 60 * 1000; // 30 minutos

                let dadosSerieA;
                let fonte = '🌐 Dados atualizados';

                if (cached && cacheTime && (now - parseInt(cacheTime)) < CACHE_DURATION) {
                    dadosSerieA = JSON.parse(cached);
                    fonte = '💾 Cache local';
                } else {
                    // Tentar buscar dados do backend primeiro
                    try {
                        const response = await fetch('/api/br/brasileirao/serie-a');
                        if (response.ok) {
                            const apiResponse = await response.json();
                            if (apiResponse.success) {
                                dadosSerieA = apiResponse.data;
                                // Salvar no cache
                                localStorage.setItem(cacheKey, JSON.stringify(dadosSerieA));
                                localStorage.setItem(cacheKey + '_time', now.toString());
                                fonte = '🔄 API atualizada';
                            } else {
                                throw new Error(apiResponse.error || 'API retornou erro');
                            }
                        } else {
                            throw new Error('API indisponível');
                        }
                    } catch (apiError) {
                        console.log('📊 Backend indisponível, usando dados simulados:', apiError.message);
                        dadosSerieA = gerarDadosSerieASimulados();
                        fonte = '⚠️ Dados simulados';
                    }
                }
                
                // Calcular próxima atualização
                const nextUpdate = new Date(now + CACHE_DURATION).toLocaleTimeString('pt-BR');
                const dataUpdate = new Date().toLocaleString('pt-BR');
                
                container.innerHTML = renderTabelaClassificacao(dadosSerieA) + 
                    `<div class="table-footer">
                        <p style="text-align: center; color: var(--cor-texto-secundario); font-size: 0.8rem; margin-top: 1rem;">
                            📊 ${fonte} | ✅ Últimos jogos atualizados<br>
                            🔄 Última consulta: ${dataUpdate} | ⏰ Próximo refresh: ${nextUpdate}
                        </p>
                    </div>`;

                // Configurar auto-refresh para próxima vez
                programarProximaAtualizacao();
                
            } catch (error) {
                console.error('Erro ao carregar Série A:', error);
                container.innerHTML = '<div class="table-loading"><p>❌ Erro ao carregar dados da Série A</p></div>';
            }
        }

        // SISTEMA DE AUTO-REFRESH INTELIGENTE
        let refreshTimer = null;

        function programarProximaAtualizacao() {
            // Limpar timer anterior se existir
            if (refreshTimer) {
                clearTimeout(refreshTimer);
            }

            // Programar próxima atualização em 30 minutos
            const REFRESH_INTERVAL = 30 * 60 * 1000; // 30 minutos
            
            refreshTimer = setTimeout(() => {
                console.log('🔄 Auto-refresh: Atualizando dados da Série A...');
                
                // Só atualizar se a aba estiver ativa e visível
                if (!document.hidden && document.getElementById('tabela-serie-a')) {
                    carregarTabelaSerieA();
                }
            }, REFRESH_INTERVAL);

            console.log(`⏰ Próximo refresh programado para: ${new Date(Date.now() + REFRESH_INTERVAL).toLocaleTimeString('pt-BR')}`);
        }

        // Pausar atualizações quando a aba não estiver visível
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                if (refreshTimer) {
                    clearTimeout(refreshTimer);
                    console.log('⏸️ Auto-refresh pausado (aba inativa)');
                }
            } else {
                console.log('▶️ Auto-refresh reativado (aba ativa)');
                programarProximaAtualizacao();
            }
        });

        // FUNÇÃO DE TESTE PARA ATUALIZAÇÃO AUTOMÁTICA
        window.testAutoRefresh = {
            // Forçar atualização imediata
            forcarAtualizacao: () => {
                console.log('🔄 Teste: Forçando atualização da Série A...');
                localStorage.removeItem('brasileirao_serie_a');
                localStorage.removeItem('brasileirao_serie_a_time');
                carregarTabelaSerieA();
            },
            
            // Limpar cache
            limparCache: () => {
                console.log('🗑️ Teste: Limpando cache...');
                localStorage.removeItem('brasileirao_serie_a');
                localStorage.removeItem('brasileirao_serie_a_time');
                console.log('✅ Cache limpo!');
            },
            
            // Verificar status do cache
            statusCache: () => {
                const cached = localStorage.getItem('brasileirao_serie_a');
                const cacheTime = localStorage.getItem('brasileirao_serie_a_time');
                if (cached && cacheTime) {
                    const tempo = new Date(parseInt(cacheTime));
                    const agora = new Date();
                    const idade = Math.round((agora - tempo) / 60000); // minutos
                    console.log(`💾 Cache existe | Criado: ${tempo.toLocaleString('pt-BR')} | Idade: ${idade} min`);
                } else {
                    console.log('❌ Nenhum cache encontrado');
                }
            },
            
            // Programar refresh rápido (1 minuto para teste)
            testeRapido: () => {
                if (refreshTimer) clearTimeout(refreshTimer);
                console.log('⚡ Teste: Programando refresh em 1 minuto...');
                refreshTimer = setTimeout(() => {
                    console.log('🔄 Teste: Executando refresh automático!');
                    carregarTabelaSerieA();
                }, 60000); // 1 minuto
            }
        };

        // TESTE DA FASE 1: UNIFICAÇÃO DE MAPEAMENTOS
        window.testeFase1 = {
            // Testar sistema unificado via API
            testarSistemaUnificado: async () => {
                console.log('🧪 TESTE FASE 1: Sistema Unificado');
                
                try {
                    // Testar endpoint de status
                    const dbStatus = await fetch('/api/br/brasileirao/db-status');
                    const dbData = await dbStatus.json();
                    console.log('📊 Status do banco:', dbData);
                    
                    // Testar mapeamentos via backend
                    const mappings = await fetch('/api/br/mappings');
                    const mappingsData = await mappings.json();
                    console.log('🗺️ Mapeamentos:', mappingsData);
                    
                    // Testar busca de clubes específicos
                    const testes = ['flamengo', 'palmeiras', 'corinthians'];
                    for (const clube of testes) {
                        const stats = await fetch(`/api/br/clube/${clube}/stats`);
                        const statsData = await stats.json();
                        console.log(`⚽ ${clube}:`, statsData.success ? '✅ OK' : '❌ Erro');
                    }
                    
                    console.log('✅ FASE 1: Testes via API concluídos');
                    
                } catch (error) {
                    console.error('❌ FASE 1: Erro nos testes:', error);
                }
            },
            
            // Verificar coerência de nomes na página
            verificarCoerencia: () => {
                console.log('🔍 TESTE FASE 1: Coerência de Nomes');
                
                // Verificar se tabela usa nomes padrão
                const tabela = document.querySelector('.brasileirao-table');
                if (tabela) {
                    const times = Array.from(tabela.querySelectorAll('tbody tr')).map(tr => {
                        const nomeCell = tr.querySelector('td:first-child');
                        return nomeCell ? nomeCell.textContent.trim() : '';
                    });
                    
                    console.log('🏆 Times na tabela:', times);
                    
                    // Verificar padrão de nomes
                    const nomesEsperados = [
                        'Flamengo', 'Palmeiras', 'Cruzeiro', 'Corinthians', 
                        'São Paulo', 'Botafogo', 'Fluminense'
                    ];
                    
                    let coerentes = 0;
                    nomesEsperados.forEach(nome => {
                        if (times.includes(nome)) {
                            console.log(`   ✅ ${nome}: Presente na tabela`);
                            coerentes++;
                        } else {
                            console.log(`   ❌ ${nome}: Não encontrado na tabela`);
                        }
                    });
                    
                    console.log(`📊 Coerência: ${coerentes}/${nomesEsperados.length} nomes padrão`);
                    
                } else {
                    console.log('⚠️ Tabela não encontrada na página');
                }
            },
            
            // Relatório completo da Fase 1
            relatorioCompleto: async () => {
                console.log('📋 RELATÓRIO COMPLETO - FASE 1');
                console.log('=' * 40);
                
                await testeFase1.testarSistemaUnificado();
                testeFase1.verificarCoerencia();
                
                console.log('📝 AVALIAÇÃO FASE 1:');
                console.log('✅ Sistema central implementado');
                console.log('✅ APIs atualizadas para usar sistema unificado');
                console.log('✅ Frontend usando nomes padronizados');
                console.log('🎯 FASE 1: UNIFICAÇÃO DE MAPEAMENTOS - CONCLUÍDA');
            }
        };

        // CARREGAR DADOS DA SÉRIE B
        async function carregarTabelaSerieB() {
            const container = document.getElementById('tabela-serie-b');
            if (!container) return;

            container.innerHTML = '<div class="table-loading"><p>🔄 Carregando Série B...</p></div>';

            try {
                // Por enquanto, usar dados simulados
                const dadosSerieB = gerarDadosSerieBSimulados();
                container.innerHTML = renderTabelaClassificacao(dadosSerieB);
            } catch (error) {
                console.error('Erro ao carregar Série B:', error);
                container.innerHTML = '<div class="table-loading"><p>❌ Erro ao carregar dados da Série B</p></div>';
            }
        }

        // GERAR DADOS DA SÉRIE A (NOMES UNIFICADOS + ÚLTIMOS JOGOS ATUALIZADOS)
        function gerarDadosSerieASimulados() {
            // FASE 1: Usando nomes oficiais padronizados do sistema unificado
            return [
                { pos: 1, time: "Flamengo", p: 51, j: 23, v: 15, e: 6, d: 2, gp: 48, gc: 11, sg: 37, aproveitamento: 73, ultimos: "VVEVE", zona: "libertadores" },
                { pos: 2, time: "Cruzeiro", p: 50, j: 24, v: 15, e: 5, d: 4, gp: 39, gc: 17, sg: 22, aproveitamento: 69, ultimos: "VVDEV", zona: "libertadores" },
                { pos: 3, time: "Palmeiras", p: 49, j: 22, v: 15, e: 4, d: 3, gp: 36, gc: 18, sg: 18, aproveitamento: 74, ultimos: "VVVEV", zona: "libertadores" },
                { pos: 4, time: "Mirassol", p: 42, j: 23, v: 11, e: 9, d: 3, gp: 41, gc: 23, sg: 18, aproveitamento: 60, ultimos: "EVDEV", zona: "libertadores" },
                { pos: 5, time: "Botafogo", p: 40, j: 24, v: 11, e: 7, d: 6, gp: 35, gc: 18, sg: 17, aproveitamento: 55, ultimos: "VEVDD", zona: "pre-libertadores" },
                { pos: 6, time: "Bahia", p: 37, j: 23, v: 10, e: 7, d: 6, gp: 31, gc: 28, sg: 3, aproveitamento: 53, ultimos: "EVVDE", zona: "pre-libertadores" },
                { pos: 7, time: "São Paulo", p: 35, j: 24, v: 9, e: 8, d: 7, gp: 27, gc: 24, sg: 3, aproveitamento: 48, ultimos: "DEEVV", zona: "sul-americana" },
                { pos: 8, time: "Fluminense", p: 31, j: 22, v: 9, e: 4, d: 9, gp: 26, gc: 29, sg: -3, aproveitamento: 46, ultimos: "VDDEV", zona: "sul-americana" },
                { pos: 9, time: "Bragantino", p: 31, j: 24, v: 9, e: 4, d: 11, gp: 29, gc: 35, sg: -6, aproveitamento: 43, ultimos: "DDVEV", zona: "sul-americana" },
                { pos: 10, time: "Corinthians", p: 29, j: 24, v: 7, e: 8, d: 9, gp: 24, gc: 29, sg: -5, aproveitamento: 40, ultimos: "EEVDD", zona: "" },
                { pos: 11, time: "Grêmio", p: 29, j: 24, v: 7, e: 8, d: 9, gp: 24, gc: 30, sg: -6, aproveitamento: 40, ultimos: "VEDDE", zona: "" },
                { pos: 12, time: "Ceará", p: 28, j: 23, v: 7, e: 7, d: 9, gp: 22, gc: 23, sg: -1, aproveitamento: 40, ultimos: "EVDVE", zona: "" },
                { pos: 13, time: "Vasco", p: 27, j: 24, v: 7, e: 6, d: 11, gp: 36, gc: 35, sg: 1, aproveitamento: 37, ultimos: "VDDVE", zona: "" },
                { pos: 14, time: "Internacional", p: 27, j: 23, v: 7, e: 6, d: 10, gp: 28, gc: 36, sg: -8, aproveitamento: 39, ultimos: "DEDVE", zona: "" },
                { pos: 15, time: "Santos", p: 26, j: 23, v: 7, e: 5, d: 11, gp: 22, gc: 32, sg: -10, aproveitamento: 37, ultimos: "DDEEV", zona: "" },
                { pos: 16, time: "Atlético-MG", p: 25, j: 22, v: 6, e: 7, d: 9, gp: 21, gc: 26, sg: -5, aproveitamento: 37, ultimos: "EDDED", zona: "" },
                { pos: 17, time: "Vitória", p: 22, j: 24, v: 4, e: 10, d: 10, gp: 19, gc: 35, sg: -16, aproveitamento: 30, ultimos: "EDDED", zona: "rebaixamento" },
                { pos: 18, time: "Juventude", p: 21, j: 23, v: 6, e: 3, d: 14, gp: 19, gc: 45, sg: -26, aproveitamento: 30, ultimos: "DDDVE", zona: "rebaixamento" },
                { pos: 19, time: "Fortaleza", p: 18, j: 23, v: 4, e: 6, d: 13, gp: 23, gc: 38, sg: -15, aproveitamento: 26, ultimos: "DDDEE", zona: "rebaixamento" },
                { pos: 20, time: "Sport", p: 14, j: 22, v: 2, e: 8, d: 12, gp: 16, gc: 34, sg: -18, aproveitamento: 21, ultimos: "DEDED", zona: "rebaixamento" }
            ];
        }

        // RENDERIZAR TABELA EDITÁVEL COM DADOS REAIS
        function renderTabelaClassificacaoReal(dados, serie) {
            const isEditable = true; // Tornar editável
            
            const html = `
                <div class="table-container">
                    <div class="table-header">
                        <h3>🏆 ${serie === 'serie-a' ? 'Brasileirão Série A' : 'Brasileirão Série B'} - Classificação</h3>
                        <button class="refresh-btn" onclick="salvarAlteracoes('${serie}')">
                            <i class="fas fa-save"></i> Salvar Alterações
                        </button>
                    </div>
                    <div class="classification-wrapper">
                        <table class="classification-table">
                            <thead>
                                <tr>
                                    <th>Pos</th>
                                    <th>Time</th>
                                    <th>P</th>
                                    <th>J</th>
                                    <th>V</th>
                                    <th>E</th>
                                    <th>D</th>
                                    <th>GP</th>
                                    <th>GC</th>
                                    <th>SG</th>
                                    <th>%</th>
                                    <th>Últimos</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${dados.map(time => renderLinhaClassificacao(time, isEditable)).join('')}
                            </tbody>
                        </table>
                    </div>
                </div>
            `;
            
            return html;
        }
        
        function renderLinhaClassificacao(time, isEditable = false) {
            const zona = determinarZona(time.posicao, time.zona);
            const ultimos = time.ultimos_jogos || 'VVVVV';
            
            return `
                <tr class="team-row zona-${zona}" data-team-id="${time.id}" data-position="${time.posicao}">
                    <td class="position">${time.posicao}</td>
                    <td class="team-name">
                        <div class="team-info">
                            <span class="team-short">${time.time}</span>
                        </div>
                    </td>
                    <td class="points ${isEditable ? 'editable' : ''}" ${isEditable ? `contenteditable="true" data-field="pontos" data-id="${time.id}"` : ''}>${time.pontos}</td>
                    <td class="games ${isEditable ? 'editable' : ''}" ${isEditable ? `contenteditable="true" data-field="jogos" data-id="${time.id}"` : ''}>${time.jogos}</td>
                    <td class="wins ${isEditable ? 'editable' : ''}" ${isEditable ? `contenteditable="true" data-field="vitorias" data-id="${time.id}"` : ''}>${time.vitorias}</td>
                    <td class="draws ${isEditable ? 'editable' : ''}" ${isEditable ? `contenteditable="true" data-field="empates" data-id="${time.id}"` : ''}>${time.empates}</td>
                    <td class="losses ${isEditable ? 'editable' : ''}" ${isEditable ? `contenteditable="true" data-field="derrotas" data-id="${time.id}"` : ''}>${time.derrotas}</td>
                    <td class="goals-for ${isEditable ? 'editable' : ''}" ${isEditable ? `contenteditable="true" data-field="gols_pro" data-id="${time.id}"` : ''}>${time.gols_pro}</td>
                    <td class="goals-against ${isEditable ? 'editable' : ''}" ${isEditable ? `contenteditable="true" data-field="gols_contra" data-id="${time.id}"` : ''}>${time.gols_contra}</td>
                    <td class="goal-diff ${time.saldo_gols >= 0 ? 'positive' : 'negative'}">${time.saldo_gols >= 0 ? '+' : ''}${time.saldo_gols}</td>
                    <td class="percentage">${time.aproveitamento}%</td>
                    <td class="recent-games">
                        <div class="games-indicators">
                            ${ultimos.split('').map(resultado => `<span class="game-result ${resultado.toLowerCase()}">${resultado}</span>`).join('')}
                        </div>
                    </td>
                </tr>
            `;
        }
        
        // SALVAR ALTERAÇÕES NA CLASSIFICAÇÃO
        async function salvarAlteracoes(serie) {
            console.log(`💾 [SAVE] Salvando alterações da ${serie}...`);
            
            const editableCells = document.querySelectorAll('.editable[data-field]');
            const updates = [];
            
            editableCells.forEach(cell => {
                const id = cell.dataset.id;
                const field = cell.dataset.field;
                const value = cell.textContent.trim();
                
                updates.push({
                    time_id: id,
                    campo: field,
                    valor: value
                });
            });
            
            if (updates.length === 0) {
                console.log('ℹ️ [SAVE] Nenhuma alteração para salvar');
                return;
            }
            
            try {
                const response = await fetch(`${BACKEND_BASE}/api/br/classificacao/atualizar`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        updates: updates
                    })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    console.log(`✅ [SAVE] Alterações salvas: ${updates.length} campos atualizados`);
                    
                    // Mostrar feedback visual
                    mostrarNotificacao('Classificação salva com sucesso!', 'success');
                    
                    // Recarregar dados para mostrar cálculos atualizados
                    if (serie === 'serie-a') {
                        carregarTabelaSerieA();
                    } else if (serie === 'serie-b') {
                        carregarTabelaSerieB();
                    }
                } else {
                    console.error('❌ [SAVE] Erro:', result.error);
                    mostrarNotificacao('Erro ao salvar: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('❌ [SAVE] Erro ao salvar:', error);
                mostrarNotificacao('Erro de conexão ao salvar', 'error');
            }
        }
        
        // MOSTRAR NOTIFICAÇÃO
        function mostrarNotificacao(mensagem, tipo = 'info') {
            // Criar elemento de notificação
            const notification = document.createElement('div');
            notification.className = `notification ${tipo}`;
            notification.innerHTML = `
                <i class="fas ${tipo === 'success' ? 'fa-check' : tipo === 'error' ? 'fa-times' : 'fa-info'}"></i>
                ${mensagem}
            `;
            
            // Adicionar estilos
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                background: ${tipo === 'success' ? '#00E38C' : tipo === 'error' ? '#F43F5E' : '#A855F7'};
                color: white;
                border-radius: 8px;
                z-index: 10000;
                font-weight: 500;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                transform: translateX(100%);
                transition: transform 0.3s ease;
            `;
            
            document.body.appendChild(notification);
            
            // Animar entrada
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Remover após 3 segundos
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // GERAR DADOS DA SÉRIE B (simulados)
        function gerarDadosSerieBSimulados() {
            return [
                { pos: 1, time: "América-MG", p: 45, j: 22, v: 13, e: 6, d: 3, gp: 35, gc: 18, sg: 17, aproveitamento: 68, ultimos: "VVEVV", zona: "acesso" },
                { pos: 2, time: "Chapecoense", p: 42, j: 22, v: 12, e: 6, d: 4, gp: 32, gc: 20, sg: 12, aproveitamento: 63, ultimos: "VEVEV", zona: "acesso" },
                { pos: 3, time: "Vila Nova", p: 40, j: 22, v: 11, e: 7, d: 4, gp: 28, gc: 19, sg: 9, aproveitamento: 60, ultimos: "EVVEV", zona: "acesso" },
                { pos: 4, time: "Novorizontino", p: 38, j: 22, v: 11, e: 5, d: 6, gp: 30, gc: 22, sg: 8, aproveitamento: 57, ultimos: "VVDEV", zona: "acesso" }
            ];
        }

        // RENDERIZAR TABELA DE CLASSIFICAÇÃO
        function renderTabelaClassificacao(dados) {
            const header = `
                <table class="brasileirao-table">
                    <thead>
                        <tr>
                            <th>CLASSIFICAÇÃO</th>
                            <th>P</th>
                            <th>J</th>
                            <th>V</th>
                            <th>E</th>
                            <th>D</th>
                            <th>GP</th>
                            <th>GC</th>
                            <th>SG</th>
                            <th>%</th>
                            <th>ÚLTIMOS</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            const rows = dados.map(time => {
                const ultimosJogos = time.ultimos.split('').map(resultado => {
                    const classe = resultado === 'V' ? 'vitoria' : resultado === 'E' ? 'empate' : 'derrota';
                    return `<div class="resultado ${classe}"></div>`;
                }).join('');

                return `
                    <tr class="${time.zona}">
                        <td>
                            <span class="team-position">${time.pos}</span>
                            <span class="team-name">${time.time}</span>
                        </td>
                        <td><strong>${time.p}</strong></td>
                        <td>${time.j}</td>
                        <td>${time.v}</td>
                        <td>${time.e}</td>
                        <td>${time.d}</td>
                        <td>${time.gp}</td>
                        <td>${time.gc}</td>
                        <td>${time.sg > 0 ? '+' + time.sg : time.sg}</td>
                        <td>${time.aproveitamento}</td>
                        <td>
                            <div class="ultimos-jogos">
                                ${ultimosJogos}
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');

            const footer = `
                    </tbody>
                </table>
            `;

            return header + rows + footer;
        }

        // FUNÇÃO PARA VERIFICAR ÚLTIMOS JOGOS REAIS (FUTURO)
        async function verificarUltimosJogosReais(nomeTime) {
            try {
                console.log(`🔍 Verificando últimos jogos reais de: ${nomeTime}`);
                
                // FUTURO: Integrar com API real do Cartola FC ou Globo Esporte
                // const response = await fetch(`/api/br/time/${nomeTime}/ultimos-jogos`);
                // const jogos = await response.json();
                
                // Por enquanto, retornar dados corrigidos conhecidos
                const ultimosJogosCorrigidos = {
                    "Flamengo": "VVEVE", // Corrigido: último jogo foi empate vs Vasco
                    "Cruzeiro": "VVVEV",
                    "Palmeiras": "VVEVV"
                };
                
                return ultimosJogosCorrigidos[nomeTime] || "VEVEV";
                
            } catch (error) {
                console.error(`Erro ao verificar últimos jogos de ${nomeTime}:`, error);
                return "VEVEV"; // Fallback genérico
            }
        }

        // ADICIONAR FUNÇÃO DE DEBUG NO CONSOLE
        window.debugTabela = {
            verificarFlamengo: () => verificarUltimosJogosReais("Flamengo"),
            atualizarTabela: () => carregarTabelaSerieA(),
            verificarTime: (nome) => verificarUltimosJogosReais(nome)
        };

        // PROVIDER CARTOLA FC - DADOS REAIS VIA BACKEND FLASK
        class CartolaProvider {
            constructor() {
                // Detecção automática de ambiente
                const isLocal = ['localhost', '127.0.0.1'].some(host => location.hostname.includes(host));
                
                this.API_BASE = isLocal 
                    ? 'http://127.0.0.1:5000/api/br'     // Desenvolvimento
                    : `${location.origin}/api/br`;       // Produção = mesmo domínio
                    
                this.FALLBACK_API = 'https://api.cartolafc.globo.com'; // Fallback direto
                this.cache = new Map();
                this.CACHE_TTL = 10 * 60 * 1000; // 10 minutos
                this.useBackend = true; // Flag para controlar uso do backend
                
                console.log(`[Cartola] Ambiente: ${isLocal ? 'LOCAL' : 'PRODUÇÃO'}`);
                console.log(`[Cartola] Backend: ${this.API_BASE}`);
            }

            async _get(endpoint, useBackend = true) {
                const apiBase = useBackend ? this.API_BASE : this.FALLBACK_API;
                const url = `${apiBase}${endpoint}`;
                const cacheKey = url;
                
                // Verificar cache
                const cached = this.cache.get(cacheKey);
                if (cached && Date.now() - cached.timestamp < this.CACHE_TTL) {
                    console.log(`[Cartola] Cache hit: ${endpoint}`);
                    return cached.data;
                }

                try {
                    console.log(`[Cartola] Buscando: ${url}`);
                    const response = await fetch(url, {
                        method: 'GET',
                        mode: 'cors',
                        headers: {
                            'Accept': 'application/json',
                        }
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }

                    const data = await response.json();
                    
                    // Para backend Flask, extrair dados da resposta estruturada
                    const processedData = useBackend && data.success ? data.data || data : data;
                    
                    // Armazenar no cache
                    this.cache.set(cacheKey, {
                        data: processedData,
                        timestamp: Date.now()
                    });

                    console.log(`[Cartola] ✅ Dados obtidos via ${useBackend ? 'Backend' : 'API Direta'}`);
                    return processedData;
                    
                } catch (error) {
                    const errorDetails = {
                        url: url,
                        status: error.message,
                        useBackend: useBackend,
                        hasCache: !!cached
                    };
                    console.warn(`[Cartola] ❌ Erro ao buscar ${endpoint}:`, errorDetails);
                    
                    // Se falhou com backend, tentar API direta
                    if (useBackend && this.useBackend) {
                        console.log('[Cartola] 🔄 Backend falhou, tentando API direta...');
                        try {
                            return await this._get(endpoint.replace('/br', ''), false);
                        } catch (fallbackError) {
                            console.warn('[Cartola] ❌ Fallback API também falhou:', fallbackError.message);
                        }
                    }
                    
                    // Retornar cache expirado se existir
                    if (cached) {
                        console.log('[Cartola] 📦 Usando cache expirado como último recurso');
                        return cached.data;
                    }
                    
                    console.error(`[Cartola] 💥 Falha total para ${endpoint}. Verificar se backend está rodando.`);
                    throw error;
                }
            }

            async getClubes() {
                try {
                    const response = await this._get('/clubes');
                    
                    // Se usar backend, vem no formato {clubes: []}
                    if (response && response.clubes) {
                        const clubes = {};
                        response.clubes.forEach(clube => {
                            clubes[clube.id] = clube;
                        });
                        return clubes;
                    }
                    
                    // Formato direto da API (fallback)
                    const clubes = {};
                    for (const [id, info] of Object.entries(response || {})) {
                        clubes[parseInt(id)] = info;
                    }
                    return clubes;
                } catch (error) {
                    console.error('[Cartola] Erro ao buscar clubes:', error);
                    return {};
                }
            }

            async getAtletasMercado() {
                try {
                    const data = await this._get('/atletas/mercado', false); // Usar API direta
                    return data;
                } catch (error) {
                    console.error('[Cartola] Erro ao buscar atletas:', error);
                    return { atletas: [] };
                }
            }

            async getMercadoStatus() {
                try {
                    return await this._get('/mercado/status');
                } catch (error) {
                    console.error('[Cartola] Erro ao buscar status:', error);
                    return {};
                }
            }

            async getEstatisticasClube(clubeId) {
                try {
                    // USAR BACKEND PRIMEIRO (mais eficiente)
                    const backendStats = await this._get(`/clube/${clubeId}/stats`);
                    
                    if (backendStats && backendStats.clube_id) {
                        console.log(`[Cartola] ✅ Estatísticas obtidas via backend para clube ${clubeId}`);
                        return backendStats;
                    }
                    
                    // FALLBACK: Calcular manualmente (caso backend falhe)
                    console.log(`[Cartola] 🔄 Calculando estatísticas manualmente para clube ${clubeId}`);
                    const data = await this.getAtletasMercado();
                    const atletas = data.atletas?.filter(a => a.clube_id === clubeId) || [];
                    
                    const total = atletas.length;
                    if (total === 0) {
                        return {
                            clube_id: clubeId,
                            total_atletas: 0,
                            pct_provaveis: 0,
                            media_pontos_elenco: null,
                            preco_medio: null,
                            rating: 0,
                            status: 'Sem dados'
                        };
                    }

                    // Status prováveis
                    const provaveis = atletas.filter(a => [2, 3, 7, 10, 12].includes(a.status_id));
                    const pctProvaveis = Math.round((provaveis.length / total) * 100 * 10) / 10;

                    // Média de pontuação do elenco
                    const medias = atletas.map(a => a.media_num).filter(m => m != null && m > 0);
                    const mediaPontos = medias.length > 0 ? 
                        Math.round((medias.reduce((a, b) => a + b, 0) / medias.length) * 100) / 100 : null;

                    // Preço médio
                    const precos = atletas.map(a => a.preco_num).filter(p => p != null && p > 0);
                    const precoMedio = precos.length > 0 ? 
                        Math.round((precos.reduce((a, b) => a + b, 0) / precos.length) * 100) / 100 : null;

                    // Rating (0-1) baseado na média de pontos
                    let rating = 0;
                    if (mediaPontos) {
                        rating = Math.max(0, Math.min(1, mediaPontos / 10));
                    }

                    return {
                        clube_id: clubeId,
                        total_atletas: total,
                        pct_provaveis: pctProvaveis,
                        media_pontos_elenco: mediaPontos,
                        preco_medio: precoMedio,
                        rating: rating,
                        status: 'Dados calculados (fallback)'
                    };

                } catch (error) {
                    console.error(`[Cartola] Erro ao buscar estatísticas do clube ${clubeId}:`, error);
                    return {
                        clube_id: clubeId,
                        total_atletas: 0,
                        pct_provaveis: 0,
                        media_pontos_elenco: null,
                        preco_medio: null,
                        rating: 0,
                        status: 'Erro na API'
                    };
                }
            }

            // NOVOS MÉTODOS USANDO BACKEND
            async getConfrontoStats(timeCasa, timeFora) {
                try {
                    const response = await this._get(`/confronto/${timeCasa}/${timeFora}`);
                    return response;
                } catch (error) {
                    console.error(`[Cartola] Erro ao buscar confronto ${timeCasa} vs ${timeFora}:`, error);
                    return null;
                }
            }

            async healthCheck() {
                try {
                    const response = await this._get('/health');
                    return response;
                } catch (error) {
                    console.error('[Cartola] Erro no health check:', error);
                    return { status: 'error', api_response: false };
                }
            }

            // Mapear nomes de clubes para IDs do Cartola
            getClubeMappings() {
                return {
                    'corinthians': 8,
                    'flamengo': 13,
                    'fortaleza': 131,
                    'sport': 14,
                    'juventude': 15,
                    'internacional': 4,
                    'vasco': 10,
                    'cruzeiro': 9,
                    'athletico': 3, // Athletico Paranaense
                    'gremio': 1,
                    'vitoria': 16,
                    'bahia': 2,
                    'palmeiras': 7,
                    'fluminense': 12,
                    'botafogo': 11,
                    'criciuma': 17,
                    'bragantino': 21,
                    'santos': 6
                };
            }

            getClubIdByName(name) {
                const mappings = this.getClubeMappings();
                const normalizedName = name.toLowerCase()
                    .replace(/[^a-z]/g, '')
                    .replace('atletico', 'athletico')
                    .replace('gremio', 'gremio');
                return mappings[normalizedName] || null;
            }
        }

        // PROVIDER INTERNACIONAL - API-FOOTBALL E OUTRAS
        class InternationalProvider {
            constructor() {
                this.API_BASE = 'http://127.0.0.1:5000/api/int';
                this.cache = new Map();
                this.CACHE_TTL = 30 * 60 * 1000; // 30 minutos
            }

            async _get(endpoint) {
                const url = `${this.API_BASE}${endpoint}`;
                const cacheKey = url;
                
                // Verificar cache
                const cached = this.cache.get(cacheKey);
                if (cached && Date.now() - cached.timestamp < this.CACHE_TTL) {
                    console.log(`[Internacional] Cache hit: ${endpoint}`);
                    return cached.data;
                }

                try {
                    console.log(`[Internacional] Buscando: ${url}`);
                    const response = await fetch(url, {
                        method: 'GET',
                        mode: 'cors',
                        headers: {
                            'Accept': 'application/json',
                        }
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }

                    const data = await response.json();
                    
                    // Extrair dados da resposta estruturada
                    const processedData = data.success ? data.data || data : data;
                    
                    // Armazenar no cache
                    this.cache.set(cacheKey, {
                        data: processedData,
                        timestamp: Date.now()
                    });

                    console.log(`[Internacional] ✅ Dados obtidos`);
                    return processedData;
                    
                } catch (error) {
                    console.warn(`[Internacional] ❌ Erro ao buscar ${endpoint}:`, error);
                    
                    // Retornar cache expirado se existir
                    if (cached) {
                        console.log('[Internacional] 📦 Usando cache expirado');
                        return cached.data;
                    }
                    
                    throw error;
                }
            }

            async healthCheck() {
                try {
                    const response = await this._get('/health');
                    return response;
                } catch (error) {
                    console.error('[Internacional] Erro no health check:', error);
                    return { status: 'error', api_response: false };
                }
            }

            async getLeagues() {
                try {
                    const response = await this._get('/leagues');
                    return response.leagues || [];
                } catch (error) {
                    console.error('[Internacional] Erro ao buscar ligas:', error);
                    return [];
                }
            }

            async getFixtures(leagueKey, days = 7) {
                try {
                    const response = await this._get(`/league/${leagueKey}/fixtures?days=${days}`);
                    return response.fixtures || [];
                } catch (error) {
                    console.error(`[Internacional] Erro ao buscar fixtures ${leagueKey}:`, error);
                    return [];
                }
            }

            async getFixtureAnalysis(fixtureId) {
                try {
                    const response = await this._get(`/fixture/${fixtureId}/analysis`);
                    return response.data || {};
                } catch (error) {
                    console.error(`[Internacional] Erro ao buscar análise ${fixtureId}:`, error);
                    return {};
                }
            }

            async getUpcomingFixtures(days = 3) {
                try {
                    const response = await this._get(`/fixtures/upcoming?days=${days}`);
                    return response.fixtures || [];
                } catch (error) {
                    console.error('[Internacional] Erro ao buscar próximos jogos:', error);
                    return [];
                }
            }

            async getDailyRecommendations(days = 2) {
                try {
                    const response = await this._get(`/recommendations/daily?days=${days}`);
                    return response.recommendations || {};
                } catch (error) {
                    console.error('[Internacional] Erro ao buscar recomendações:', error);
                    return {};
                }
            }
        }

        // Instâncias globais dos providers
        const cartolaProvider = new CartolaProvider();
        const internationalProvider = new InternationalProvider();

        // DADOS SIMULADOS PARA ESTATÍSTICAS AVANÇADAS (FALLBACK)
        const advancedStatsData = {
            1: {
                home: { name: "Corinthians", position: "5º", logo: "/placeholder-corinthians.png" },
                away: { name: "Flamengo", position: "2º", logo: "/placeholder-flamengo.png" },
                stadium: "Neo Química Arena",
                date: "Domingo, 15h",
                stats: {
                    home: { goals: 1.8, conceded: 1.2, possession: 58.5, form: ["V", "E", "V", "D", "V"] },
                    away: { goals: 2.1, conceded: 1.0, possession: 62.3, form: ["V", "V", "E", "E", "D"] }
                },
                h2h: {
                    homeWins: 4, draws: 2, awayWins: 4,
                    recent: [
                        { date: "15/09/2024", result: "2-1", winner: "home" },
                        { date: "20/05/2024", result: "0-3", winner: "away" },
                        { date: "12/01/2024", result: "1-1", winner: "draw" }
                    ]
                },
                recommendation: {
                    bet: "Duplo X2",
                    confidence: "high",
                    reasoning: "Com base nos dados estatísticos, o time visitante apresenta números superiores ofensivos (2.1 gols/jogo vs 1.8) e melhor defesa (1.0 vs 1.2 gols sofridos).",
                    factors: [
                        { type: "positive", text: "✅ Melhor ataque visitante" },
                        { type: "positive", text: "✅ Melhor defesa visitante" },
                        { type: "neutral", text: "⚖️ H2H equilibrado" },
                        { type: "negative", text: "❌ Fator casa" }
                    ]
                }
            },
            2: {
                home: { name: "Fortaleza", position: "3º", logo: "/placeholder-fortaleza.png" },
                away: { name: "Sport", position: "12º", logo: "/placeholder-sport.png" },
                stadium: "Arena Castelão",
                date: "Sábado, 16h",
                stats: {
                    home: { goals: 2.2, conceded: 0.9, possession: 61.2, form: ["V", "V", "V", "E", "V"] },
                    away: { goals: 1.1, conceded: 1.8, possession: 42.1, form: ["D", "D", "E", "D", "V"] }
                },
                h2h: {
                    homeWins: 6, draws: 2, awayWins: 2,
                    recent: [
                        { date: "10/08/2024", result: "3-0", winner: "home" },
                        { date: "15/04/2024", result: "2-1", winner: "home" },
                        { date: "22/11/2023", result: "1-1", winner: "draw" }
                    ]
                },
                recommendation: {
                    bet: "Coluna 1",
                    confidence: "high",
                    reasoning: "Fortaleza demonstra superioridade clara em todos os aspectos: melhor ataque, melhor defesa, vantagem do mando de campo e histórico favorável.",
                    factors: [
                        { type: "positive", text: "✅ Muito melhor ataque" },
                        { type: "positive", text: "✅ Defesa sólida" },
                        { type: "positive", text: "✅ Mando de campo" },
                        { type: "positive", text: "✅ Histórico favorável" }
                    ]
                }
            }
        };

        // SINCRONIZAR JOGOS ENTRE ABA 1 E ABA 2
        function sincronizarJogosEntreAbas() {
            console.log('🔄 [SYNC] Sincronizando jogos entre Aba 1 e Aba 2...');
            
            const gameSelector = document.getElementById('game-selector');
            const syncBtn = document.getElementById('sync-games-btn');
            
            if (!gameSelector) {
                console.error('❌ [SYNC] Seletor de jogos não encontrado!');
                return;
            }
            
            // Feedback visual no botão
            if (syncBtn) {
                syncBtn.innerHTML = '⏳ Sincronizando...';
                syncBtn.disabled = true;
            }
            
            try {
                // Extrair jogos da Aba 1 (Análise Rápida)
                const jogosAba1 = extrairJogosDaAba1();
                
                // Atualizar dropdown da Aba 2
                atualizarDropdownAba2(gameSelector, jogosAba1);
                
                // Feedback de sucesso
                if (syncBtn) {
                    syncBtn.innerHTML = '✅ Sincronizado!';
                    setTimeout(() => {
                        syncBtn.innerHTML = '🔄 Sincronizar';
                        syncBtn.disabled = false;
                    }, 2000);
                }
                
                console.log('✅ [SYNC] Sincronização concluída!');
                
            } catch (error) {
                console.error('❌ [SYNC] Erro na sincronização:', error);
                
                if (syncBtn) {
                    syncBtn.innerHTML = '❌ Erro';
                    setTimeout(() => {
                        syncBtn.innerHTML = '🔄 Sincronizar';
                        syncBtn.disabled = false;
                    }, 2000);
                }
            }
        }
        
        // EXTRAIR JOGOS DA ABA 1 (ANÁLISE RÁPIDA)
        function extrairJogosDaAba1() {
            console.log('📊 [SYNC] Extraindo jogos da Aba 1...');
            
            const jogos = [];
            const gameCards = document.querySelectorAll('#analise-rapida .game-card');
            
            gameCards.forEach((card, index) => {
                try {
                    // Método 1: Buscar pelo span com "JOGO X:"
                    const jogoSpan = card.querySelector('.confronto-visual span[style*="font-size: 18px"]');
                    const timeInfos = card.querySelectorAll('.time-info span');
                    
                    if (jogoSpan && timeInfos.length >= 2) {
                        const jogoNumero = index + 1;
                        const timeCasa = timeInfos[0].textContent.trim();
                        const timeVisitante = timeInfos[1].textContent.trim();
                        
                        // Validar se os nomes não estão vazios
                        if (timeCasa && timeVisitante && timeCasa !== timeVisitante) {
                            const jogo = {
                                numero: jogoNumero,
                                timeCasa: timeCasa,
                                timeVisitante: timeVisitante,
                                descricao: `Jogo ${jogoNumero}: ${timeCasa} vs ${timeVisitante}`
                            };
                            
                            jogos.push(jogo);
                            console.log(`✅ [SYNC] Jogo ${jogoNumero}: ${timeCasa} vs ${timeVisitante}`);
                        } else {
                            console.warn(`⚠️ [SYNC] Jogo ${index + 1}: Nomes inválidos - Casa: "${timeCasa}", Visitante: "${timeVisitante}"`);
                        }
                    } else {
                        // Método 2: Fallback - buscar por qualquer estrutura de confronto
                        console.warn(`⚠️ [SYNC] Jogo ${index + 1}: Estrutura não encontrada, tentando método alternativo...`);
                        
                        const allSpans = card.querySelectorAll('span');
                        const teamNames = [];
                        
                        allSpans.forEach(span => {
                            const text = span.textContent.trim();
                            // Procurar por nomes de times (palavras em maiúsculo, não números)
                            if (text && text.length > 2 && /^[A-ZÁÉÍÓÚÂÊÔÀÇ\s/-]+$/.test(text) && !text.includes('JOGO')) {
                                teamNames.push(text);
                            }
                        });
                        
                        if (teamNames.length >= 2) {
                            const jogo = {
                                numero: index + 1,
                                timeCasa: teamNames[0],
                                timeVisitante: teamNames[1],
                                descricao: `Jogo ${index + 1}: ${teamNames[0]} vs ${teamNames[1]}`
                            };
                            
                            jogos.push(jogo);
                            console.log(`✅ [SYNC] Jogo ${index + 1} (fallback): ${teamNames[0]} vs ${teamNames[1]}`);
                        }
                    }
                } catch (error) {
                    console.error(`❌ [SYNC] Erro ao extrair jogo ${index + 1}:`, error);
                }
            });
            
            console.log(`📋 [SYNC] Total de jogos extraídos: ${jogos.length}`);
            return jogos;
        }
        
        // ATUALIZAR DROPDOWN DA ABA 2
        function atualizarDropdownAba2(gameSelector, jogos) {
            console.log('🎮 [SYNC] Atualizando dropdown da Aba 2...');
            
            // Limpar opções existentes (exceto a primeira)
            while (gameSelector.children.length > 1) {
                gameSelector.removeChild(gameSelector.lastChild);
            }
            
            // Adicionar jogos extraídos da Aba 1
            jogos.forEach(jogo => {
                const option = document.createElement('option');
                option.value = jogo.numero;
                option.textContent = jogo.descricao;
                gameSelector.appendChild(option);
            });
            
            // Atualizar dados dos jogos para análise detalhada
            atualizarDadosJogosAnalise(jogos);
            
            console.log(`✅ [SYNC] ${jogos.length} jogos adicionados ao dropdown`);
        }

        // ATUALIZAR DADOS DOS JOGOS PARA ANÁLISE DETALHADA
        function atualizarDadosJogosAnalise(jogos) {
            console.log('📊 [SYNC] Atualizando dados dos jogos para análise...');
            
            jogos.forEach(jogo => {
                // Atualizar ou criar dados do jogo no advancedStatsData
                if (!advancedStatsData[jogo.numero]) {
                    advancedStatsData[jogo.numero] = {};
                }
                
                // Atualizar informações básicas
                advancedStatsData[jogo.numero].home = {
                    name: jogo.timeCasa,
                    position: '5º' // Placeholder - pode ser melhorado futuramente
                };
                
                advancedStatsData[jogo.numero].away = {
                    name: jogo.timeVisitante,
                    position: '2º' // Placeholder - pode ser melhorado futuramente
                };
                
                // Informações do jogo (placeholder)
                advancedStatsData[jogo.numero].stadium = 'Arena - Local';
                advancedStatsData[jogo.numero].date = 'Domingo, 15h';
                
                // Dados estatísticos básicos (placeholder)
                if (!advancedStatsData[jogo.numero].stats) {
                    advancedStatsData[jogo.numero].stats = {
                        home: { form: ['D', 'D', 'D', 'E', 'E'], probable: 0, strength: 0, value: 0 },
                        away: { form: ['E', 'D', 'E', 'D', 'E'], probable: 0, strength: 0, value: 0 }
                    };
                }
                
                // H2H básico (placeholder)
                if (!advancedStatsData[jogo.numero].h2h) {
                    advancedStatsData[jogo.numero].h2h = {
                        homeWins: 4,
                        draws: 2,
                        awayWins: 4,
                        recent: [
                            { date: '15/09/2024', result: 'Casa 2-1 Visitante' },
                            { date: '20/05/2024', result: 'Casa 0-3 Visitante' },
                            { date: '12/01/2024', result: 'Casa 1-1 Visitante' }
                        ]
                    };
                }
                
                // Recomendação básica (placeholder)
                if (!advancedStatsData[jogo.numero].recommendation) {
                    advancedStatsData[jogo.numero].recommendation = {
                        confidence: 'Alta Confiança',
                        prediction: 'Duplo X2',
                        analysis: `Com base nos dados estatísticos, o time visitante apresenta números superiores ofensivos (2.1 gols/jogo vs 1.8) e melhor defesa (1.0 vs 1.2 gols sofridos).`,
                        factors: [
                            { text: 'Melhor ataque visitante', positive: true },
                            { text: 'Melhor defesa visitante', positive: true },
                            { text: 'H2H equilibrado', neutral: true },
                            { text: 'Fator casa', negative: true }
                        ]
                    };
                }
                
                console.log(`✅ [SYNC] Dados atualizados para Jogo ${jogo.numero}: ${jogo.timeCasa} vs ${jogo.timeVisitante}`);
            });
        }

        // INICIALIZAR ESTATÍSTICAS AVANÇADAS
        function initializeAdvancedStats() {
            const gameSelector = document.getElementById('game-selector');
            const detailedAnalysis = document.getElementById('detailed-analysis');
            const noGameSelected = document.getElementById('no-game-selected');

            if (gameSelector) {
                gameSelector.addEventListener('change', (e) => {
                    const gameId = parseInt(e.target.value);
                    
                    if (gameId && advancedStatsData[gameId]) {
                        showDetailedAnalysis(gameId);
                        detailedAnalysis.style.display = 'block';
                        noGameSelected.style.display = 'none';
                    } else {
                        detailedAnalysis.style.display = 'none';
                        noGameSelected.style.display = 'block';
                    }
                });
            }
            
            // Sincronizar jogos na inicialização
            sincronizarJogosEntreAbas();
        }

        // CARREGAR DADOS DA ABA TIMES LOTECA JOGOS
        async function carregarTimesLotecaJogos() {
            console.log('⚽ [TIMES-LOTECA] Carregando dados dos times...');
            
            const loadingEl = document.getElementById('loading-times-loteca');
            const containerEl = document.getElementById('jogos-loteca-container');
            
            if (loadingEl) loadingEl.style.display = 'block';
            if (containerEl) containerEl.innerHTML = '';
            
            try {
                // Extrair jogos da Aba 1
                const jogos = extrairJogosDaAba1();
                console.log(`⚽ [TIMES-LOTECA] ${jogos.length} jogos extraídos`);
                
                // Buscar dados dos times via Cartola FC
                const dadosCompletos = await buscarDadosTimesCartola(jogos);
                
                // Renderizar jogos
                renderizarTimesLotecaJogos(dadosCompletos);
                
                // Atualizar resumo estatístico
                atualizarResumoEstatistico(dadosCompletos);
                
                console.log('✅ [TIMES-LOTECA] Dados carregados com sucesso!');
                
            } catch (error) {
                console.error('❌ [TIMES-LOTECA] Erro ao carregar dados:', error);
                
                if (containerEl) {
                    containerEl.innerHTML = `
                        <div class="error-message">
                            <h3>❌ Erro ao Carregar Dados</h3>
                            <p>Não foi possível carregar os dados dos times: ${error.message}</p>
                            <button onclick="carregarTimesLotecaJogos()" class="refresh-btn">
                                🔄 Tentar Novamente
                            </button>
                        </div>
                    `;
                }
            } finally {
                if (loadingEl) loadingEl.style.display = 'none';
            }
        }

        // BUSCAR DADOS DOS TIMES VIA CARTOLA FC
        async function buscarDadosTimesCartola(jogos) {
            console.log('🔍 [TIMES-LOTECA] Buscando dados no Cartola FC...');
            
            const dadosCompletos = [];
            
            for (const jogo of jogos) {
                try {
                    // Buscar dados do time da casa
                    const dadosCasa = await buscarDadosTime(jogo.timeCasa);
                    
                    // Buscar dados do time visitante  
                    const dadosVisitante = await buscarDadosTime(jogo.timeVisitante);
                    
                    dadosCompletos.push({
                        numero: jogo.numero,
                        casa: dadosCasa,
                        visitante: dadosVisitante
                    });
                    
                    console.log(`✅ [TIMES-LOTECA] Jogo ${jogo.numero}: ${jogo.timeCasa} vs ${jogo.timeVisitante}`);
                    
                } catch (error) {
                    console.error(`❌ [TIMES-LOTECA] Erro no Jogo ${jogo.numero}:`, error);
                    
                    // Dados de fallback
                    dadosCompletos.push({
                        numero: jogo.numero,
                        casa: criarDadosFallback(jogo.timeCasa),
                        visitante: criarDadosFallback(jogo.timeVisitante)
                    });
                }
            }
            
            return dadosCompletos;
        }

        // BUSCAR DADOS DE UM TIME ESPECÍFICO
        async function buscarDadosTime(nomeTime) {
            // Verificar se é time brasileiro
            const isBrazilian = isBrazilianTeam(nomeTime);
            
            if (isBrazilian) {
                // Buscar via Cartola FC
                const clubeId = cartolaProvider.getClubIdByName(nomeTime);
                if (clubeId) {
                    const stats = await cartolaProvider.getEstatisticasClube(clubeId);
                    const clubeInfo = await cartolaProvider.getClubeInfo(clubeId);
                    
                    return {
                        nome: nomeTime,
                        abrev: clubeInfo?.abreviacao || nomeTime.substring(0, 3).toUpperCase(),
                        total_atletas: stats.total_atletas || 0,
                        pct_provaveis: stats.pct_provaveis || 0,
                        forca_elenco: stats.media_pontos_elenco || 0,
                        preco_medio: stats.preco_medio || 0,
                        rating: stats.rating || 0,
                        badge: gerarBadgeTime(stats.rating || 0),
                        fonte: 'cartola',
                        brasileiro: true
                    };
                }
            }
            
            // Dados simulados para times internacionais
            return criarDadosFallback(nomeTime);
        }

        // CRIAR DADOS DE FALLBACK
        function criarDadosFallback(nomeTime) {
            const rating = Math.random() * 0.5 + 0.3; // 0.3 - 0.8
            
            return {
                nome: nomeTime,
                abrev: nomeTime.substring(0, 3).toUpperCase(),
                total_atletas: Math.floor(Math.random() * 15) + 25, // 25-40
                pct_provaveis: Math.floor(Math.random() * 30) + 30, // 30-60%
                forca_elenco: Math.round(rating * 10 * 100) / 100, // 3.0-8.0
                preco_medio: Math.round((Math.random() * 3 + 4) * 100) / 100, // 4.0-7.0
                rating: rating,
                badge: gerarBadgeTime(rating),
                fonte: 'simulado',
                brasileiro: isBrazilianTeam(nomeTime)
            };
        }

        // GERAR BADGE DO TIME
        function gerarBadgeTime(rating) {
            if (rating >= 0.7) return { text: 'Elenco Elite', class: 'badge-elite' };
            if (rating >= 0.5) return { text: 'Atenção a Destaques', class: 'badge-destaque' };
            return { text: 'Elenco Mediano', class: 'badge-mediano' };
        }

        // VERIFICAR SE É TIME BRASILEIRO
        function isBrazilianTeam(nomeTime) {
            const brasileiros = [
                'CORINTHIANS', 'FLAMENGO', 'FORTALEZA', 'SPORT', 'JUVENTUDE',
                'INTERNACIONAL', 'VASCO', 'CRUZEIRO', 'ATHLETICO', 'OPERARIO',
                'ATLETICO', 'MIRASSOL', 'GREMIO', 'VITORIA', 'BAHIA',
                'PALMEIRAS', 'FLUMINENSE', 'BOTAFOGO', 'CRICIUMA', 'PAYSANDU',
                'BRAGANTINO', 'SANTOS'
            ];
            
            return brasileiros.includes(nomeTime.toUpperCase().replace(/\/[A-Z]{2}$/, ''));
        }

        // RENDERIZAR JOGOS DA TIMES LOTECA
        function renderizarTimesLotecaJogos(dadosCompletos) {
            console.log('🎨 [TIMES-LOTECA] Renderizando jogos...');
            
            const container = document.getElementById('jogos-loteca-container');
            if (!container) return;
            
            container.innerHTML = '';
            
            dadosCompletos.forEach(jogo => {
                const jogoHtml = `
                    <div class="jogo-confronto">
                        <div class="jogo-header">
                            <div class="jogo-numero">JOGO ${jogo.numero}</div>
                        </div>
                        
                        <div class="times-confronto">
                            ${renderizarTimeContainer(jogo.casa, 'casa')}
                            
                            <div class="vs-divider-confronto">VS</div>
                            
                            ${renderizarTimeContainer(jogo.visitante, 'visitante')}
                        </div>
                    </div>
                `;
                
                container.innerHTML += jogoHtml;
            });
        }

        // RENDERIZAR CONTAINER DE UM TIME
        function renderizarTimeContainer(dadosTime, tipo) {
            const forcaPercentual = Math.round(dadosTime.rating * 100);
            const fonteIcon = dadosTime.fonte === 'cartola' ? '🔥' : '🎲';
            const fonteText = dadosTime.fonte === 'cartola' ? 'Dados reais' : 'Simulado';
            
            return `
                <div class="time-container">
                    <div class="time-header">
                        <div class="time-nome">${dadosTime.nome}</div>
                        <div class="time-abrev">${dadosTime.abrev}</div>
                    </div>
                    
                    <div class="time-stats">
                        <div class="stat-group">
                            <span class="stat-label">Elenco</span>
                            <div class="stat-value">Total: ${dadosTime.total_atletas}</div>
                            <div class="stat-subvalue">Prováveis: ${dadosTime.pct_provaveis}%</div>
                        </div>
                        
                        <div class="stat-group">
                            <span class="stat-label">Força do Elenco</span>
                            <div class="stat-value">${dadosTime.forca_elenco}</div>
                            <div class="forca-bar">
                                <div class="forca-fill" style="width: ${forcaPercentual}%"></div>
                            </div>
                        </div>
                        
                        <div class="stat-group">
                            <span class="stat-label">Mercado</span>
                            <div class="stat-value">Preço: C$</div>
                            <div class="stat-subvalue">${dadosTime.preco_medio}</div>
                        </div>
                    </div>
                    
                    <div class="time-badge ${dadosTime.badge.class}">
                        ${dadosTime.badge.text}
                    </div>
                    
                    <button class="ver-detalhes-btn" onclick="verDetalhesTime('${dadosTime.nome}')">
                        📊 Ver Detalhes
                    </button>
                    
                    <div style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--cor-texto-secundario); text-align: center;">
                        ${fonteIcon} ${fonteText}
                    </div>
                </div>
            `;
        }

        // ATUALIZAR RESUMO ESTATÍSTICO
        function atualizarResumoEstatistico(dadosCompletos) {
            console.log('📊 [TIMES-LOTECA] Atualizando resumo estatístico...');
            
            let totalBrasileiros = 0;
            let totalInternacionais = 0;
            let somaForca = 0;
            let somaPreco = 0;
            let totalTimes = 0;
            
            dadosCompletos.forEach(jogo => {
                [jogo.casa, jogo.visitante].forEach(time => {
                    if (time.brasileiro) {
                        totalBrasileiros++;
                    } else {
                        totalInternacionais++;
                    }
                    
                    somaForca += time.forca_elenco || 0;
                    somaPreco += time.preco_medio || 0;
                    totalTimes++;
                });
            });
            
            const forcaMedia = totalTimes > 0 ? (somaForca / totalTimes).toFixed(1) : '0.0';
            const precoMedio = totalTimes > 0 ? (somaPreco / totalTimes).toFixed(1) : '0.0';
            
            // Atualizar elementos do DOM
            const elementos = {
                'total-brasileiros': totalBrasileiros,
                'total-internacionais': totalInternacionais,
                'forca-media-geral': forcaMedia,
                'preco-medio-geral': `C$ ${precoMedio}`
            };
            
            Object.entries(elementos).forEach(([id, valor]) => {
                const elemento = document.getElementById(id);
                if (elemento) {
                    elemento.textContent = valor;
                }
            });
        }

        // VER DETALHES DE UM TIME
        function verDetalhesTime(nomeTime) {
            console.log(`🔍 [TIMES-LOTECA] Ver detalhes de: ${nomeTime}`);
            
            // Aqui você pode implementar um modal ou redirecionar para uma página de detalhes
            alert(`Detalhes de ${nomeTime} serão implementados em breve!`);
        }

        // INICIALIZAR SUB-ABA TIMES LOTECA JOGOS
        function initTimesLotecaJogos() {
            console.log('🚀 [TIMES-LOTECA] Inicializando sub-aba...');
            
            // Adicionar event listener para o botão de atualizar
            const btnAtualizar = document.getElementById('atualizar-times-loteca');
            if (btnAtualizar) {
                btnAtualizar.addEventListener('click', () => {
                    console.log('🔄 [TIMES-LOTECA] Botão atualizar clicado');
                    carregarTimesLotecaJogos();
                });
                console.log('✅ [TIMES-LOTECA] Event listener do botão configurado');
            } else {
                console.warn('⚠️ [TIMES-LOTECA] Botão atualizar não encontrado');
            }
        }

        // MOSTRAR ANÁLISE DETALHADA COM DADOS REAIS DO CARTOLA
        async function showDetailedAnalysis(gameId) {
            const data = advancedStatsData[gameId];
            if (!data) return;

            console.log(`🎯 [ANALYSIS] Carregando análise detalhada do Jogo ${gameId}`);
            console.log(`🏠 [ANALYSIS] Time Casa: ${data.home.name}`);
            console.log(`✈️ [ANALYSIS] Time Visitante: ${data.away.name}`);

            // Atualizar cabeçalho do confronto com nomes
            document.getElementById('team-home-name').textContent = data.home.name;
            document.getElementById('team-away-name').textContent = data.away.name;
            document.querySelector('.team-home .team-position').textContent = data.home.position + ' Posição';
            document.querySelector('.team-away .team-position').textContent = data.away.position + ' Posição';
            document.querySelector('.stadium').textContent = data.stadium;
            document.querySelector('.date').textContent = data.date;

            // ATUALIZAR ESCUDOS DOS TIMES
            atualizarEscudosAnaliseDetalhada(data.home.name, data.away.name);

            // Verificar se é um jogo brasileiro e buscar dados do Cartola
            const isBrazilianMatch = isBrazilianGame(data.home.name, data.away.name);
            
            if (isBrazilianMatch) {
                await loadCartolaData(data);
            } else {
                // Usar dados simulados para jogos internacionais
                loadSimulatedData(data);
            }

            // Atualizar H2H (mantém simulado por enquanto)
            updateH2H(data.h2h);

            // Atualizar recomendação
            updateRecommendation(data.recommendation);
        }

        // ATUALIZAR ESCUDOS NA ANÁLISE DETALHADA
        function atualizarEscudosAnaliseDetalhada(timeCasa, timeVisitante) {
            console.log('🛡️ [ESCUDOS] Atualizando escudos na análise detalhada...');
            console.log(`🏠 [ESCUDOS] Time Casa: ${timeCasa}`);
            console.log(`✈️ [ESCUDOS] Time Visitante: ${timeVisitante}`);
            
            // Buscar elementos dos escudos
            const escudoCasa = document.querySelector('.team-home .team-logo');
            const escudoVisitante = document.querySelector('.team-away .team-logo');
            
            if (escudoCasa && escudoVisitante) {
                // Obter URLs dos escudos usando a função existente
                const urlEscudoCasa = getEscudoUrlMelhorado(timeCasa);
                const urlEscudoVisitante = getEscudoUrlMelhorado(timeVisitante);
                
                console.log(`🛡️ [ESCUDOS] URL Casa: ${urlEscudoCasa}`);
                console.log(`🛡️ [ESCUDOS] URL Visitante: ${urlEscudoVisitante}`);
                
                // Atualizar escudos com animação suave
                escudoCasa.style.opacity = '0.5';
                escudoVisitante.style.opacity = '0.5';
                
                setTimeout(() => {
                    escudoCasa.src = urlEscudoCasa;
                    escudoCasa.alt = timeCasa;
                    escudoVisitante.src = urlEscudoVisitante;
                    escudoVisitante.alt = timeVisitante;
                    
                    // Restaurar opacidade
                    escudoCasa.style.opacity = '1';
                    escudoVisitante.style.opacity = '1';
                    
                    console.log('✅ [ESCUDOS] Escudos atualizados com sucesso!');
                }, 200);
                
            } else {
                console.error('❌ [ESCUDOS] Elementos de escudo não encontrados!');
            }
        }

        // FUNÇÃO MELHORADA PARA OBTER URL DO ESCUDO
        function getEscudoUrlMelhorado(nomeTime) {
            // Primeiro, tentar extrair da Aba 1 se o jogo estiver lá
            const escudoAba1 = extrairEscudoDaAba1(nomeTime);
            if (escudoAba1) {
                console.log(`🎯 [ESCUDOS] Escudo encontrado na Aba 1: ${escudoAba1}`);
                return escudoAba1;
            }
            
            // Fallback: usar mapeamento existente
            const urlMapeamento = getEscudoUrl(nomeTime, 'Corinthians'); // Usar nome do arquivo
            console.log(`🗺️ [ESCUDOS] Usando mapeamento: ${urlMapeamento}`);
            return urlMapeamento;
        }

        // EXTRAIR ESCUDO DA ABA 1 (ANÁLISE RÁPIDA)
        function extrairEscudoDaAba1(nomeTime) {
            try {
                const nomeNormalizado = nomeTime.toUpperCase().trim();
                console.log(`🔍 [ESCUDOS] Procurando escudo para: ${nomeNormalizado}`);
                
                // Buscar em todos os jogos da Aba 1
                const gameCards = document.querySelectorAll('#analise-rapida .game-card');
                
                for (const card of gameCards) {
                    const timeInfos = card.querySelectorAll('.time-info');
                    
                    for (const timeInfo of timeInfos) {
                        const spanTime = timeInfo.querySelector('span');
                        const imgEscudo = timeInfo.querySelector('img.escudo-time');
                        
                        if (spanTime && imgEscudo) {
                            const nomeTimeAba1 = spanTime.textContent.trim().toUpperCase();
                            
                            if (nomeTimeAba1 === nomeNormalizado || 
                                nomeTimeAba1.includes(nomeNormalizado) || 
                                nomeNormalizado.includes(nomeTimeAba1)) {
                                
                                console.log(`✅ [ESCUDOS] Match encontrado: ${nomeTimeAba1} = ${nomeNormalizado}`);
                                console.log(`🛡️ [ESCUDOS] URL do escudo: ${imgEscudo.src}`);
                                return imgEscudo.src;
                            }
                        }
                    }
                }
                
                console.log(`⚠️ [ESCUDOS] Escudo não encontrado na Aba 1 para: ${nomeNormalizado}`);
                return null;
                
            } catch (error) {
                console.error(`❌ [ESCUDOS] Erro ao extrair escudo da Aba 1:`, error);
                return null;
            }
        }

        // Verificar se é jogo brasileiro
        function isBrazilianGame(homeName, awayName) {
            const brazilianTeams = [
                'corinthians', 'flamengo', 'fortaleza', 'sport', 'juventude', 
                'internacional', 'vasco', 'cruzeiro', 'athletico', 'gremio', 
                'vitoria', 'bahia', 'palmeiras', 'fluminense', 'botafogo', 
                'criciuma', 'bragantino', 'santos'
            ];
            
            const homeNormalized = homeName.toLowerCase().replace(/[^a-z]/g, '');
            const awayNormalized = awayName.toLowerCase().replace(/[^a-z]/g, '');
            
            return brazilianTeams.includes(homeNormalized) && brazilianTeams.includes(awayNormalized);
        }

        // Carregar dados reais do Cartola FC
        async function loadCartolaData(data) {
            try {
                // Mostrar loading
                showLoadingStats();
                
                // Buscar dados dos clubes
                const homeId = cartolaProvider.getClubIdByName(data.home.name);
                const awayId = cartolaProvider.getClubIdByName(data.away.name);
                
                if (!homeId || !awayId) {
                    console.warn('[Cartola] IDs de clube não encontrados, usando dados simulados');
                    loadSimulatedData(data);
                    return;
                }

                // Buscar estatísticas reais
                const [homeStats, awayStats] = await Promise.all([
                    cartolaProvider.getEstatisticasClube(homeId),
                    cartolaProvider.getEstatisticasClube(awayId)
                ]);

                console.log('[Cartola] Dados carregados:', { homeStats, awayStats });

                // Atualizar interface com dados reais
                updateRealStats(homeStats, awayStats);
                
                // Mostrar indicador de dados reais
                showDataSource('Cartola FC - Dados Reais');

            } catch (error) {
                console.error('[Cartola] Erro ao carregar dados:', error);
                loadSimulatedData(data);
                showDataSource('Dados Simulados (Erro na API)');
            }
        }

        // Carregar dados simulados
        function loadSimulatedData(data) {
            // Atualizar forma recente
            updateFormSequence('.stat-home .form-sequence', data.stats.home.form);
            updateFormSequence('.stat-away .form-sequence', data.stats.away.form);

            // Atualizar estatísticas simuladas
            updateStat('.stat-home', 1, data.stats.home.goals, (data.stats.home.goals / 3 * 100));
            updateStat('.stat-away', 1, data.stats.away.goals, (data.stats.away.goals / 3 * 100));
            
            updateStat('.stat-home', 2, data.stats.home.conceded, (data.stats.home.conceded / 3 * 100), true);
            updateStat('.stat-away', 2, data.stats.away.conceded, (data.stats.away.conceded / 3 * 100), true);
            
            updateStat('.stat-home', 3, data.stats.home.possession + '%', data.stats.home.possession);
            updateStat('.stat-away', 3, data.stats.away.possession + '%', data.stats.away.possession);

            showDataSource('Dados Simulados');
        }

        // Atualizar interface com dados reais do Cartola
        function updateRealStats(homeStats, awayStats) {
            // Forma recente baseada no rating (simulada por enquanto)
            const homeForm = generateFormFromRating(homeStats.rating);
            const awayForm = generateFormFromRating(awayStats.rating);
            
            updateFormSequence('.stat-home .form-sequence', homeForm);
            updateFormSequence('.stat-away .form-sequence', awayForm);

            // Saúde do Elenco (% Prováveis)
            updateStat('.stat-home', 1, homeStats.pct_provaveis + '%', homeStats.pct_provaveis);
            updateStat('.stat-away', 1, awayStats.pct_provaveis + '%', awayStats.pct_provaveis);
            
            // Força do Elenco (Média de Pontos)
            const homeMedia = homeStats.media_pontos_elenco || 0;
            const awayMedia = awayStats.media_pontos_elenco || 0;
            updateStat('.stat-home', 2, homeMedia.toFixed(1), (homeMedia / 10 * 100));
            updateStat('.stat-away', 2, awayMedia.toFixed(1), (awayMedia / 10 * 100));
            
            // Valorização (Preço Médio)
            const homePreco = homeStats.preco_medio || 0;
            const awayPreco = awayStats.preco_medio || 0;
            updateStat('.stat-home', 3, 'C$ ' + homePreco.toFixed(1), (homePreco / 50 * 100));
            updateStat('.stat-away', 3, 'C$ ' + awayPreco.toFixed(1), (awayPreco / 50 * 100));

            // Atualizar labels das estatísticas
            updateStatLabels();
        }

        // Gerar forma baseada no rating
        function generateFormFromRating(rating) {
            const results = ['V', 'E', 'D'];
            const form = [];
            for (let i = 0; i < 5; i++) {
                const rand = Math.random();
                if (rand < rating) {
                    form.push('V');
                } else if (rand < rating + 0.2) {
                    form.push('E');
                } else {
                    form.push('D');
                }
            }
            return form;
        }

        // Atualizar labels das estatísticas para dados do Cartola
        function updateStatLabels() {
            const statRows = document.querySelectorAll('.stat-row');
            if (statRows[1]) {
                statRows[1].querySelector('.stat-label').textContent = 'Elenco Provável (%)';
            }
            if (statRows[2]) {
                statRows[2].querySelector('.stat-label').textContent = 'Força do Elenco';
            }
            if (statRows[3]) {
                statRows[3].querySelector('.stat-label').textContent = 'Valorização (C$)';
            }
        }

        // Mostrar loading
        function showLoadingStats() {
            const statRows = document.querySelectorAll('.stat-row');
            statRows.forEach(row => {
                const values = row.querySelectorAll('.stat-value');
                values.forEach(value => {
                    value.textContent = '...';
                });
            });
        }

        // Mostrar fonte dos dados
        function showDataSource(source) {
            let sourceElement = document.querySelector('.data-source');
            if (!sourceElement) {
                sourceElement = document.createElement('div');
                sourceElement.className = 'data-source';
                sourceElement.style.cssText = `
                    position: absolute;
                    top: 10px;
                    right: 10px;
                    background: rgba(168, 85, 247, 0.1);
                    color: var(--cor-destaque-primaria);
                    padding: 0.5rem 1rem;
                    border-radius: 20px;
                    font-size: 0.8rem;
                    font-weight: 600;
                    border: 1px solid rgba(168, 85, 247, 0.3);
                `;
                document.querySelector('.detailed-analysis').style.position = 'relative';
                document.querySelector('.detailed-analysis').appendChild(sourceElement);
            }
            sourceElement.textContent = source;
        }

        // FUNÇÕES AUXILIARES
        function updateFormSequence(selector, form) {
            const container = document.querySelector(selector);
            if (container) {
                container.innerHTML = form.map(result => {
                    const className = result === 'V' ? 'win' : result === 'E' ? 'draw' : 'loss';
                    return `<span class="result ${className}">${result}</span>`;
                }).join('');
            }
        }

        function updateStat(parentSelector, index, value, percentage, isDefensive = false) {
            const statRows = document.querySelectorAll('.stat-row');
            const statRow = statRows[index];
            if (statRow) {
                const element = statRow.querySelector(parentSelector);
                if (element) {
                    element.querySelector('.stat-value').textContent = value;
                    const fillElement = element.querySelector('.stat-fill');
                    if (fillElement) {
                        fillElement.style.width = percentage + '%';
                    }
                }
            }
        }

        function updateH2H(h2h) {
            document.querySelector('.h2h-stat:nth-child(1) .h2h-value').textContent = h2h.homeWins;
            document.querySelector('.h2h-stat:nth-child(2) .h2h-value').textContent = h2h.draws;
            document.querySelector('.h2h-stat:nth-child(3) .h2h-value').textContent = h2h.awayWins;

            const resultsContainer = document.querySelector('.h2h-results');
            resultsContainer.innerHTML = h2h.recent.map(match => {
                const winnerClass = match.winner === 'home' ? 'home-win' : 
                                   match.winner === 'away' ? 'away-win' : 'draw';
                return `
                    <div class="h2h-match">
                        <span class="match-date">${match.date}</span>
                        <span class="match-result ${winnerClass}">Casa ${match.result} Visitante</span>
                    </div>
                `;
            }).join('');
        }

        function updateRecommendation(recommendation) {
            document.querySelector('.confidence-level').textContent = 
                recommendation.confidence === 'high' ? 'Alta Confiança' : 'Média Confiança';
            document.querySelector('.recommended-bet').textContent = recommendation.bet;
            document.querySelector('.recommendation-reasoning p').innerHTML = 
                '<strong>Análise:</strong> ' + recommendation.reasoning;

            const factorsContainer = document.querySelector('.recommendation-factors');
            factorsContainer.innerHTML = recommendation.factors.map(factor => 
                `<div class="factor ${factor.type}">${factor.text}</div>`
            ).join('');
        }

        // CARREGAR DADOS REAIS DA LOTECA VIA API
        async function loadRealLotecaData() {
            console.log('🎯 Carregando dados REAIS da Loteca...');
            
            try {
                // Mostrar loading
                showLotecaLoading(true);
                
                // Buscar dados da API
                const apiBase = cartolaProvider.API_BASE.replace('/api/br', ''); // Usar mesmo domínio
                const response = await fetch(`${apiBase}/api/br/loteca/current`);
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                
                if (!data.success || !data.matches) {
                    throw new Error(data.error || 'Dados inválidos retornados');
                }
                
                // Atualizar gamesData global com dados reais
                gamesData = data.matches;
                
                console.log(`✅ ${gamesData.length} jogos carregados com dados REAIS!`);
                console.log('📊 Fonte dos dados:', data.data_source);
                
                // Atualizar interface
                updateUIWithRealData();
                showDataSourceIndicator(data.data_source);
                
                // Esconder loading
                showLotecaLoading(false);
                
            } catch (error) {
                console.error('❌ Erro ao carregar dados reais:', error);
                
                // Fallback: usar dados básicos se a API falhar
                console.log('🔄 Usando dados de fallback...');
                gamesData = generateFallbackData();
                
                updateUIWithRealData();
                showDataSourceIndicator('fallback');
                showLotecaLoading(false);
            }
        }
        
        // Mostrar/esconder loading
        function showLotecaLoading(show) {
            const containers = document.querySelectorAll('.games-grid, .optimizer-section');
            containers.forEach(container => {
                if (show) {
                    container.style.opacity = '0.5';
                    container.style.pointerEvents = 'none';
                } else {
                    container.style.opacity = '1';
                    container.style.pointerEvents = 'auto';
                }
            });
        }
        
        // Atualizar interface com dados reais
        function updateUIWithRealData() {
            // Recarregar a tabela de otimização com novos dados
            initializeOptimizationTable();
            optimizeStrategy();
            
            // Atualizar cards de análise rápida se necessário
            updateQuickAnalysisCards();
            
            console.log('🔄 Interface atualizada com dados reais');
        }
        
        // Mostrar indicador da fonte de dados
        function showDataSourceIndicator(source) {
            let indicator = document.getElementById('data-source-indicator');
            if (!indicator) {
                indicator = document.createElement('div');
                indicator.id = 'data-source-indicator';
                indicator.style.cssText = `
                    position: fixed;
                    top: 80px;
                    right: 20px;
                    background: linear-gradient(135deg, #0f0a18, #1a1a2e);
                    color: #fff;
                    padding: 8px 16px;
                    border-radius: 20px;
                    font-size: 12px;
                    font-weight: 600;
                    border: 1px solid rgba(255,255,255,0.1);
                    z-index: 1000;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                `;
                document.body.appendChild(indicator);
            }
            
            const sourceMap = {
                'real_cartola_fc + estimates': '🔥 Dados Reais (Cartola FC)',
                'cartola_real': '✅ 100% Real',
                'fallback': '⚠️ Modo Seguro',
                'error': '❌ Erro na API'
            };
            
            indicator.textContent = sourceMap[source] || '📊 Dados Carregados';
            
            // Auto-hide após 5 segundos
            setTimeout(() => {
                if (indicator) indicator.style.display = 'none';
            }, 5000);
        }
        
        // Dados de fallback caso API falhe
        function generateFallbackData() {
            return [
                { id: 1, home: "Corinthians", away: "Flamengo", prob1: 40, probX: 30, prob2: 30, classification: "triplo", suggestion: "1X2" },
                { id: 2, home: "Fortaleza", away: "Sport", prob1: 55, probX: 25, prob2: 20, classification: "duplo", suggestion: "1X" },
                { id: 3, home: "Juventude", away: "Internacional", prob1: 25, probX: 35, prob2: 40, classification: "duplo", suggestion: "X2" },
                { id: 4, home: "Vasco", away: "Cruzeiro", prob1: 45, probX: 30, prob2: 25, classification: "duplo", suggestion: "1X" },
                { id: 5, home: "Athletico/PR", away: "Operário/PR", prob1: 65, probX: 25, prob2: 10, classification: "seco", suggestion: "1" },
                { id: 6, home: "Atlético/MG", away: "Mirassol", prob1: 60, probX: 25, prob2: 15, classification: "seco", suggestion: "1" },
                { id: 7, home: "Grêmio", away: "Vitória", prob1: 50, probX: 30, prob2: 20, classification: "duplo", suggestion: "1X" },
                { id: 8, home: "Aston Villa", away: "Fulham", prob1: 45, probX: 30, prob2: 25, classification: "duplo", suggestion: "1X" },
                { id: 9, home: "Bahia", away: "Palmeiras", prob1: 30, probX: 30, prob2: 40, classification: "duplo", suggestion: "X2" },
                { id: 10, home: "Fluminense", away: "Botafogo", prob1: 40, probX: 35, prob2: 25, classification: "triplo", suggestion: "1X2" },
                { id: 11, home: "Criciúma", away: "Paysandu", prob1: 50, probX: 30, prob2: 20, classification: "duplo", suggestion: "1X" },
                { id: 12, home: "Newcastle", away: "Arsenal", prob1: 35, probX: 30, prob2: 35, classification: "triplo", suggestion: "1X2" },
                { id: 13, home: "Bragantino", away: "Santos", prob1: 45, probX: 30, prob2: 25, classification: "duplo", suggestion: "1X" },
                { id: 14, home: "Barcelona", away: "Real Sociedad", prob1: 55, probX: 25, prob2: 20, classification: "duplo", suggestion: "1X" }
            ];
        }
        
        // Atualizar cards de análise rápida
        function updateQuickAnalysisCards() {
            // Esta função pode ser expandida para atualizar os cards visuais
            console.log('🎮 Cards de análise rápida atualizados');
        }

        // GERENCIAR SUB-ABAS DA ABA 2: DADOS AVANÇADOS
        function initializeSubTabsDadosAvancados() {
            console.log('🔧 [DEBUG] Inicializando sub-abas Dados Avançados...');
            
            // Buscar APENAS os elementos da aba "Dados Avançados" (aba 2)
            const dadosAvancadosSection = document.getElementById('dados-avancados');
            const subTabButtons = dadosAvancadosSection.querySelectorAll('.sub-tab-btn');
            const subTabContents = dadosAvancadosSection.querySelectorAll('.dados-avancados-content');

            console.log('🔧 [DEBUG] Sub-abas encontradas:', {
                'seção': !!dadosAvancadosSection,
                'botões': subTabButtons.length,
                'conteúdos': subTabContents.length
            });

            if (!dadosAvancadosSection) {
                console.error('❌ [DEBUG] Seção dados-avancados não encontrada!');
                return;
            }

            subTabButtons.forEach((button, index) => {
                const targetId = button.getAttribute('data-target');
                console.log(`🔧 [DEBUG] Sub-botão ${index}: ${targetId}`);
                
                button.addEventListener('click', () => {
                    console.log(`🔧 [DEBUG] Clique em sub-aba: ${targetId}`);
                    
                    // Remover classe active de todos os botões e conteúdos
                    subTabButtons.forEach(btn => btn.classList.remove('active'));
                    subTabContents.forEach(content => content.classList.remove('active'));
                    
                    // Adicionar classe active ao botão clicado e seu conteúdo
                    button.classList.add('active');
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        targetElement.classList.add('active');
                        console.log(`✅ [DEBUG] Sub-aba ${targetId} ativada`);
                    } else {
                        console.error(`❌ [DEBUG] Elemento ${targetId} não encontrado!`);
                    }
                    
                    // Aguardar um pouco para o CSS aplicar e então carregar dados
                    setTimeout(() => {
                        if (targetId === 'times-loteca-dados') {
                            console.log('⚽ [TIMES-LOTECA] Processando Times Loteca...');
                            
                            const container = document.getElementById('jogos-loteca-container');
                            if (container && container.innerHTML.trim() === '') {
                                console.log('⚽ [TIMES-LOTECA] Carregando dados dos times...');
                                carregarTimesLotecaJogos();
                            } else {
                                console.log('✅ [TIMES-LOTECA] Dados já disponíveis');
                            }
                            
                        } else if (targetId === 'serie-a-dados') {
                            console.log('🏆 Processando Série A...');
                            
                            const containerA = document.getElementById('clubes-container');
                            const conteudoA = containerA?.innerHTML.trim() || '';
                            const temCardsA = containerA?.querySelectorAll('.clube-card').length > 0;
                            
                            console.log('🏆 [DEBUG] Análise do container A:');
                            console.log('  - Container encontrado:', !!containerA);
                            console.log('  - Conteúdo length:', conteudoA.length);
                            console.log('  - Tem cards:', temCardsA);
                            
                            if (containerA && (conteudoA === '' || !temCardsA)) {
                                console.log('🏆 Carregando dados da Série A...');
                                carregarEstatisticasClubes();
                            } else {
                                console.log('✅ Dados da Série A já disponíveis');
                            }
                            
                        } else if (targetId === 'serie-b-dados') {
                            console.log('🥈 Processando Série B...');
                            
                            const containerB = document.getElementById('clubes-container-b');
                            console.log('🥈 Container B encontrado:', !!containerB);
                            
                            if (containerB) {
                                // SEMPRE carregar dados da Série B para garantir renderização correta
                                console.log('🥈 [DEBUG] Forçando carregamento da Série B...');
                                carregarDadosSerieB();
                            } else {
                                console.error('❌ Container Série B não encontrado!');
                            }
                        }
                    }, 100); // Pequeno delay para CSS aplicar
                });
            });

            // Configurar botões de refresh específicos
            const refreshSerieABtn = document.getElementById('refresh-serie-a-btn');
            const refreshSerieBBtn = document.getElementById('refresh-serie-b-btn');

            if (refreshSerieABtn) {
                refreshSerieABtn.addEventListener('click', () => {
                    console.log('🔄 Atualizando Série A...');
                    carregarEstatisticasClubes();
                });
            }

            if (refreshSerieBBtn) {
                refreshSerieBBtn.addEventListener('click', () => {
                    console.log('🔄 Atualizando Série B...');
                    carregarDadosSerieB();
                });
            }

            console.log('✅ Sub-abas Dados Avançados inicializadas');
        }

        // CARREGAR DADOS DA SÉRIE B (estrutura completa como Série A)
        async function carregarDadosSerieB() {
            console.log('🥈 [DEBUG] carregarDadosSerieB iniciada');
            
            const loadingEl = document.getElementById('loading-clubes-b');
            const containerEl = document.getElementById('clubes-container-b');
            const summaryEl = document.getElementById('clubes-summary-b');

            console.log('🥈 [DEBUG] Elementos encontrados:', {
                loading: !!loadingEl, 
                container: !!containerEl, 
                summary: !!summaryEl
            });

            if (!loadingEl || !containerEl || !summaryEl) {
                console.error('❌ Elementos da Série B não encontrados');
                return;
            }

            // Mostrar loading
            loadingEl.classList.add('active');
            containerEl.innerHTML = '';

            try {
                console.log('[Clubes Série B] 🥈 Carregando dados dos clubes...');
                
                // 1) Buscar lista de clubes (MESMA API - pega todos os 68 clubes)
                const clubesResponse = await cartolaProvider.getClubes();
                const clubes = Object.values(clubesResponse || {});

                console.log(`[Clubes Série B] ✅ ${clubes.length} clubes totais encontrados`);

                if (clubes.length === 0) {
                    throw new Error('Nenhum clube encontrado');
                }

                // 2) Buscar estatísticas detalhadas para cada clube
                const clubesComStats = [];
                let processados = 0;

                for (const clube of clubes) {
                    try {
                        console.log(`[Clubes Série B] 📊 Processando ${clube.nome} (${processados + 1}/${clubes.length})`);
                        
                        const stats = await cartolaProvider.getEstatisticasClube(clube.id);
                        
                        clubesComStats.push({
                            ...clube,
                            stats: stats
                        });
                        
                        processados++;
                        
                        // Atualizar progresso na tela
                        containerEl.innerHTML = `
                            <div class="progress-info">
                                <h3>🔄 Carregando clubes da Série B...</h3>
                                <p>Processando: ${clube.nome}</p>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: ${(processados / clubes.length) * 100}%"></div>
                                </div>
                                <p>${processados}/${clubes.length} clubes processados</p>
                            </div>
                        `;
                        
                        // Pequena pausa para não sobrecarregar a API
                        await new Promise(resolve => setTimeout(resolve, 100));
                        
                    } catch (error) {
                        console.warn(`[Clubes Série B] ⚠️ Erro ao processar ${clube.nome}:`, error.message);
                        
                        // Adicionar com stats vazias se der erro
                        clubesComStats.push({
                            ...clube,
                            stats: {
                                total_atletas: 0,
                                pct_provaveis: 0,
                                media_pontos_elenco: null,
                                preco_medio: null,
                                rating: 0,
                                status: 'Erro na API'
                            }
                        });
                        processados++;
                    }
                }

                console.log(`[Clubes Série B] ✅ ${clubesComStats.length} clubes processados com estatísticas`);

                // 3) Renderizar todos os clubes
                renderizarClubesSerieB(clubesComStats);
                atualizarSumarioSerieB(clubesComStats.length, 'Cartola FC API');

            } catch (error) {
                console.error('[Clubes Série B] ❌ Erro ao carregar dados:', error);
                containerEl.innerHTML = `
                    <div class="error-message">
                        <h3>❌ Erro ao Carregar Dados da Série B</h3>
                        <p>Não foi possível carregar os dados dos clubes: ${error.message}</p>
                        <button onclick="carregarDadosSerieB()" class="refresh-btn">
                            🔄 Tentar Novamente
                        </button>
                    </div>
                `;
                atualizarSumarioSerieB(0, 'Erro');
            } finally {
                loadingEl.classList.remove('active');
            }
        }

        // RENDERIZAR CLUBES DA SÉRIE B (cópia da função da Série A)
        function renderizarClubesSerieB(clubes) {
            const container = document.getElementById('clubes-container-b');
            
            // Ordenar clubes por rating (maior primeiro)
            const clubesOrdenados = clubes.sort((a, b) => (b.stats?.rating || 0) - (a.stats?.rating || 0));
            
            container.innerHTML = clubesOrdenados.map(clube => renderCardClubeSerieB(clube)).join('');
        }

        // RENDERIZAR CARD INDIVIDUAL DA SÉRIE B (CÓPIA EXATA DA SÉRIE A)
        function renderCardClubeSerieB(clube) {
            const stats = clube.stats || {};
            const badge = gerarBadgeSugestao(stats);
            const ratingPercent = (stats.rating || 0) * 100;

            return `
                <article class="clube-card">
                    <header class="clube-header">
                        <div>
                            <span class="clube-name">${clube.nome || 'Nome não disponível'}</span>
                            <span class="clube-abrev">(${clube.abreviacao || 'N/A'})</span>
                        </div>
                        ${badge}
                    </header>
                    
                    <div class="clube-stats">
                        <div class="stat-group left">
                            <span class="stat-label">Elenco</span>
                            <span class="stat-value">Total: ${stats.total_atletas || '–'}</span>
                            <span class="stat-value">Prováveis: ${stats.pct_provaveis || '–'}%</span>
                        </div>
                        <div class="stat-group">
                            <span class="stat-label">Força do Elenco</span>
                            <span class="stat-value">${stats.media_pontos_elenco ? stats.media_pontos_elenco.toFixed(1) : '–'}</span>
                            <div class="rating-bar">
                                <div class="rating-fill" style="width: ${ratingPercent}%"></div>
                            </div>
                        </div>
                        <div class="stat-group right">
                            <span class="stat-label">Mercado</span>
                            <span class="stat-value">Preço: ${stats.preco_medio ? 'C$ ' + stats.preco_medio.toFixed(1) : '–'}</span>
                            <div class="status-badge ${stats.status === 'Dados obtidos' ? 'success' : 'error'}">
                                ${stats.status || 'Sem dados'}
                            </div>
                        </div>
                    </div>
                    
                    <footer class="clube-actions">
                        <button type="button" class="btn-detalhes" onclick="verDetalhesClube('${clube.nome}', '${clube.id}')">
                            📊 Ver Detalhes
                        </button>
                    </footer>
                </article>
            `;
        }

        // ATUALIZAR SUMÁRIO DA SÉRIE B (cópia da função da Série A)
        function atualizarSumarioSerieB(totalClubes, fonte) {
            const totalEl = document.getElementById('total-clubes-b');
            const updateEl = document.getElementById('last-update-b');
            const sourceEl = document.getElementById('data-source-b');
            
            if (totalEl) totalEl.textContent = totalClubes;
            if (updateEl) updateEl.textContent = new Date().toLocaleString('pt-BR');
            if (sourceEl) sourceEl.textContent = fonte;
        }

        // FUNÇÃO PARA VER DETALHES DO CLUBE (usada pelos cards)
        function verDetalhesClube(nomeClube, clubeId) {
            console.log(`🔍 Detalhes do clube: ${nomeClube} (ID: ${clubeId})`);
            
            // FUTURO: Abrir modal com detalhes completos do clube
            // Por enquanto, mostrar informações no console
            
            alert(`🏆 Detalhes do ${nomeClube}\n\nID: ${clubeId}\n\n🚧 Funcionalidade em desenvolvimento!\nEm breve: modal com estatísticas completas, histórico e análises detalhadas.`);
        }

        // INICIALIZAR A APLICAÇÃO
        // MAPEAMENTO DOS ESCUDOS DOS TIMES - CORRIGIDO E COMPLETO
        const escudosMap = {
            'CORINTHIANS': 'COR_Corinthians',
            'FLAMENGO': 'FLA_Flamengo', 
            'FORTALEZA': 'FOR_Fortaleza', // ✅ ADICIONADO
            'SPORT': 'SPT_Sport',
            'JUVENTUDE': 'JUV_Juventude',
            'INTERNACIONAL': 'INT_Internacional',
            'VASCO': 'VAS_Vasco',
            'VASCO DA GAMA': 'VAS_Vasco',
            'CRUZEIRO': 'CRU_Cruzeiro',
            'ATHLETICO': 'CAP_Athlético-PR',
            'OPERARIO': 'OPE_Operário-PR',
            'ATLETICO': 'CAM_Atletico-MG', // ✅ CORRIGIDO: agora é o Atlético-MG real
            'ATLETICO/MG': 'CAM_Atletico-MG', // ✅ CORRIGIDO: Atlético-MG correto
            'MIRASSOL': 'MIR_Mirassol',
            'GREMIO': 'GRE_Grêmio',
            'VITORIA': 'VIT_Vitória',
            'BAHIA': 'BAH_Bahia',
            'PALMEIRAS': 'PAL_Palmeiras',
            'FLUMINENSE': 'FLU_Fluminense',
            'BOTAFOGO': 'BOT_Botafogo-RJ', // ✅ CORRIGIDO: agora é o Botafogo-RJ
            'CRICIUMA': 'CRI_Criciúma',
            'PAYSANDU': 'PAY_Paysandu',
            'BRAGANTINO': 'RBB_Bragantino', // ✅ CORRIGIDO
            'SANTOS': 'SAN_Santos' // ✅ CORRIGIDO: agora é o Santos real
        };

        function getEscudoUrl(nomeTime, nomeArquivo = '45x45') {
            // Limpar nome do time
            const nome = nomeTime.toUpperCase().replace(/\/[A-Z]{2}$/, '').trim();
            const abrev = escudosMap[nome];
            
            if (abrev) {
                // Se nomeArquivo não é um tamanho padrão, usar o nome do clube
                if (!nomeArquivo.includes('x')) {
                    // Extrair nome do clube da abreviação (ex: "COR_Corinthians" -> "Corinthians")
                    const nomeClube = abrev.split('_')[1] || abrev.split('_')[0];
                    return `/static/escudos/${abrev}/${nomeClube}.png`;
                } else {
                    // Usar tamanho padrão
                    return `/static/escudos/${abrev}/${nomeArquivo}.png`;
                }
            }
            
            // Fallback para placeholder
            return '/static/placeholder-team-logo.svg';
        }

        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 [DEBUG] Iniciando aplicação...');
            
            // PRIMEIRO: Inicializar abas principais
            initializeTabs();
            console.log('✅ [DEBUG] Abas principais inicializadas');
            
            // DEPOIS: Inicializar sub-abas (dentro da aba Dados Avançados)
            setTimeout(() => {
                initializeSubTabsDadosAvancados(); // Sub-abas Série A/B
                console.log('✅ [DEBUG] Sub-abas inicializadas');
                
                // Verificar se elementos da Série B existem
                setTimeout(() => {
                    console.log('🔍 [DEBUG] Verificando elementos Série B...');
                    const containerB = document.getElementById('clubes-container-b');
                    const loadingB = document.getElementById('loading-clubes-b');
                    const summaryB = document.getElementById('clubes-summary-b');
                    
                    console.log('🔍 [DEBUG] Série B elementos:', {containerB, loadingB, summaryB});
                    
                    if (!containerB) {
                        console.error('❌ [DEBUG] Container Série B não encontrado!');
                    }
                }, 200);
            }, 100);
            
            loadRealLotecaData(); // ← CARREGAR DADOS REAIS PRIMEIRO!
            
            // SINCRONIZAR JOGOS ENTRE ABAS (após carregar dados)
            setTimeout(() => {
                sincronizarJogosEntreAbas();
                console.log('✅ [DEBUG] Sincronização de jogos inicializada');
            }, 500);
            initializeBudgetSelector();
            initializeOptimizationTable();
            initializeEventListeners();
            initializeAdvancedStats();
            initTimesLotecaJogos();
            
            // Carregar dados dos clubes automaticamente na Série A (primeira sub-aba)
            setTimeout(() => {
                console.log('🔄 [INIT] Carregamento automático da Série A...');
                
                // Forçar carregamento da Série A independente do estado das sub-abas
                const containerEl = document.getElementById('clubes-container');
                const loadingEl = document.getElementById('loading-clubes');
                
                console.log('🔍 [INIT] Elementos Série A:', {
                    container: !!containerEl,
                    loading: !!loadingEl,
                    containerVazio: containerEl?.innerHTML.trim() === ''
                });
                
                if (containerEl && loadingEl) {
                    console.log('⚠️ [INIT] Carregamento automático DESABILITADO para evitar loop');
                    console.log('💡 [INIT] Use o botão "Atualizar Série A" para carregar dados');
                    // carregarEstatisticasClubes(); // DESABILITADO
                } else {
                    console.error('❌ [INIT] Elementos da Série A não encontrados!');
                }
                
                // TAMBÉM verificar se elementos da Série B existem para diagnóstico
                setTimeout(() => {
                    console.log('🔍 [INIT] Verificando elementos Série B...');
                    const containerB = document.getElementById('clubes-container-b');
                    const loadingB = document.getElementById('loading-clubes-b');
                    const summaryB = document.getElementById('clubes-summary-b');
                    
                    console.log('🔍 [INIT] Série B:', {
                        container: !!containerB,
                        loading: !!loadingB, 
                        summary: !!summaryB
                    });
                }, 100);
            }, 300); // Carregamento ainda mais rápido
            
            // Log de boas-vindas com instruções
            console.log(`
🚀 LOTECA X-RAY - API INTERNACIONAL INTEGRADA!

📡 API Status: Backend Flask Multi-Provider carregado
🔗 Endpoints: 
   • Brasil: http://127.0.0.1:5000/api/br
   • Internacional: http://127.0.0.1:5000/api/int

🧪 Para testar, use no console:
• testCartola.diagnosticar() - DIAGNÓSTICO COMPLETO
• testCartola.testBackend() - Testa backend Flask
• testCartola.testAPI() - Testa integração completa

🎯 Vá para a Aba 2 (Dados Avançados) para ver:
   • Análise detalhada de confrontos brasileiros
   • Painel completo dos clubes do Brasileirão
   • Dados reais de elenco e mercado
            `);
        });

        // CONFIGURAR SELETOR DE ORÇAMENTO
        function initializeBudgetSelector() {
            const budgetButtons = document.querySelectorAll('.budget-btn');
            const customInput = document.getElementById('custom-budget');

            budgetButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    budgetButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentBudget = parseInt(btn.dataset.value);
                    customInput.value = '';
                    updateBudgetDetails();
                    optimizeStrategy();
                });
            });

            customInput.addEventListener('input', () => {
                budgetButtons.forEach(b => b.classList.remove('active'));
                currentBudget = parseInt(customInput.value) || 0;
                updateBudgetDetails();
                optimizeStrategy();
            });
        }

        // ATUALIZAR DETALHES DO ORÇAMENTO
        function updateBudgetDetails() {
            const budgetDetails = document.getElementById('budget-details');
            
            if (currentBudget === 0) {
                budgetDetails.textContent = 'Selecione um valor para ver a distribuição otimizada';
                return;
            }

            const optimal = findOptimalStrategy(currentBudget);
            if (optimal) {
                budgetDetails.innerHTML = `
                    <strong>Distribuição Otimizada:</strong> ${optimal.duplos} Duplos + ${optimal.triplos} Triplos = 
                    ${optimal.combinations} apostas por <strong>R$ ${optimal.price.toFixed(2)}</strong>
                `;
            } else {
                budgetDetails.textContent = 'Valor não corresponde a nenhuma combinação válida da tabela oficial';
            }
        }

        // ENCONTRAR ESTRATÉGIA OTIMIZADA
        function findOptimalStrategy(budget) {
            return priceTable.find(entry => entry.price === budget);
        }

        // OTIMIZAR ESTRATÉGIA BASEADA NO ORÇAMENTO
        function optimizeStrategy() {
            if (currentBudget === 0) return;

            const strategy = findOptimalStrategy(currentBudget);
            if (!strategy) return;

            // Reset choices
            userChoices = {};

            // Classificar jogos por prioridade
            const secoGames = gamesData.filter(g => g.classification === 'seco');
            const triploGames = gamesData.filter(g => g.classification === 'triplo');
            const duploGames = gamesData.filter(g => g.classification === 'duplo');

            // Alocar triplos primeiro (jogos mais equilibrados)
            let triplosUsed = 0;
            triploGames.forEach(game => {
                if (triplosUsed < strategy.triplos) {
                    userChoices[game.id] = '1X2';
                    triplosUsed++;
                }
            });

            // Alocar duplos
            let duplosUsed = 0;
            duploGames.forEach(game => {
                if (duplosUsed < strategy.duplos) {
                    userChoices[game.id] = game.suggestion;
                    duplosUsed++;
                }
            });

            // Jogos restantes ficam "secos"
            gamesData.forEach(game => {
                if (!userChoices[game.id]) {
                    userChoices[game.id] = game.suggestion.charAt(0); // Primeira opção da sugestão
                }
            });

            updateOptimizationTable();
            updateSummary();
        }

        // INICIALIZAR TABELA DE OTIMIZAÇÃO
        function initializeOptimizationTable() {
            const tbody = document.getElementById('optimization-tbody');
            tbody.innerHTML = '';

            gamesData.forEach(game => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${game.id}</strong></td>
                    <td>${game.home} x ${game.away}</td>
                    <td><span class="status-badge ${game.classification}">${game.classification.toUpperCase()}</span></td>
                    <td><strong>${game.suggestion}</strong></td>
                    <td>
                        <div class="choice-buttons">
                            <button class="choice-btn" data-game="${game.id}" data-choice="1">1</button>
                            <button class="choice-btn" data-game="${game.id}" data-choice="X">X</button>
                            <button class="choice-btn" data-game="${game.id}" data-choice="2">2</button>
                            <button class="choice-btn" data-game="${game.id}" data-choice="1X">1X</button>
                            <button class="choice-btn" data-game="${game.id}" data-choice="X2">X2</button>
                            <button class="choice-btn" data-game="${game.id}" data-choice="1X2">1X2</button>
                        </div>
                    </td>
                    <td id="status-${game.id}">-</td>
                `;
                tbody.appendChild(row);
            });
        }

        // CONFIGURAR EVENT LISTENERS
        function initializeEventListeners() {
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('choice-btn')) {
                    const gameId = parseInt(e.target.dataset.game);
                    const choice = e.target.dataset.choice;
                    
                    // Update choice
                    userChoices[gameId] = choice;
                    
                    // Update visual selection
                    const gameButtons = document.querySelectorAll(`[data-game="${gameId}"]`);
                    gameButtons.forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    
                    updateSummary();
                }
            });

            // Botões de ação
            document.getElementById('generate-tickets').addEventListener('click', generateTickets);
            document.getElementById('save-strategy').addEventListener('click', saveStrategy);
        }

        // ATUALIZAR TABELA DE OTIMIZAÇÃO
        function updateOptimizationTable() {
            gamesData.forEach(game => {
                const choice = userChoices[game.id] || '1';
                const gameButtons = document.querySelectorAll(`[data-game="${game.id}"]`);
                
                gameButtons.forEach(btn => {
                    btn.classList.remove('selected');
                    if (btn.dataset.choice === choice) {
                        btn.classList.add('selected');
                    }
                });

                // Update status
                const statusCell = document.getElementById(`status-${game.id}`);
                const choiceLength = choice.length;
                
                if (choiceLength === 1) {
                    statusCell.innerHTML = '<span class="status-badge seco">SECO</span>';
                } else if (choiceLength === 2) {
                    statusCell.innerHTML = '<span class="status-badge duplo">DUPLO</span>';
                } else {
                    statusCell.innerHTML = '<span class="status-badge triplo">TRIPLO</span>';
                }
            });
        }

        // ATUALIZAR RESUMO
        function updateSummary() {
            let duplosCount = 0;
            let triplosCount = 0;
            let combinations = 1;

            Object.values(userChoices).forEach(choice => {
                if (choice && choice.length === 2) duplosCount++;
                if (choice && choice.length === 3) triplosCount++;
                if (choice && choice.length > 1) {
                    combinations *= choice.length;
                }
            });

            document.getElementById('duplos-count').textContent = duplosCount;
            document.getElementById('triplos-count').textContent = triplosCount;
            document.getElementById('total-combinations').textContent = combinations;

            // Calculate cost
            const cost = combinations * 2; // R$ 2,00 por aposta simples
            document.getElementById('total-cost').textContent = `R$ ${cost.toFixed(2)}`;
        }

        // GERAR CARTÕES
        function generateTickets() {
            alert('🎫 Funcionalidade de gerar cartões será implementada em breve!\n\nEssa feature vai gerar um PDF com todos os jogos organizados para impressão.');
        }

        // SALVAR ESTRATÉGIA
        function saveStrategy() {
            const strategy = {
                budget: currentBudget,
                choices: userChoices,
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('loteca_strategy', JSON.stringify(strategy));
            alert('💾 Estratégia salva com sucesso!\n\nVocê pode recuperá-la na próxima visita.');
        }

        // Carregar estratégia salva ao inicializar
        window.addEventListener('load', () => {
            const saved = localStorage.getItem('loteca_strategy');
            if (saved) {
                const strategy = JSON.parse(saved);
                // Implementar carregamento da estratégia salva
                console.log('Estratégia salva encontrada:', strategy);
            }
        });

        // FUNÇÕES DO MODAL DE POLÍTICA DE HONESTIDADE
        function openHonestyModal() {
            const modal = document.getElementById('honesty-modal');
            if (modal) {
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden'; // Previne scroll do body
            }
        }

        function closeHonestyModal() {
            const modal = document.getElementById('honesty-modal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto'; // Restaura scroll do body
            }
        }

        // Fechar modal ao clicar fora dele
        document.addEventListener('click', function(event) {
            const modal = document.getElementById('honesty-modal');
            if (event.target === modal) {
                closeHonestyModal();
            }
        });

        // Fechar modal com tecla ESC
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeHonestyModal();
            }
        });

        // FUNÇÕES DE TESTE PARA DEBUG (console)
        window.testCartola = {
            async testAPI() {
                console.log('🧪 Testando API Cartola FC via Backend...');
                try {
                    // Health check do backend
                    console.log('📡 Testando conexão com backend...');
                    const health = await cartolaProvider.healthCheck();
                    console.log('✅ Health Check:', health);
                    
                    const status = await cartolaProvider.getMercadoStatus();
                    console.log('✅ Status do Mercado:', status);
                    
                    const clubes = await cartolaProvider.getClubes();
                    console.log('✅ Clubes:', Object.keys(clubes).length, 'clubes encontrados');
                    
                    // Testar Corinthians (ID 8)
                    console.log('📊 Testando estatísticas via backend...');
                    const corinthians = await cartolaProvider.getEstatisticasClube(8);
                    console.log('✅ Estatísticas Corinthians:', corinthians);
                    
                    // Testar Flamengo (ID 13)
                    const flamengo = await cartolaProvider.getEstatisticasClube(13);
                    console.log('✅ Estatísticas Flamengo:', flamengo);
                    
                } catch (error) {
                    console.error('❌ Erro no teste:', error);
                }
            },
            
            async compareTeams(team1, team2) {
                console.log(`🆚 Comparando ${team1} vs ${team2} via Backend...`);
                
                try {
                    // Usar o novo endpoint de confronto
                    const confronto = await cartolaProvider.getConfrontoStats(team1, team2);
                    
                    if (confronto) {
                        console.log('🏆 Análise do confronto via Backend:', confronto);
                        return confronto;
                    }
                    
                    // Fallback manual
                    const id1 = cartolaProvider.getClubIdByName(team1);
                    const id2 = cartolaProvider.getClubIdByName(team2);
                    
                    if (!id1 || !id2) {
                        console.error('❌ Time(s) não encontrado(s)');
                        return;
                    }
                    
                    const [stats1, stats2] = await Promise.all([
                        cartolaProvider.getEstatisticasClube(id1),
                        cartolaProvider.getEstatisticasClube(id2)
                    ]);
                    
                    console.log(`📊 ${team1}:`, stats1);
                    console.log(`📊 ${team2}:`, stats2);
                    
                    // Análise rápida
                    const winner = stats1.rating > stats2.rating ? team1 : team2;
                    console.log(`🏆 Time com melhor rating: ${winner}`);
                    
                } catch (error) {
                    console.error('❌ Erro na comparação:', error);
                }
            },
            
            async testBackend() {
                console.log('🔧 Testando Backend Flask...');
                try {
                    const health = await cartolaProvider.healthCheck();
                    console.log('📊 Status Backend:', health);
                    
                    if (health.status === 'ok') {
                        console.log('✅ Backend está funcionando!');
                        console.log(`📅 Rodada atual: ${health.rodada_atual}`);
                        console.log(`💾 Cache size: ${health.cache_size}`);
                    } else {
                        console.log('❌ Backend com problemas');
                    }
                    
                } catch (error) {
                    console.error('❌ Backend não está respondendo:', error);
                    console.log('🔄 Usando API direta como fallback');
                }
            },
            
            showMappings() {
                console.log('🗺️ Mapeamento de times:', cartolaProvider.getClubeMappings());
            },
            
            // Nova função para alternar entre backend e API direta
            toggleBackend(useBackend = null) {
                if (useBackend === null) {
                    cartolaProvider.useBackend = !cartolaProvider.useBackend;
                } else {
                    cartolaProvider.useBackend = useBackend;
                }
                
                console.log(`🔄 Backend ${cartolaProvider.useBackend ? 'ATIVADO' : 'DESATIVADO'}`);
                console.log(`📡 Usando: ${cartolaProvider.useBackend ? 'Flask Backend' : 'API Direta'}`);
            },

            // DIAGNÓSTICO COMPLETO DO SISTEMA
            async diagnosticar() {
                console.log('🔬 INICIANDO DIAGNÓSTICO COMPLETO...');
                console.log('=' * 50);
                
                // 1. Verificar ambiente
                const isLocal = ['localhost', '127.0.0.1'].some(host => location.hostname.includes(host));
                console.log(`🌐 Ambiente: ${isLocal ? 'DESENVOLVIMENTO' : 'PRODUÇÃO'}`);
                console.log(`📍 URL atual: ${location.origin}`);
                console.log(`🔗 Backend configurado: ${cartolaProvider.API_BASE}`);
                
                // 2. Testar backend
                console.log('\n🏥 TESTANDO BACKEND...');
                try {
                    const health = await cartolaProvider.healthCheck();
                    if (health.status === 'ok') {
                        console.log('✅ Backend Flask: FUNCIONANDO');
                        console.log(`📊 Rodada: ${health.rodada_atual}`);
                        console.log(`💾 Cache: ${health.cache_size} items`);
                    } else {
                        console.log('❌ Backend Flask: COM PROBLEMAS');
                        console.log('🔧 Status:', health);
                    }
                } catch (error) {
                    console.log('❌ Backend Flask: INACESSÍVEL');
                    console.log('🔧 Erro:', error.message);
                    console.log('💡 Dica: Execute "python backend/app.py" no terminal');
                }
                
                // 3. Testar endpoints críticos
                console.log('\n🎯 TESTANDO ENDPOINTS CRÍTICOS...');
                const endpoints = [
                    { name: 'Clubes', func: () => cartolaProvider.getClubes() },
                    { name: 'Mercado', func: () => cartolaProvider.getAtletasMercado() },
                    { name: 'Stats Corinthians', func: () => cartolaProvider.getEstatisticasClube(8) }
                ];
                
                for (const endpoint of endpoints) {
                    try {
                        const result = await endpoint.func();
                        const hasData = result && (Array.isArray(result) ? result.length > 0 : Object.keys(result).length > 0);
                        console.log(`${hasData ? '✅' : '⚠️'} ${endpoint.name}: ${hasData ? 'OK' : 'VAZIO'}`);
                        if (endpoint.name === 'Stats Corinthians') {
                            console.log(`   📊 Total atletas: ${result.total_atletas || 0}`);
                            console.log(`   📈 % Prováveis: ${result.pct_provaveis || 0}%`);
                            console.log(`   💰 Preço médio: C$ ${result.preco_medio || 0}`);
                            console.log(`   ⭐ Status: ${result.status || 'N/A'}`);
                        }
                    } catch (error) {
                        console.log(`❌ ${endpoint.name}: ERRO - ${error.message}`);
                    }
                }
                
                // 4. Verificar cache
                console.log('\n💾 STATUS DO CACHE...');
                console.log(`📦 Itens em cache: ${cartolaProvider.cache.size}`);
                
                // 5. Conclusão
                console.log('\n🎯 CONCLUSÃO:');
                if (isLocal) {
                    console.log('💡 Para funcionar localmente:');
                    console.log('   1. cd backend');
                    console.log('   2. python app.py');
                    console.log('   3. Aguardar "Running on http://127.0.0.1:5000"');
                    console.log('   4. Recarregar esta página');
                } else {
                    console.log('🌐 Em produção, certifique-se que as rotas /api/br/ estão ativas');
                }
                
                console.log('\n🔬 DIAGNÓSTICO CONCLUÍDO!');
                console.log('=' * 50);
            },

            // Testar o painel de clubes
            async testPainelClubes() {
                console.log('🏆 Testando Painel de Clubes...');
                try {
                    await carregarEstatisticasClubes();
                    console.log('✅ Painel de clubes carregado com sucesso!');
                } catch (error) {
                    console.error('❌ Erro no painel de clubes:', error);
                }
            },

            // Testar API Internacional
            async testInternational() {
                console.log('🌍 Testando API Internacional...');
                try {
                    const health = await internationalProvider.healthCheck();
                    console.log('📊 Health Check Internacional:', health);
                    
                    const leagues = await internationalProvider.getLeagues();
                    console.log('⚽ Ligas disponíveis:', leagues);
                    
                    if (leagues.length > 0) {
                        const fixtures = await internationalProvider.getFixtures('premier_league', 3);
                        console.log('🏟️ Fixtures Premier League:', fixtures);
                        
                        if (fixtures.length > 0) {
                            const analysis = await internationalProvider.getFixtureAnalysis(fixtures[0].fixture.id);
                            console.log('📈 Análise do primeiro jogo:', analysis);
                        }
                    }
                    
                    console.log('✅ API Internacional funcionando!');
                } catch (error) {
                    console.error('❌ Erro na API Internacional:', error);
                }
            },

            // Testar recomendações diárias
            async testRecommendations() {
                console.log('🎯 Testando Recomendações Diárias...');
                try {
                    const recommendations = await internationalProvider.getDailyRecommendations(2);
                    console.log('📋 Recomendações:', recommendations);
                    
                    if (recommendations.summary) {
                        console.log(`📊 Resumo:
                        • Total de jogos: ${recommendations.summary.total_games}
                        • Alta confiança (secos): ${recommendations.summary.high_confidence}
                        • Média confiança (duplos): ${recommendations.summary.medium_confidence}  
                        • Baixa confiança (triplos): ${recommendations.summary.low_confidence}`);
                    }
                    
                } catch (error) {
                    console.error('❌ Erro nas recomendações:', error);
                }
            }
        };

        // FUNÇÕES DO PAINEL DE CLUBES BRASILEIRÃO
        async function carregarEstatisticasClubes() {
            console.log('🔥 [DEBUG] carregarEstatisticasClubes iniciada');
            
            const loadingEl = document.getElementById('loading-clubes');
            const containerEl = document.getElementById('clubes-container');
            const summaryEl = document.getElementById('clubes-summary');

            console.log('🔥 [DEBUG] Elementos encontrados:', {loadingEl, containerEl, summaryEl});

            // Mostrar loading
            if (loadingEl) {
                loadingEl.classList.add('active');
                console.log('🔥 [DEBUG] Loading ativado');
            }
            
            if (containerEl) {
                containerEl.innerHTML = '';
                console.log('🔥 [DEBUG] Container limpo');
            }

            try {
                console.log('[Clubes] 🏆 Carregando dados dos clubes...');
                
                // 1) Buscar lista de clubes
                const clubesResponse = await cartolaProvider.getClubes();
                const clubes = Object.values(clubesResponse || {});

                console.log(`[Clubes] ✅ ${clubes.length} clubes encontrados`);

                if (clubes.length === 0) {
                    throw new Error('Nenhum clube encontrado');
                }

                // 2) FILTRAR APENAS CLUBES RELEVANTES (Série A + principais da Série B)
                const clubesRelevantes = clubes.filter(clube => {
                    // IDs dos principais clubes (Série A + alguns da Série B)
                    const idsRelevantes = [
                        262, 263, 264, 265, 266, 267, 268, 269, 270, 271, // Série A principais
                        272, 273, 274, 275, 276, 277, 278, 279, 280, 281, // Série A restantes
                        346, 347, 349, 350, 351, 354, 356, 362, 363, 364  // Alguns da Série B
                    ];
                    return idsRelevantes.includes(clube.id);
                });

                console.log(`[Clubes] 🎯 Filtrando para ${clubesRelevantes.length} clubes relevantes`);

                // 3) Buscar estatísticas com rate limiting
                const clubesComStats = [];
                let processados = 0;
                
                for (const clube of clubesRelevantes) {
                    try {
                        console.log(`[Clubes] 📊 Carregando stats: ${clube.nome || clube.abreviacao} (${processados + 1}/${clubesRelevantes.length})`);
                        
                        const stats = await cartolaProvider.getEstatisticasClube(clube.id);
                        clubesComStats.push({
                            ...clube,
                            stats: stats
                        });
                        
                        processados++;
                        
                        // RATE LIMITING: Pausa entre requests
                        if (processados < clubesRelevantes.length) {
                            await new Promise(resolve => setTimeout(resolve, 200));
                        }
                        
                    } catch (error) {
                        console.warn(`[Clubes] ⚠️ Erro ao carregar stats para ${clube.nome}:`, error);
                        clubesComStats.push({
                            ...clube,
                            stats: {
                                clube_id: clube.id,
                                total_atletas: 0,
                                pct_provaveis: 0,
                                media_pontos_elenco: null,
                                preco_medio: null,
                                rating: 0,
                                status: 'Erro'
                            }
                        });
                    }
                }

                // 3) Renderizar cards dos clubes
                console.log('[Clubes] 🎨 Renderizando interface...');
                renderizarClubes(clubesComStats);

                // 4) Atualizar sumário
                atualizarSumario(clubesComStats.length, 'Cartola FC');

                console.log('[Clubes] ✅ Painel carregado com sucesso!');

            } catch (error) {
                console.error('[Clubes] ❌ Erro ao carregar dados:', error);
                containerEl.innerHTML = `
                    <div class="error-message">
                        <h3>❌ Erro ao Carregar Dados</h3>
                        <p>Não foi possível carregar os dados dos clubes: ${error.message}</p>
                        <button onclick="carregarEstatisticasClubes()" class="refresh-btn">
                            🔄 Tentar Novamente
                        </button>
                    </div>
                `;
                atualizarSumario(0, 'Erro');
            } finally {
                loadingEl.classList.remove('active');
            }
        }

        function renderizarClubes(clubes) {
            const container = document.getElementById('clubes-container');
            
            // Ordenar clubes por rating (maior primeiro)
            const clubesOrdenados = clubes.sort((a, b) => (b.stats?.rating || 0) - (a.stats?.rating || 0));
            
            container.innerHTML = clubesOrdenados.map(clube => renderCardClube(clube)).join('');
        }

        function renderCardClube(clube) {
            const stats = clube.stats || {};
            const badge = gerarBadgeSugestao(stats);
            const ratingPercent = (stats.rating || 0) * 100;

            return `
                <article class="clube-card">
                    <header class="clube-header">
                        <div>
                            <span class="clube-name">${clube.nome || 'Nome não disponível'}</span>
                            <span class="clube-abrev">(${clube.abreviacao || 'N/A'})</span>
                        </div>
                        ${badge}
                    </header>
                    <div class="clube-stats">
                        <div class="stat-group left">
                            <span class="stat-label">Elenco</span>
                            <span class="stat-value">Total: ${stats.total_atletas || '–'}</span>
                            <span class="stat-value">Prováveis: ${stats.pct_provaveis || '–'}%</span>
                        </div>
                        <div class="stat-group">
                            <span class="stat-label">Força do Elenco</span>
                            <span class="stat-value">${stats.media_pontos_elenco ? stats.media_pontos_elenco.toFixed(1) : '–'}</span>
                            <div class="rating-bar">
                                <div class="rating-fill" style="width: ${ratingPercent}%"></div>
                            </div>
                        </div>
                        <div class="stat-group right">
                            <span class="stat-label">Mercado</span>
                            <span class="stat-value">Preço: ${stats.preco_medio ? 'C$ ' + stats.preco_medio.toFixed(1) : '–'}</span>
                            <div class="status-badge ${stats.status === 'Dados obtidos' ? 'success' : 'error'}">
                                ${stats.status || 'Sem dados'}
                            </div>
                        </div>
                    </div>
                    <footer class="clube-actions">
                        <button type="button" class="btn-detalhes" onclick="verDetalhesClube('${clube.nome}', '${clube.id}')">
                            📊 Ver Detalhes
                        </button>
                    </footer>
                </article>
            `;
        }

        function gerarBadgeSugestao(stats) {
            const rating = stats.rating || 0;
            const pctProvaveis = stats.pct_provaveis || 0;

            if (rating >= 0.65 && pctProvaveis >= 70) {
                return '<span class="clube-badge badge-solido">Elenco Sólido</span>';
            }
            
            if (rating <= 0.40 || pctProvaveis <= 40) {
                return '<span class="clube-badge badge-atencao">Atenção a Desfalques</span>';
            }
            
            return '<span class="clube-badge badge-mediano">Elenco Mediano</span>';
        }

        function atualizarSumario(totalClubes, fonte) {
            document.getElementById('total-clubes').textContent = totalClubes;
            document.getElementById('last-update').textContent = new Date().toLocaleTimeString('pt-BR');
            document.getElementById('data-source').textContent = fonte;
        }

        // LOG DE BOAS-VINDAS MOVIDO PARA DENTRO DO DOMContentLoaded
    </script>

</body>
</html>
